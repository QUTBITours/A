function vI(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function _I(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ax={exports:{}},Tf={},ox={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ou=Symbol.for("react.element"),yI=Symbol.for("react.portal"),xI=Symbol.for("react.fragment"),EI=Symbol.for("react.strict_mode"),wI=Symbol.for("react.profiler"),TI=Symbol.for("react.provider"),SI=Symbol.for("react.context"),AI=Symbol.for("react.forward_ref"),II=Symbol.for("react.suspense"),CI=Symbol.for("react.memo"),kI=Symbol.for("react.lazy"),R1=Symbol.iterator;function RI(t){return t===null||typeof t!="object"?null:(t=R1&&t[R1]||t["@@iterator"],typeof t=="function"?t:null)}var lx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ux=Object.assign,cx={};function Fo(t,e,r){this.props=t,this.context=e,this.refs=cx,this.updater=r||lx}Fo.prototype.isReactComponent={};Fo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hx(){}hx.prototype=Fo.prototype;function Xp(t,e,r){this.props=t,this.context=e,this.refs=cx,this.updater=r||lx}var Yp=Xp.prototype=new hx;Yp.constructor=Xp;ux(Yp,Fo.prototype);Yp.isPureReactComponent=!0;var P1=Array.isArray,fx=Object.prototype.hasOwnProperty,Qp={current:null},dx={key:!0,ref:!0,__self:!0,__source:!0};function px(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)fx.call(e,n)&&!dx.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Ou,type:t,key:s,ref:a,props:i,_owner:Qp.current}}function PI(t,e){return{$$typeof:Ou,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Jp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ou}function NI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var N1=/\/+/g;function k0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NI(""+t.key):e.toString(36)}function Jc(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ou:case yI:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+k0(a,0):n,P1(i)?(r="",t!=null&&(r=t.replace(N1,"$&/")+"/"),Jc(i,e,r,"",function(u){return u})):i!=null&&(Jp(i)&&(i=PI(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(N1,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",P1(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+k0(s,o);a+=Jc(s,e,r,l,i)}else if(l=RI(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+k0(s,o++),a+=Jc(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ec(t,e,r){if(t==null)return t;var n=[],i=0;return Jc(t,n,"","",function(s){return e.call(r,s,i++)}),n}function DI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ar={current:null},Zc={transition:null},OI={ReactCurrentDispatcher:Ar,ReactCurrentBatchConfig:Zc,ReactCurrentOwner:Qp};function mx(){throw Error("act(...) is not supported in production builds of React.")}Me.Children={map:Ec,forEach:function(t,e,r){Ec(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ec(t,function(){e++}),e},toArray:function(t){return Ec(t,function(e){return e})||[]},only:function(t){if(!Jp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=Fo;Me.Fragment=xI;Me.Profiler=wI;Me.PureComponent=Xp;Me.StrictMode=EI;Me.Suspense=II;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OI;Me.act=mx;Me.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=ux({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Qp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)fx.call(e,l)&&!dx.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Ou,type:t.type,key:i,ref:s,props:n,_owner:a}};Me.createContext=function(t){return t={$$typeof:SI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:TI,_context:t},t.Consumer=t};Me.createElement=px;Me.createFactory=function(t){var e=px.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:AI,render:t}};Me.isValidElement=Jp;Me.lazy=function(t){return{$$typeof:kI,_payload:{_status:-1,_result:t},_init:DI}};Me.memo=function(t,e){return{$$typeof:CI,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=Zc.transition;Zc.transition={};try{t()}finally{Zc.transition=e}};Me.unstable_act=mx;Me.useCallback=function(t,e){return Ar.current.useCallback(t,e)};Me.useContext=function(t){return Ar.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return Ar.current.useDeferredValue(t)};Me.useEffect=function(t,e){return Ar.current.useEffect(t,e)};Me.useId=function(){return Ar.current.useId()};Me.useImperativeHandle=function(t,e,r){return Ar.current.useImperativeHandle(t,e,r)};Me.useInsertionEffect=function(t,e){return Ar.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return Ar.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return Ar.current.useMemo(t,e)};Me.useReducer=function(t,e,r){return Ar.current.useReducer(t,e,r)};Me.useRef=function(t){return Ar.current.useRef(t)};Me.useState=function(t){return Ar.current.useState(t)};Me.useSyncExternalStore=function(t,e,r){return Ar.current.useSyncExternalStore(t,e,r)};Me.useTransition=function(){return Ar.current.useTransition()};Me.version="18.3.1";ox.exports=Me;var ee=ox.exports;const FI=_I(ee),LI=vI({__proto__:null,default:FI},[ee]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MI=ee,bI=Symbol.for("react.element"),VI=Symbol.for("react.fragment"),BI=Object.prototype.hasOwnProperty,UI=MI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jI={key:!0,ref:!0,__self:!0,__source:!0};function gx(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)BI.call(e,n)&&!jI.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:bI,type:t,key:s,ref:a,props:i,_owner:UI.current}}Tf.Fragment=VI;Tf.jsx=gx;Tf.jsxs=gx;ax.exports=Tf;var x=ax.exports,vx={exports:{}},Qr={},_x={exports:{}},yx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ce,ye){var Se=ce.length;ce.push(ye);e:for(;0<Se;){var Fe=Se-1>>>1,B=ce[Fe];if(0<i(B,ye))ce[Fe]=ye,ce[Se]=B,Se=Fe;else break e}}function r(ce){return ce.length===0?null:ce[0]}function n(ce){if(ce.length===0)return null;var ye=ce[0],Se=ce.pop();if(Se!==ye){ce[0]=Se;e:for(var Fe=0,B=ce.length,H=B>>>1;Fe<H;){var j=2*(Fe+1)-1,U=ce[j],te=j+1,ge=ce[te];if(0>i(U,Se))te<B&&0>i(ge,U)?(ce[Fe]=ge,ce[te]=Se,Fe=te):(ce[Fe]=U,ce[j]=Se,Fe=j);else if(te<B&&0>i(ge,Se))ce[Fe]=ge,ce[te]=Se,Fe=te;else break e}}return ye}function i(ce,ye){var Se=ce.sortIndex-ye.sortIndex;return Se!==0?Se:ce.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,f=null,d=3,m=!1,y=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(ce){for(var ye=r(u);ye!==null;){if(ye.callback===null)n(u);else if(ye.startTime<=ce)n(u),ye.sortIndex=ye.expirationTime,e(l,ye);else break;ye=r(u)}}function V(ce){if(g=!1,I(ce),!y)if(r(l)!==null)y=!0,mt(z);else{var ye=r(u);ye!==null&&Ge(V,ye.startTime-ce)}}function z(ce,ye){y=!1,g&&(g=!1,S(w),w=-1),m=!0;var Se=d;try{for(I(ye),f=r(l);f!==null&&(!(f.expirationTime>ye)||ce&&!O());){var Fe=f.callback;if(typeof Fe=="function"){f.callback=null,d=f.priorityLevel;var B=Fe(f.expirationTime<=ye);ye=t.unstable_now(),typeof B=="function"?f.callback=B:f===r(l)&&n(l),I(ye)}else n(l);f=r(l)}if(f!==null)var H=!0;else{var j=r(u);j!==null&&Ge(V,j.startTime-ye),H=!1}return H}finally{f=null,d=Se,m=!1}}var X=!1,T=null,w=-1,A=5,k=-1;function O(){return!(t.unstable_now()-k<A)}function b(){if(T!==null){var ce=t.unstable_now();k=ce;var ye=!0;try{ye=T(!0,ce)}finally{ye?N():(X=!1,T=null)}}else X=!1}var N;if(typeof E=="function")N=function(){E(b)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,Ie=De.port2;De.port1.onmessage=b,N=function(){Ie.postMessage(null)}}else N=function(){v(b,0)};function mt(ce){T=ce,X||(X=!0,N())}function Ge(ce,ye){w=v(function(){ce(t.unstable_now())},ye)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ce){ce.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,mt(z))},t.unstable_forceFrameRate=function(ce){0>ce||125<ce?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<ce?Math.floor(1e3/ce):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(ce){switch(d){case 1:case 2:case 3:var ye=3;break;default:ye=d}var Se=d;d=ye;try{return ce()}finally{d=Se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ce,ye){switch(ce){case 1:case 2:case 3:case 4:case 5:break;default:ce=3}var Se=d;d=ce;try{return ye()}finally{d=Se}},t.unstable_scheduleCallback=function(ce,ye,Se){var Fe=t.unstable_now();switch(typeof Se=="object"&&Se!==null?(Se=Se.delay,Se=typeof Se=="number"&&0<Se?Fe+Se:Fe):Se=Fe,ce){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=Se+B,ce={id:h++,callback:ye,priorityLevel:ce,startTime:Se,expirationTime:B,sortIndex:-1},Se>Fe?(ce.sortIndex=Se,e(u,ce),r(l)===null&&ce===r(u)&&(g?(S(w),w=-1):g=!0,Ge(V,Se-Fe))):(ce.sortIndex=B,e(l,ce),y||m||(y=!0,mt(z))),ce},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(ce){var ye=d;return function(){var Se=d;d=ye;try{return ce.apply(this,arguments)}finally{d=Se}}}})(yx);_x.exports=yx;var $I=_x.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zI=ee,Xr=$I;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xx=new Set,Ql={};function ma(t,e){_o(t,e),_o(t+"Capture",e)}function _o(t,e){for(Ql[t]=e,t=0;t<e.length;t++)xx.add(e[t])}var _i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sd=Object.prototype.hasOwnProperty,WI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,D1={},O1={};function HI(t){return Sd.call(O1,t)?!0:Sd.call(D1,t)?!1:WI.test(t)?O1[t]=!0:(D1[t]=!0,!1)}function GI(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KI(t,e,r,n){if(e===null||typeof e>"u"||GI(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ir(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rr[t]=new Ir(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rr[e]=new Ir(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rr[t]=new Ir(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rr[t]=new Ir(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rr[t]=new Ir(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rr[t]=new Ir(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rr[t]=new Ir(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rr[t]=new Ir(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rr[t]=new Ir(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zp=/[\-:]([a-z])/g;function em(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zp,em);rr[e]=new Ir(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zp,em);rr[e]=new Ir(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zp,em);rr[e]=new Ir(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rr[t]=new Ir(t,1,!1,t.toLowerCase(),null,!1,!1)});rr.xlinkHref=new Ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rr[t]=new Ir(t,1,!1,t.toLowerCase(),null,!0,!0)});function tm(t,e,r,n){var i=rr.hasOwnProperty(e)?rr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KI(e,r,i,n)&&(r=null),n||i===null?HI(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ri=zI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wc=Symbol.for("react.element"),za=Symbol.for("react.portal"),Wa=Symbol.for("react.fragment"),rm=Symbol.for("react.strict_mode"),Ad=Symbol.for("react.profiler"),Ex=Symbol.for("react.provider"),wx=Symbol.for("react.context"),nm=Symbol.for("react.forward_ref"),Id=Symbol.for("react.suspense"),Cd=Symbol.for("react.suspense_list"),im=Symbol.for("react.memo"),$i=Symbol.for("react.lazy"),Tx=Symbol.for("react.offscreen"),F1=Symbol.iterator;function ll(t){return t===null||typeof t!="object"?null:(t=F1&&t[F1]||t["@@iterator"],typeof t=="function"?t:null)}var _t=Object.assign,R0;function _l(t){if(R0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);R0=e&&e[1]||""}return`
`+R0+t}var P0=!1;function N0(t,e){if(!t||P0)return"";P0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{P0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?_l(t):""}function qI(t){switch(t.tag){case 5:return _l(t.type);case 16:return _l("Lazy");case 13:return _l("Suspense");case 19:return _l("SuspenseList");case 0:case 2:case 15:return t=N0(t.type,!1),t;case 11:return t=N0(t.type.render,!1),t;case 1:return t=N0(t.type,!0),t;default:return""}}function kd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wa:return"Fragment";case za:return"Portal";case Ad:return"Profiler";case rm:return"StrictMode";case Id:return"Suspense";case Cd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wx:return(t.displayName||"Context")+".Consumer";case Ex:return(t._context.displayName||"Context")+".Provider";case nm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case im:return e=t.displayName||null,e!==null?e:kd(t.type)||"Memo";case $i:e=t._payload,t=t._init;try{return kd(t(e))}catch{}}return null}function XI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kd(e);case 8:return e===rm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YI(t){var e=Sx(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tc(t){t._valueTracker||(t._valueTracker=YI(t))}function Ax(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Sx(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function xh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rd(t,e){var r=e.checked;return _t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function L1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=gs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ix(t,e){e=e.checked,e!=null&&tm(t,"checked",e,!1)}function Pd(t,e){Ix(t,e);var r=gs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nd(t,e.type,r):e.hasOwnProperty("defaultValue")&&Nd(t,e.type,gs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function M1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Nd(t,e,r){(e!=="number"||xh(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var yl=Array.isArray;function no(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+gs(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Dd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return _t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function b1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ae(92));if(yl(r)){if(1<r.length)throw Error(ae(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:gs(r)}}function Cx(t,e){var r=gs(e.value),n=gs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function V1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Od(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sc,Rx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sc=Sc||document.createElement("div"),Sc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Jl(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Rl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QI=["Webkit","ms","Moz","O"];Object.keys(Rl).forEach(function(t){QI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Rl[e]=Rl[t]})});function Px(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Rl.hasOwnProperty(t)&&Rl[t]?(""+e).trim():e+"px"}function Nx(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Px(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var JI=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fd(t,e){if(e){if(JI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function Ld(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Md=null;function sm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bd=null,io=null,so=null;function B1(t){if(t=Mu(t)){if(typeof bd!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=kf(e),bd(t.stateNode,t.type,e))}}function Dx(t){io?so?so.push(t):so=[t]:io=t}function Ox(){if(io){var t=io,e=so;if(so=io=null,B1(t),e)for(t=0;t<e.length;t++)B1(e[t])}}function Fx(t,e){return t(e)}function Lx(){}var D0=!1;function Mx(t,e,r){if(D0)return t(e,r);D0=!0;try{return Fx(t,e,r)}finally{D0=!1,(io!==null||so!==null)&&(Lx(),Ox())}}function Zl(t,e){var r=t.stateNode;if(r===null)return null;var n=kf(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ae(231,e,typeof r));return r}var Vd=!1;if(_i)try{var ul={};Object.defineProperty(ul,"passive",{get:function(){Vd=!0}}),window.addEventListener("test",ul,ul),window.removeEventListener("test",ul,ul)}catch{Vd=!1}function ZI(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(h){this.onError(h)}}var Pl=!1,Eh=null,wh=!1,Bd=null,eC={onError:function(t){Pl=!0,Eh=t}};function tC(t,e,r,n,i,s,a,o,l){Pl=!1,Eh=null,ZI.apply(eC,arguments)}function rC(t,e,r,n,i,s,a,o,l){if(tC.apply(this,arguments),Pl){if(Pl){var u=Eh;Pl=!1,Eh=null}else throw Error(ae(198));wh||(wh=!0,Bd=u)}}function ga(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function bx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function U1(t){if(ga(t)!==t)throw Error(ae(188))}function nC(t){var e=t.alternate;if(!e){if(e=ga(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return U1(i),t;if(s===n)return U1(i),e;s=s.sibling}throw Error(ae(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(ae(189))}}if(r.alternate!==n)throw Error(ae(190))}if(r.tag!==3)throw Error(ae(188));return r.stateNode.current===r?t:e}function Vx(t){return t=nC(t),t!==null?Bx(t):null}function Bx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Bx(t);if(e!==null)return e;t=t.sibling}return null}var Ux=Xr.unstable_scheduleCallback,j1=Xr.unstable_cancelCallback,iC=Xr.unstable_shouldYield,sC=Xr.unstable_requestPaint,At=Xr.unstable_now,aC=Xr.unstable_getCurrentPriorityLevel,am=Xr.unstable_ImmediatePriority,jx=Xr.unstable_UserBlockingPriority,Th=Xr.unstable_NormalPriority,oC=Xr.unstable_LowPriority,$x=Xr.unstable_IdlePriority,Sf=null,Bn=null;function lC(t){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(Sf,t,void 0,(t.current.flags&128)===128)}catch{}}var An=Math.clz32?Math.clz32:hC,uC=Math.log,cC=Math.LN2;function hC(t){return t>>>=0,t===0?32:31-(uC(t)/cC|0)|0}var Ac=64,Ic=4194304;function xl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=xl(o):(s&=a,s!==0&&(n=xl(s)))}else a=r&~i,a!==0?n=xl(a):s!==0&&(n=xl(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-An(e),i=1<<r,n|=t[r],e&=~i;return n}function fC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dC(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-An(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=fC(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Ud(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zx(){var t=Ac;return Ac<<=1,!(Ac&4194240)&&(Ac=64),t}function O0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Fu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-An(e),t[e]=r}function pC(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-An(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function om(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-An(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ze=0;function Wx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Hx,lm,Gx,Kx,qx,jd=!1,Cc=[],is=null,ss=null,as=null,eu=new Map,tu=new Map,Wi=[],mC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $1(t,e){switch(t){case"focusin":case"focusout":is=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":as=null;break;case"pointerover":case"pointerout":eu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":tu.delete(e.pointerId)}}function cl(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Mu(e),e!==null&&lm(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gC(t,e,r,n,i){switch(e){case"focusin":return is=cl(is,t,e,r,n,i),!0;case"dragenter":return ss=cl(ss,t,e,r,n,i),!0;case"mouseover":return as=cl(as,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return eu.set(s,cl(eu.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,tu.set(s,cl(tu.get(s)||null,t,e,r,n,i)),!0}return!1}function Xx(t){var e=Ws(t.target);if(e!==null){var r=ga(e);if(r!==null){if(e=r.tag,e===13){if(e=bx(r),e!==null){t.blockedOn=e,qx(t.priority,function(){Gx(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=$d(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Md=n,r.target.dispatchEvent(n),Md=null}else return e=Mu(r),e!==null&&lm(e),t.blockedOn=r,!1;e.shift()}return!0}function z1(t,e,r){eh(t)&&r.delete(e)}function vC(){jd=!1,is!==null&&eh(is)&&(is=null),ss!==null&&eh(ss)&&(ss=null),as!==null&&eh(as)&&(as=null),eu.forEach(z1),tu.forEach(z1)}function hl(t,e){t.blockedOn===e&&(t.blockedOn=null,jd||(jd=!0,Xr.unstable_scheduleCallback(Xr.unstable_NormalPriority,vC)))}function ru(t){function e(i){return hl(i,t)}if(0<Cc.length){hl(Cc[0],t);for(var r=1;r<Cc.length;r++){var n=Cc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(is!==null&&hl(is,t),ss!==null&&hl(ss,t),as!==null&&hl(as,t),eu.forEach(e),tu.forEach(e),r=0;r<Wi.length;r++)n=Wi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Wi.length&&(r=Wi[0],r.blockedOn===null);)Xx(r),r.blockedOn===null&&Wi.shift()}var ao=Ri.ReactCurrentBatchConfig,Ah=!0;function _C(t,e,r,n){var i=Ze,s=ao.transition;ao.transition=null;try{Ze=1,um(t,e,r,n)}finally{Ze=i,ao.transition=s}}function yC(t,e,r,n){var i=Ze,s=ao.transition;ao.transition=null;try{Ze=4,um(t,e,r,n)}finally{Ze=i,ao.transition=s}}function um(t,e,r,n){if(Ah){var i=$d(t,e,r,n);if(i===null)z0(t,e,n,Ih,r),$1(t,n);else if(gC(i,t,e,r,n))n.stopPropagation();else if($1(t,n),e&4&&-1<mC.indexOf(t)){for(;i!==null;){var s=Mu(i);if(s!==null&&Hx(s),s=$d(t,e,r,n),s===null&&z0(t,e,n,Ih,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else z0(t,e,n,null,r)}}var Ih=null;function $d(t,e,r,n){if(Ih=null,t=sm(n),t=Ws(t),t!==null)if(e=ga(t),e===null)t=null;else if(r=e.tag,r===13){if(t=bx(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ih=t,null}function Yx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aC()){case am:return 1;case jx:return 4;case Th:case oC:return 16;case $x:return 536870912;default:return 16}default:return 16}}var Qi=null,cm=null,th=null;function Qx(){if(th)return th;var t,e=cm,r=e.length,n,i="value"in Qi?Qi.value:Qi.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return th=i.slice(t,1<n?1-n:void 0)}function rh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kc(){return!0}function W1(){return!1}function Jr(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kc:W1,this.isPropagationStopped=W1,this}return _t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kc)},persist:function(){},isPersistent:kc}),e}var Lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hm=Jr(Lo),Lu=_t({},Lo,{view:0,detail:0}),xC=Jr(Lu),F0,L0,fl,Af=_t({},Lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fl&&(fl&&t.type==="mousemove"?(F0=t.screenX-fl.screenX,L0=t.screenY-fl.screenY):L0=F0=0,fl=t),F0)},movementY:function(t){return"movementY"in t?t.movementY:L0}}),H1=Jr(Af),EC=_t({},Af,{dataTransfer:0}),wC=Jr(EC),TC=_t({},Lu,{relatedTarget:0}),M0=Jr(TC),SC=_t({},Lo,{animationName:0,elapsedTime:0,pseudoElement:0}),AC=Jr(SC),IC=_t({},Lo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),CC=Jr(IC),kC=_t({},Lo,{data:0}),G1=Jr(kC),RC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=NC[t])?!!e[t]:!1}function fm(){return DC}var OC=_t({},Lu,{key:function(t){if(t.key){var e=RC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=rh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?PC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fm,charCode:function(t){return t.type==="keypress"?rh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FC=Jr(OC),LC=_t({},Af,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K1=Jr(LC),MC=_t({},Lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fm}),bC=Jr(MC),VC=_t({},Lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),BC=Jr(VC),UC=_t({},Af,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jC=Jr(UC),$C=[9,13,27,32],dm=_i&&"CompositionEvent"in window,Nl=null;_i&&"documentMode"in document&&(Nl=document.documentMode);var zC=_i&&"TextEvent"in window&&!Nl,Jx=_i&&(!dm||Nl&&8<Nl&&11>=Nl),q1=" ",X1=!1;function Zx(t,e){switch(t){case"keyup":return $C.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ha=!1;function WC(t,e){switch(t){case"compositionend":return eE(e);case"keypress":return e.which!==32?null:(X1=!0,q1);case"textInput":return t=e.data,t===q1&&X1?null:t;default:return null}}function HC(t,e){if(Ha)return t==="compositionend"||!dm&&Zx(t,e)?(t=Qx(),th=cm=Qi=null,Ha=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Jx&&e.locale!=="ko"?null:e.data;default:return null}}var GC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Y1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!GC[t.type]:e==="textarea"}function tE(t,e,r,n){Dx(n),e=Ch(e,"onChange"),0<e.length&&(r=new hm("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Dl=null,nu=null;function KC(t){fE(t,0)}function If(t){var e=qa(t);if(Ax(e))return t}function qC(t,e){if(t==="change")return e}var rE=!1;if(_i){var b0;if(_i){var V0="oninput"in document;if(!V0){var Q1=document.createElement("div");Q1.setAttribute("oninput","return;"),V0=typeof Q1.oninput=="function"}b0=V0}else b0=!1;rE=b0&&(!document.documentMode||9<document.documentMode)}function J1(){Dl&&(Dl.detachEvent("onpropertychange",nE),nu=Dl=null)}function nE(t){if(t.propertyName==="value"&&If(nu)){var e=[];tE(e,nu,t,sm(t)),Mx(KC,e)}}function XC(t,e,r){t==="focusin"?(J1(),Dl=e,nu=r,Dl.attachEvent("onpropertychange",nE)):t==="focusout"&&J1()}function YC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return If(nu)}function QC(t,e){if(t==="click")return If(e)}function JC(t,e){if(t==="input"||t==="change")return If(e)}function ZC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kn=typeof Object.is=="function"?Object.is:ZC;function iu(t,e){if(kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Sd.call(e,i)||!kn(t[i],e[i]))return!1}return!0}function Z1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ev(t,e){var r=Z1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Z1(r)}}function iE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sE(){for(var t=window,e=xh();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=xh(t.document)}return e}function pm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function e4(t){var e=sE(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&iE(r.ownerDocument.documentElement,r)){if(n!==null&&pm(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=ev(r,s);var a=ev(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var t4=_i&&"documentMode"in document&&11>=document.documentMode,Ga=null,zd=null,Ol=null,Wd=!1;function tv(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Wd||Ga==null||Ga!==xh(n)||(n=Ga,"selectionStart"in n&&pm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ol&&iu(Ol,n)||(Ol=n,n=Ch(zd,"onSelect"),0<n.length&&(e=new hm("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ga)))}function Rc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ka={animationend:Rc("Animation","AnimationEnd"),animationiteration:Rc("Animation","AnimationIteration"),animationstart:Rc("Animation","AnimationStart"),transitionend:Rc("Transition","TransitionEnd")},B0={},aE={};_i&&(aE=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function Cf(t){if(B0[t])return B0[t];if(!Ka[t])return t;var e=Ka[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in aE)return B0[t]=e[r];return t}var oE=Cf("animationend"),lE=Cf("animationiteration"),uE=Cf("animationstart"),cE=Cf("transitionend"),hE=new Map,rv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(t,e){hE.set(t,e),ma(e,[t])}for(var U0=0;U0<rv.length;U0++){var j0=rv[U0],r4=j0.toLowerCase(),n4=j0[0].toUpperCase()+j0.slice(1);Ss(r4,"on"+n4)}Ss(oE,"onAnimationEnd");Ss(lE,"onAnimationIteration");Ss(uE,"onAnimationStart");Ss("dblclick","onDoubleClick");Ss("focusin","onFocus");Ss("focusout","onBlur");Ss(cE,"onTransitionEnd");_o("onMouseEnter",["mouseout","mouseover"]);_o("onMouseLeave",["mouseout","mouseover"]);_o("onPointerEnter",["pointerout","pointerover"]);_o("onPointerLeave",["pointerout","pointerover"]);ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ma("onBeforeInput",["compositionend","keypress","textInput","paste"]);ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i4=new Set("cancel close invalid load scroll toggle".split(" ").concat(El));function nv(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,rC(n,e,void 0,t),t.currentTarget=null}function fE(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;nv(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;nv(i,o,u),s=l}}}if(wh)throw t=Bd,wh=!1,Bd=null,t}function ut(t,e){var r=e[Xd];r===void 0&&(r=e[Xd]=new Set);var n=t+"__bubble";r.has(n)||(dE(e,t,2,!1),r.add(n))}function $0(t,e,r){var n=0;e&&(n|=4),dE(r,t,n,e)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function su(t){if(!t[Pc]){t[Pc]=!0,xx.forEach(function(r){r!=="selectionchange"&&(i4.has(r)||$0(r,!1,t),$0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pc]||(e[Pc]=!0,$0("selectionchange",!1,e))}}function dE(t,e,r,n){switch(Yx(e)){case 1:var i=_C;break;case 4:i=yC;break;default:i=um}r=i.bind(null,e,r,t),i=void 0,!Vd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function z0(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Ws(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}Mx(function(){var u=s,h=sm(r),f=[];e:{var d=hE.get(t);if(d!==void 0){var m=hm,y=t;switch(t){case"keypress":if(rh(r)===0)break e;case"keydown":case"keyup":m=FC;break;case"focusin":y="focus",m=M0;break;case"focusout":y="blur",m=M0;break;case"beforeblur":case"afterblur":m=M0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=H1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=wC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=bC;break;case oE:case lE:case uE:m=AC;break;case cE:m=BC;break;case"scroll":m=xC;break;case"wheel":m=jC;break;case"copy":case"cut":case"paste":m=CC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=K1}var g=(e&4)!==0,v=!g&&t==="scroll",S=g?d!==null?d+"Capture":null:d;g=[];for(var E=u,I;E!==null;){I=E;var V=I.stateNode;if(I.tag===5&&V!==null&&(I=V,S!==null&&(V=Zl(E,S),V!=null&&g.push(au(E,V,I)))),v)break;E=E.return}0<g.length&&(d=new m(d,y,null,r,h),f.push({event:d,listeners:g}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",d&&r!==Md&&(y=r.relatedTarget||r.fromElement)&&(Ws(y)||y[yi]))break e;if((m||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?Ws(y):null,y!==null&&(v=ga(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(g=H1,V="onMouseLeave",S="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(g=K1,V="onPointerLeave",S="onPointerEnter",E="pointer"),v=m==null?d:qa(m),I=y==null?d:qa(y),d=new g(V,E+"leave",m,r,h),d.target=v,d.relatedTarget=I,V=null,Ws(h)===u&&(g=new g(S,E+"enter",y,r,h),g.target=I,g.relatedTarget=v,V=g),v=V,m&&y)t:{for(g=m,S=y,E=0,I=g;I;I=La(I))E++;for(I=0,V=S;V;V=La(V))I++;for(;0<E-I;)g=La(g),E--;for(;0<I-E;)S=La(S),I--;for(;E--;){if(g===S||S!==null&&g===S.alternate)break t;g=La(g),S=La(S)}g=null}else g=null;m!==null&&iv(f,d,m,g,!1),y!==null&&v!==null&&iv(f,v,y,g,!0)}}e:{if(d=u?qa(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var z=qC;else if(Y1(d))if(rE)z=JC;else{z=YC;var X=XC}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(z=QC);if(z&&(z=z(t,u))){tE(f,z,r,h);break e}X&&X(t,d,u),t==="focusout"&&(X=d._wrapperState)&&X.controlled&&d.type==="number"&&Nd(d,"number",d.value)}switch(X=u?qa(u):window,t){case"focusin":(Y1(X)||X.contentEditable==="true")&&(Ga=X,zd=u,Ol=null);break;case"focusout":Ol=zd=Ga=null;break;case"mousedown":Wd=!0;break;case"contextmenu":case"mouseup":case"dragend":Wd=!1,tv(f,r,h);break;case"selectionchange":if(t4)break;case"keydown":case"keyup":tv(f,r,h)}var T;if(dm)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Ha?Zx(t,r)&&(w="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(w="onCompositionStart");w&&(Jx&&r.locale!=="ko"&&(Ha||w!=="onCompositionStart"?w==="onCompositionEnd"&&Ha&&(T=Qx()):(Qi=h,cm="value"in Qi?Qi.value:Qi.textContent,Ha=!0)),X=Ch(u,w),0<X.length&&(w=new G1(w,t,null,r,h),f.push({event:w,listeners:X}),T?w.data=T:(T=eE(r),T!==null&&(w.data=T)))),(T=zC?WC(t,r):HC(t,r))&&(u=Ch(u,"onBeforeInput"),0<u.length&&(h=new G1("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:u}),h.data=T))}fE(f,e)})}function au(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ch(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Zl(t,r),s!=null&&n.unshift(au(t,s,i)),s=Zl(t,e),s!=null&&n.push(au(t,s,i))),t=t.return}return n}function La(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function iv(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Zl(r,s),l!=null&&a.unshift(au(r,l,o))):i||(l=Zl(r,s),l!=null&&a.push(au(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var s4=/\r\n?/g,a4=/\u0000|\uFFFD/g;function sv(t){return(typeof t=="string"?t:""+t).replace(s4,`
`).replace(a4,"")}function Nc(t,e,r){if(e=sv(e),sv(t)!==e&&r)throw Error(ae(425))}function kh(){}var Hd=null,Gd=null;function Kd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qd=typeof setTimeout=="function"?setTimeout:void 0,o4=typeof clearTimeout=="function"?clearTimeout:void 0,av=typeof Promise=="function"?Promise:void 0,l4=typeof queueMicrotask=="function"?queueMicrotask:typeof av<"u"?function(t){return av.resolve(null).then(t).catch(u4)}:qd;function u4(t){setTimeout(function(){throw t})}function W0(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ru(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ru(e)}function os(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ov(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),Vn="__reactFiber$"+Mo,ou="__reactProps$"+Mo,yi="__reactContainer$"+Mo,Xd="__reactEvents$"+Mo,c4="__reactListeners$"+Mo,h4="__reactHandles$"+Mo;function Ws(t){var e=t[Vn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[yi]||r[Vn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ov(t);t!==null;){if(r=t[Vn])return r;t=ov(t)}return e}t=r,r=t.parentNode}return null}function Mu(t){return t=t[Vn]||t[yi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function qa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function kf(t){return t[ou]||null}var Yd=[],Xa=-1;function As(t){return{current:t}}function ct(t){0>Xa||(t.current=Yd[Xa],Yd[Xa]=null,Xa--)}function at(t,e){Xa++,Yd[Xa]=t.current,t.current=e}var vs={},vr=As(vs),Nr=As(!1),ta=vs;function yo(t,e){var r=t.type.contextTypes;if(!r)return vs;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Dr(t){return t=t.childContextTypes,t!=null}function Rh(){ct(Nr),ct(vr)}function lv(t,e,r){if(vr.current!==vs)throw Error(ae(168));at(vr,e),at(Nr,r)}function pE(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ae(108,XI(t)||"Unknown",i));return _t({},r,n)}function Ph(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vs,ta=vr.current,at(vr,t),at(Nr,Nr.current),!0}function uv(t,e,r){var n=t.stateNode;if(!n)throw Error(ae(169));r?(t=pE(t,e,ta),n.__reactInternalMemoizedMergedChildContext=t,ct(Nr),ct(vr),at(vr,t)):ct(Nr),at(Nr,r)}var ii=null,Rf=!1,H0=!1;function mE(t){ii===null?ii=[t]:ii.push(t)}function f4(t){Rf=!0,mE(t)}function Is(){if(!H0&&ii!==null){H0=!0;var t=0,e=Ze;try{var r=ii;for(Ze=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ii=null,Rf=!1}catch(i){throw ii!==null&&(ii=ii.slice(t+1)),Ux(am,Is),i}finally{Ze=e,H0=!1}}return null}var Ya=[],Qa=0,Nh=null,Dh=0,sn=[],an=0,ra=null,si=1,ai="";function Bs(t,e){Ya[Qa++]=Dh,Ya[Qa++]=Nh,Nh=t,Dh=e}function gE(t,e,r){sn[an++]=si,sn[an++]=ai,sn[an++]=ra,ra=t;var n=si;t=ai;var i=32-An(n)-1;n&=~(1<<i),r+=1;var s=32-An(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,si=1<<32-An(e)+i|r<<i|n,ai=s+t}else si=1<<s|r<<i|n,ai=t}function mm(t){t.return!==null&&(Bs(t,1),gE(t,1,0))}function gm(t){for(;t===Nh;)Nh=Ya[--Qa],Ya[Qa]=null,Dh=Ya[--Qa],Ya[Qa]=null;for(;t===ra;)ra=sn[--an],sn[an]=null,ai=sn[--an],sn[an]=null,si=sn[--an],sn[an]=null}var Kr=null,Gr=null,dt=!1,En=null;function vE(t,e){var r=on(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function cv(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kr=t,Gr=os(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kr=t,Gr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ra!==null?{id:si,overflow:ai}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=on(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Kr=t,Gr=null,!0):!1;default:return!1}}function Qd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jd(t){if(dt){var e=Gr;if(e){var r=e;if(!cv(t,e)){if(Qd(t))throw Error(ae(418));e=os(r.nextSibling);var n=Kr;e&&cv(t,e)?vE(n,r):(t.flags=t.flags&-4097|2,dt=!1,Kr=t)}}else{if(Qd(t))throw Error(ae(418));t.flags=t.flags&-4097|2,dt=!1,Kr=t}}}function hv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kr=t}function Dc(t){if(t!==Kr)return!1;if(!dt)return hv(t),dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kd(t.type,t.memoizedProps)),e&&(e=Gr)){if(Qd(t))throw _E(),Error(ae(418));for(;e;)vE(t,e),e=os(e.nextSibling)}if(hv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Gr=os(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Gr=null}}else Gr=Kr?os(t.stateNode.nextSibling):null;return!0}function _E(){for(var t=Gr;t;)t=os(t.nextSibling)}function xo(){Gr=Kr=null,dt=!1}function vm(t){En===null?En=[t]:En.push(t)}var d4=Ri.ReactCurrentBatchConfig;function dl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ae(309));var n=r.stateNode}if(!n)throw Error(ae(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ae(284));if(!r._owner)throw Error(ae(290,t))}return t}function Oc(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fv(t){var e=t._init;return e(t._payload)}function yE(t){function e(S,E){if(t){var I=S.deletions;I===null?(S.deletions=[E],S.flags|=16):I.push(E)}}function r(S,E){if(!t)return null;for(;E!==null;)e(S,E),E=E.sibling;return null}function n(S,E){for(S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function i(S,E){return S=hs(S,E),S.index=0,S.sibling=null,S}function s(S,E,I){return S.index=I,t?(I=S.alternate,I!==null?(I=I.index,I<E?(S.flags|=2,E):I):(S.flags|=2,E)):(S.flags|=1048576,E)}function a(S){return t&&S.alternate===null&&(S.flags|=2),S}function o(S,E,I,V){return E===null||E.tag!==6?(E=J0(I,S.mode,V),E.return=S,E):(E=i(E,I),E.return=S,E)}function l(S,E,I,V){var z=I.type;return z===Wa?h(S,E,I.props.children,V,I.key):E!==null&&(E.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===$i&&fv(z)===E.type)?(V=i(E,I.props),V.ref=dl(S,E,I),V.return=S,V):(V=uh(I.type,I.key,I.props,null,S.mode,V),V.ref=dl(S,E,I),V.return=S,V)}function u(S,E,I,V){return E===null||E.tag!==4||E.stateNode.containerInfo!==I.containerInfo||E.stateNode.implementation!==I.implementation?(E=Z0(I,S.mode,V),E.return=S,E):(E=i(E,I.children||[]),E.return=S,E)}function h(S,E,I,V,z){return E===null||E.tag!==7?(E=Qs(I,S.mode,V,z),E.return=S,E):(E=i(E,I),E.return=S,E)}function f(S,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return E=J0(""+E,S.mode,I),E.return=S,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case wc:return I=uh(E.type,E.key,E.props,null,S.mode,I),I.ref=dl(S,null,E),I.return=S,I;case za:return E=Z0(E,S.mode,I),E.return=S,E;case $i:var V=E._init;return f(S,V(E._payload),I)}if(yl(E)||ll(E))return E=Qs(E,S.mode,I,null),E.return=S,E;Oc(S,E)}return null}function d(S,E,I,V){var z=E!==null?E.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return z!==null?null:o(S,E,""+I,V);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case wc:return I.key===z?l(S,E,I,V):null;case za:return I.key===z?u(S,E,I,V):null;case $i:return z=I._init,d(S,E,z(I._payload),V)}if(yl(I)||ll(I))return z!==null?null:h(S,E,I,V,null);Oc(S,I)}return null}function m(S,E,I,V,z){if(typeof V=="string"&&V!==""||typeof V=="number")return S=S.get(I)||null,o(E,S,""+V,z);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case wc:return S=S.get(V.key===null?I:V.key)||null,l(E,S,V,z);case za:return S=S.get(V.key===null?I:V.key)||null,u(E,S,V,z);case $i:var X=V._init;return m(S,E,I,X(V._payload),z)}if(yl(V)||ll(V))return S=S.get(I)||null,h(E,S,V,z,null);Oc(E,V)}return null}function y(S,E,I,V){for(var z=null,X=null,T=E,w=E=0,A=null;T!==null&&w<I.length;w++){T.index>w?(A=T,T=null):A=T.sibling;var k=d(S,T,I[w],V);if(k===null){T===null&&(T=A);break}t&&T&&k.alternate===null&&e(S,T),E=s(k,E,w),X===null?z=k:X.sibling=k,X=k,T=A}if(w===I.length)return r(S,T),dt&&Bs(S,w),z;if(T===null){for(;w<I.length;w++)T=f(S,I[w],V),T!==null&&(E=s(T,E,w),X===null?z=T:X.sibling=T,X=T);return dt&&Bs(S,w),z}for(T=n(S,T);w<I.length;w++)A=m(T,S,w,I[w],V),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?w:A.key),E=s(A,E,w),X===null?z=A:X.sibling=A,X=A);return t&&T.forEach(function(O){return e(S,O)}),dt&&Bs(S,w),z}function g(S,E,I,V){var z=ll(I);if(typeof z!="function")throw Error(ae(150));if(I=z.call(I),I==null)throw Error(ae(151));for(var X=z=null,T=E,w=E=0,A=null,k=I.next();T!==null&&!k.done;w++,k=I.next()){T.index>w?(A=T,T=null):A=T.sibling;var O=d(S,T,k.value,V);if(O===null){T===null&&(T=A);break}t&&T&&O.alternate===null&&e(S,T),E=s(O,E,w),X===null?z=O:X.sibling=O,X=O,T=A}if(k.done)return r(S,T),dt&&Bs(S,w),z;if(T===null){for(;!k.done;w++,k=I.next())k=f(S,k.value,V),k!==null&&(E=s(k,E,w),X===null?z=k:X.sibling=k,X=k);return dt&&Bs(S,w),z}for(T=n(S,T);!k.done;w++,k=I.next())k=m(T,S,w,k.value,V),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?w:k.key),E=s(k,E,w),X===null?z=k:X.sibling=k,X=k);return t&&T.forEach(function(b){return e(S,b)}),dt&&Bs(S,w),z}function v(S,E,I,V){if(typeof I=="object"&&I!==null&&I.type===Wa&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case wc:e:{for(var z=I.key,X=E;X!==null;){if(X.key===z){if(z=I.type,z===Wa){if(X.tag===7){r(S,X.sibling),E=i(X,I.props.children),E.return=S,S=E;break e}}else if(X.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===$i&&fv(z)===X.type){r(S,X.sibling),E=i(X,I.props),E.ref=dl(S,X,I),E.return=S,S=E;break e}r(S,X);break}else e(S,X);X=X.sibling}I.type===Wa?(E=Qs(I.props.children,S.mode,V,I.key),E.return=S,S=E):(V=uh(I.type,I.key,I.props,null,S.mode,V),V.ref=dl(S,E,I),V.return=S,S=V)}return a(S);case za:e:{for(X=I.key;E!==null;){if(E.key===X)if(E.tag===4&&E.stateNode.containerInfo===I.containerInfo&&E.stateNode.implementation===I.implementation){r(S,E.sibling),E=i(E,I.children||[]),E.return=S,S=E;break e}else{r(S,E);break}else e(S,E);E=E.sibling}E=Z0(I,S.mode,V),E.return=S,S=E}return a(S);case $i:return X=I._init,v(S,E,X(I._payload),V)}if(yl(I))return y(S,E,I,V);if(ll(I))return g(S,E,I,V);Oc(S,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,E!==null&&E.tag===6?(r(S,E.sibling),E=i(E,I),E.return=S,S=E):(r(S,E),E=J0(I,S.mode,V),E.return=S,S=E),a(S)):r(S,E)}return v}var Eo=yE(!0),xE=yE(!1),Oh=As(null),Fh=null,Ja=null,_m=null;function ym(){_m=Ja=Fh=null}function xm(t){var e=Oh.current;ct(Oh),t._currentValue=e}function Zd(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function oo(t,e){Fh=t,_m=Ja=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pr=!0),t.firstContext=null)}function cn(t){var e=t._currentValue;if(_m!==t)if(t={context:t,memoizedValue:e,next:null},Ja===null){if(Fh===null)throw Error(ae(308));Ja=t,Fh.dependencies={lanes:0,firstContext:t}}else Ja=Ja.next=t;return e}var Hs=null;function Em(t){Hs===null?Hs=[t]:Hs.push(t)}function EE(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Em(e)):(r.next=i.next,i.next=r),e.interleaved=r,xi(t,n)}function xi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var zi=!1;function wm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ls(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,je&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,xi(t,r)}return i=n.interleaved,i===null?(e.next=e,Em(n)):(e.next=i.next,i.next=e),n.interleaved=e,xi(t,r)}function nh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,om(t,r)}}function dv(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Lh(t,e,r,n){var i=t.updateQueue;zi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,h=u=l=null,o=s;do{var d=o.lane,m=o.eventTime;if((n&d)===d){h!==null&&(h=h.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,g=o;switch(d=e,m=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(m,f,d);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,d=typeof y=="function"?y.call(m,f,d):y,d==null)break e;f=_t({},f,d);break e;case 2:zi=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else m={eventTime:m,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=m,l=f):h=h.next=m,a|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ia|=a,t.lanes=a,t.memoizedState=f}}function pv(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ae(191,i));i.call(n)}}}var bu={},Un=As(bu),lu=As(bu),uu=As(bu);function Gs(t){if(t===bu)throw Error(ae(174));return t}function Tm(t,e){switch(at(uu,e),at(lu,t),at(Un,bu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Od(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Od(e,t)}ct(Un),at(Un,e)}function wo(){ct(Un),ct(lu),ct(uu)}function TE(t){Gs(uu.current);var e=Gs(Un.current),r=Od(e,t.type);e!==r&&(at(lu,t),at(Un,r))}function Sm(t){lu.current===t&&(ct(Un),ct(lu))}var gt=As(0);function Mh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var G0=[];function Am(){for(var t=0;t<G0.length;t++)G0[t]._workInProgressVersionPrimary=null;G0.length=0}var ih=Ri.ReactCurrentDispatcher,K0=Ri.ReactCurrentBatchConfig,na=0,vt=null,Mt=null,Ut=null,bh=!1,Fl=!1,cu=0,p4=0;function or(){throw Error(ae(321))}function Im(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!kn(t[r],e[r]))return!1;return!0}function Cm(t,e,r,n,i,s){if(na=s,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ih.current=t===null||t.memoizedState===null?_4:y4,t=r(n,i),Fl){s=0;do{if(Fl=!1,cu=0,25<=s)throw Error(ae(301));s+=1,Ut=Mt=null,e.updateQueue=null,ih.current=x4,t=r(n,i)}while(Fl)}if(ih.current=Vh,e=Mt!==null&&Mt.next!==null,na=0,Ut=Mt=vt=null,bh=!1,e)throw Error(ae(300));return t}function km(){var t=cu!==0;return cu=0,t}function Mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?vt.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function hn(){if(Mt===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Mt.next;var e=Ut===null?vt.memoizedState:Ut.next;if(e!==null)Ut=e,Mt=t;else{if(t===null)throw Error(ae(310));Mt=t,t={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Ut===null?vt.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function hu(t,e){return typeof e=="function"?e(t):e}function q0(t){var e=hn(),r=e.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=t;var n=Mt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var h=u.lane;if((na&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,a=n):l=l.next=f,vt.lanes|=h,ia|=h}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,kn(n,e.memoizedState)||(Pr=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,vt.lanes|=s,ia|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function X0(t){var e=hn(),r=e.queue;if(r===null)throw Error(ae(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);kn(s,e.memoizedState)||(Pr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function SE(){}function AE(t,e){var r=vt,n=hn(),i=e(),s=!kn(n.memoizedState,i);if(s&&(n.memoizedState=i,Pr=!0),n=n.queue,Rm(kE.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Ut!==null&&Ut.memoizedState.tag&1){if(r.flags|=2048,fu(9,CE.bind(null,r,n,i,e),void 0,null),Wt===null)throw Error(ae(349));na&30||IE(r,e,i)}return i}function IE(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function CE(t,e,r,n){e.value=r,e.getSnapshot=n,RE(e)&&PE(t)}function kE(t,e,r){return r(function(){RE(e)&&PE(t)})}function RE(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!kn(t,r)}catch{return!0}}function PE(t){var e=xi(t,1);e!==null&&In(e,t,1,-1)}function mv(t){var e=Mn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hu,lastRenderedState:t},e.queue=t,t=t.dispatch=v4.bind(null,vt,t),[e.memoizedState,t]}function fu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function NE(){return hn().memoizedState}function sh(t,e,r,n){var i=Mn();vt.flags|=t,i.memoizedState=fu(1|e,r,void 0,n===void 0?null:n)}function Pf(t,e,r,n){var i=hn();n=n===void 0?null:n;var s=void 0;if(Mt!==null){var a=Mt.memoizedState;if(s=a.destroy,n!==null&&Im(n,a.deps)){i.memoizedState=fu(e,r,s,n);return}}vt.flags|=t,i.memoizedState=fu(1|e,r,s,n)}function gv(t,e){return sh(8390656,8,t,e)}function Rm(t,e){return Pf(2048,8,t,e)}function DE(t,e){return Pf(4,2,t,e)}function OE(t,e){return Pf(4,4,t,e)}function FE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function LE(t,e,r){return r=r!=null?r.concat([t]):null,Pf(4,4,FE.bind(null,e,t),r)}function Pm(){}function ME(t,e){var r=hn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Im(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function bE(t,e){var r=hn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Im(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function VE(t,e,r){return na&21?(kn(r,e)||(r=zx(),vt.lanes|=r,ia|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pr=!0),t.memoizedState=r)}function m4(t,e){var r=Ze;Ze=r!==0&&4>r?r:4,t(!0);var n=K0.transition;K0.transition={};try{t(!1),e()}finally{Ze=r,K0.transition=n}}function BE(){return hn().memoizedState}function g4(t,e,r){var n=cs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},UE(t))jE(e,r);else if(r=EE(t,e,r,n),r!==null){var i=Tr();In(r,t,n,i),$E(r,e,n)}}function v4(t,e,r){var n=cs(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(UE(t))jE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,kn(o,a)){var l=e.interleaved;l===null?(i.next=i,Em(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=EE(t,e,i,n),r!==null&&(i=Tr(),In(r,t,n,i),$E(r,e,n))}}function UE(t){var e=t.alternate;return t===vt||e!==null&&e===vt}function jE(t,e){Fl=bh=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function $E(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,om(t,r)}}var Vh={readContext:cn,useCallback:or,useContext:or,useEffect:or,useImperativeHandle:or,useInsertionEffect:or,useLayoutEffect:or,useMemo:or,useReducer:or,useRef:or,useState:or,useDebugValue:or,useDeferredValue:or,useTransition:or,useMutableSource:or,useSyncExternalStore:or,useId:or,unstable_isNewReconciler:!1},_4={readContext:cn,useCallback:function(t,e){return Mn().memoizedState=[t,e===void 0?null:e],t},useContext:cn,useEffect:gv,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,sh(4194308,4,FE.bind(null,e,t),r)},useLayoutEffect:function(t,e){return sh(4194308,4,t,e)},useInsertionEffect:function(t,e){return sh(4,2,t,e)},useMemo:function(t,e){var r=Mn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Mn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=g4.bind(null,vt,t),[n.memoizedState,t]},useRef:function(t){var e=Mn();return t={current:t},e.memoizedState=t},useState:mv,useDebugValue:Pm,useDeferredValue:function(t){return Mn().memoizedState=t},useTransition:function(){var t=mv(!1),e=t[0];return t=m4.bind(null,t[1]),Mn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=vt,i=Mn();if(dt){if(r===void 0)throw Error(ae(407));r=r()}else{if(r=e(),Wt===null)throw Error(ae(349));na&30||IE(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,gv(kE.bind(null,n,s,t),[t]),n.flags|=2048,fu(9,CE.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Mn(),e=Wt.identifierPrefix;if(dt){var r=ai,n=si;r=(n&~(1<<32-An(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=cu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=p4++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},y4={readContext:cn,useCallback:ME,useContext:cn,useEffect:Rm,useImperativeHandle:LE,useInsertionEffect:DE,useLayoutEffect:OE,useMemo:bE,useReducer:q0,useRef:NE,useState:function(){return q0(hu)},useDebugValue:Pm,useDeferredValue:function(t){var e=hn();return VE(e,Mt.memoizedState,t)},useTransition:function(){var t=q0(hu)[0],e=hn().memoizedState;return[t,e]},useMutableSource:SE,useSyncExternalStore:AE,useId:BE,unstable_isNewReconciler:!1},x4={readContext:cn,useCallback:ME,useContext:cn,useEffect:Rm,useImperativeHandle:LE,useInsertionEffect:DE,useLayoutEffect:OE,useMemo:bE,useReducer:X0,useRef:NE,useState:function(){return X0(hu)},useDebugValue:Pm,useDeferredValue:function(t){var e=hn();return Mt===null?e.memoizedState=t:VE(e,Mt.memoizedState,t)},useTransition:function(){var t=X0(hu)[0],e=hn().memoizedState;return[t,e]},useMutableSource:SE,useSyncExternalStore:AE,useId:BE,unstable_isNewReconciler:!1};function yn(t,e){if(t&&t.defaultProps){e=_t({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function ep(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:_t({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Nf={isMounted:function(t){return(t=t._reactInternals)?ga(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Tr(),i=cs(t),s=fi(n,i);s.payload=e,r!=null&&(s.callback=r),e=ls(t,s,i),e!==null&&(In(e,t,i,n),nh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Tr(),i=cs(t),s=fi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=ls(t,s,i),e!==null&&(In(e,t,i,n),nh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Tr(),n=cs(t),i=fi(r,n);i.tag=2,e!=null&&(i.callback=e),e=ls(t,i,n),e!==null&&(In(e,t,n,r),nh(e,t,n))}};function vv(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!iu(r,n)||!iu(i,s):!0}function zE(t,e,r){var n=!1,i=vs,s=e.contextType;return typeof s=="object"&&s!==null?s=cn(s):(i=Dr(e)?ta:vr.current,n=e.contextTypes,s=(n=n!=null)?yo(t,i):vs),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Nf,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function _v(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Nf.enqueueReplaceState(e,e.state,null)}function tp(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},wm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=cn(s):(s=Dr(e)?ta:vr.current,i.context=yo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ep(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Nf.enqueueReplaceState(i,i.state,null),Lh(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function To(t,e){try{var r="",n=e;do r+=qI(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Y0(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function rp(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var E4=typeof WeakMap=="function"?WeakMap:Map;function WE(t,e,r){r=fi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Uh||(Uh=!0,fp=n),rp(t,e)},r}function HE(t,e,r){r=fi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){rp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){rp(t,e),typeof n!="function"&&(us===null?us=new Set([this]):us.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function yv(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new E4;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=L4.bind(null,t,e,r),e.then(t,t))}function xv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ev(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=fi(-1,1),e.tag=2,ls(r,e,1))),r.lanes|=1),t)}var w4=Ri.ReactCurrentOwner,Pr=!1;function yr(t,e,r,n){e.child=t===null?xE(e,null,r,n):Eo(e,t.child,r,n)}function wv(t,e,r,n,i){r=r.render;var s=e.ref;return oo(e,i),n=Cm(t,e,r,n,s,i),r=km(),t!==null&&!Pr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ei(t,e,i)):(dt&&r&&mm(e),e.flags|=1,yr(t,e,n,i),e.child)}function Tv(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Vm(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,GE(t,e,s,n,i)):(t=uh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:iu,r(a,n)&&t.ref===e.ref)return Ei(t,e,i)}return e.flags|=1,t=hs(s,n),t.ref=e.ref,t.return=e,e.child=t}function GE(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(iu(s,n)&&t.ref===e.ref)if(Pr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Pr=!0);else return e.lanes=t.lanes,Ei(t,e,i)}return np(t,e,r,n,i)}function KE(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(eo,$r),$r|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,at(eo,$r),$r|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,at(eo,$r),$r|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,at(eo,$r),$r|=n;return yr(t,e,i,r),e.child}function qE(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function np(t,e,r,n,i){var s=Dr(r)?ta:vr.current;return s=yo(e,s),oo(e,i),r=Cm(t,e,r,n,s,i),n=km(),t!==null&&!Pr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ei(t,e,i)):(dt&&n&&mm(e),e.flags|=1,yr(t,e,r,i),e.child)}function Sv(t,e,r,n,i){if(Dr(r)){var s=!0;Ph(e)}else s=!1;if(oo(e,i),e.stateNode===null)ah(t,e),zE(e,r,n),tp(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=cn(u):(u=Dr(r)?ta:vr.current,u=yo(e,u));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&_v(e,a,n,u),zi=!1;var d=e.memoizedState;a.state=d,Lh(e,n,a,i),l=e.memoizedState,o!==n||d!==l||Nr.current||zi?(typeof h=="function"&&(ep(e,r,h,n),l=e.memoizedState),(o=zi||vv(e,r,o,n,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,wE(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:yn(e.type,o),a.props=u,f=e.pendingProps,d=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=cn(l):(l=Dr(r)?ta:vr.current,l=yo(e,l));var m=r.getDerivedStateFromProps;(h=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||d!==l)&&_v(e,a,n,l),zi=!1,d=e.memoizedState,a.state=d,Lh(e,n,a,i);var y=e.memoizedState;o!==f||d!==y||Nr.current||zi?(typeof m=="function"&&(ep(e,r,m,n),y=e.memoizedState),(u=zi||vv(e,r,u,n,d,y,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),a.props=n,a.state=y,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return ip(t,e,r,n,s,i)}function ip(t,e,r,n,i,s){qE(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&uv(e,r,!1),Ei(t,e,s);n=e.stateNode,w4.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Eo(e,t.child,null,s),e.child=Eo(e,null,o,s)):yr(t,e,o,s),e.memoizedState=n.state,i&&uv(e,r,!0),e.child}function XE(t){var e=t.stateNode;e.pendingContext?lv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lv(t,e.context,!1),Tm(t,e.containerInfo)}function Av(t,e,r,n,i){return xo(),vm(i),e.flags|=256,yr(t,e,r,n),e.child}var sp={dehydrated:null,treeContext:null,retryLane:0};function ap(t){return{baseLanes:t,cachePool:null,transitions:null}}function YE(t,e,r){var n=e.pendingProps,i=gt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),at(gt,i&1),t===null)return Jd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Ff(a,n,0,null),t=Qs(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ap(r),e.memoizedState=sp,t):Nm(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return T4(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=hs(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=hs(o,s):(s=Qs(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?ap(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=sp,n}return s=t.child,t=s.sibling,n=hs(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Nm(t,e){return e=Ff({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fc(t,e,r,n){return n!==null&&vm(n),Eo(e,t.child,null,r),t=Nm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function T4(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Y0(Error(ae(422))),Fc(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Ff({mode:"visible",children:n.children},i,0,null),s=Qs(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Eo(e,t.child,null,a),e.child.memoizedState=ap(a),e.memoizedState=sp,s);if(!(e.mode&1))return Fc(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(ae(419)),n=Y0(s,n,void 0),Fc(t,e,a,n)}if(o=(a&t.childLanes)!==0,Pr||o){if(n=Wt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xi(t,i),In(n,t,i,-1))}return bm(),n=Y0(Error(ae(421))),Fc(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=M4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Gr=os(i.nextSibling),Kr=e,dt=!0,En=null,t!==null&&(sn[an++]=si,sn[an++]=ai,sn[an++]=ra,si=t.id,ai=t.overflow,ra=e),e=Nm(e,n.children),e.flags|=4096,e)}function Iv(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Zd(t.return,e,r)}function Q0(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function QE(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(yr(t,e,n.children,r),n=gt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Iv(t,r,e);else if(t.tag===19)Iv(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(at(gt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Mh(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Q0(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Mh(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Q0(e,!0,r,null,s);break;case"together":Q0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ah(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ei(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ia|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,r=hs(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=hs(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function S4(t,e,r){switch(e.tag){case 3:XE(e),xo();break;case 5:TE(e);break;case 1:Dr(e.type)&&Ph(e);break;case 4:Tm(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;at(Oh,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(at(gt,gt.current&1),e.flags|=128,null):r&e.child.childLanes?YE(t,e,r):(at(gt,gt.current&1),t=Ei(t,e,r),t!==null?t.sibling:null);at(gt,gt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return QE(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),at(gt,gt.current),n)break;return null;case 22:case 23:return e.lanes=0,KE(t,e,r)}return Ei(t,e,r)}var JE,op,ZE,ew;JE=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};op=function(){};ZE=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Gs(Un.current);var s=null;switch(r){case"input":i=Rd(t,i),n=Rd(t,n),s=[];break;case"select":i=_t({},i,{value:void 0}),n=_t({},n,{value:void 0}),s=[];break;case"textarea":i=Dd(t,i),n=Dd(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=kh)}Fd(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ql.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ql.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ut("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};ew=function(t,e,r,n){r!==n&&(e.flags|=4)};function pl(t,e){if(!dt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function lr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function A4(t,e,r){var n=e.pendingProps;switch(gm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lr(e),null;case 1:return Dr(e.type)&&Rh(),lr(e),null;case 3:return n=e.stateNode,wo(),ct(Nr),ct(vr),Am(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Dc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,En!==null&&(mp(En),En=null))),op(t,e),lr(e),null;case 5:Sm(e);var i=Gs(uu.current);if(r=e.type,t!==null&&e.stateNode!=null)ZE(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ae(166));return lr(e),null}if(t=Gs(Un.current),Dc(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Vn]=e,n[ou]=s,t=(e.mode&1)!==0,r){case"dialog":ut("cancel",n),ut("close",n);break;case"iframe":case"object":case"embed":ut("load",n);break;case"video":case"audio":for(i=0;i<El.length;i++)ut(El[i],n);break;case"source":ut("error",n);break;case"img":case"image":case"link":ut("error",n),ut("load",n);break;case"details":ut("toggle",n);break;case"input":L1(n,s),ut("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ut("invalid",n);break;case"textarea":b1(n,s),ut("invalid",n)}Fd(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Nc(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Nc(n.textContent,o,t),i=["children",""+o]):Ql.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ut("scroll",n)}switch(r){case"input":Tc(n),M1(n,s,!0);break;case"textarea":Tc(n),V1(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=kh)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kx(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Vn]=e,t[ou]=n,JE(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ld(r,n),r){case"dialog":ut("cancel",t),ut("close",t),i=n;break;case"iframe":case"object":case"embed":ut("load",t),i=n;break;case"video":case"audio":for(i=0;i<El.length;i++)ut(El[i],t);i=n;break;case"source":ut("error",t),i=n;break;case"img":case"image":case"link":ut("error",t),ut("load",t),i=n;break;case"details":ut("toggle",t),i=n;break;case"input":L1(t,n),i=Rd(t,n),ut("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=_t({},n,{value:void 0}),ut("invalid",t);break;case"textarea":b1(t,n),i=Dd(t,n),ut("invalid",t);break;default:i=n}Fd(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Nx(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Rx(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Jl(t,l):typeof l=="number"&&Jl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ql.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ut("scroll",t):l!=null&&tm(t,s,l,a))}switch(r){case"input":Tc(t),M1(t,n,!1);break;case"textarea":Tc(t),V1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+gs(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?no(t,!!n.multiple,s,!1):n.defaultValue!=null&&no(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=kh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lr(e),null;case 6:if(t&&e.stateNode!=null)ew(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ae(166));if(r=Gs(uu.current),Gs(Un.current),Dc(e)){if(n=e.stateNode,r=e.memoizedProps,n[Vn]=e,(s=n.nodeValue!==r)&&(t=Kr,t!==null))switch(t.tag){case 3:Nc(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Nc(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Vn]=e,e.stateNode=n}return lr(e),null;case 13:if(ct(gt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dt&&Gr!==null&&e.mode&1&&!(e.flags&128))_E(),xo(),e.flags|=98560,s=!1;else if(s=Dc(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(ae(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ae(317));s[Vn]=e}else xo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lr(e),s=!1}else En!==null&&(mp(En),En=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||gt.current&1?Vt===0&&(Vt=3):bm())),e.updateQueue!==null&&(e.flags|=4),lr(e),null);case 4:return wo(),op(t,e),t===null&&su(e.stateNode.containerInfo),lr(e),null;case 10:return xm(e.type._context),lr(e),null;case 17:return Dr(e.type)&&Rh(),lr(e),null;case 19:if(ct(gt),s=e.memoizedState,s===null)return lr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)pl(s,!1);else{if(Vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Mh(t),a!==null){for(e.flags|=128,pl(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return at(gt,gt.current&1|2),e.child}t=t.sibling}s.tail!==null&&At()>So&&(e.flags|=128,n=!0,pl(s,!1),e.lanes=4194304)}else{if(!n)if(t=Mh(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),pl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!dt)return lr(e),null}else 2*At()-s.renderingStartTime>So&&r!==1073741824&&(e.flags|=128,n=!0,pl(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=At(),e.sibling=null,r=gt.current,at(gt,n?r&1|2:r&1),e):(lr(e),null);case 22:case 23:return Mm(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?$r&1073741824&&(lr(e),e.subtreeFlags&6&&(e.flags|=8192)):lr(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function I4(t,e){switch(gm(e),e.tag){case 1:return Dr(e.type)&&Rh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wo(),ct(Nr),ct(vr),Am(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sm(e),null;case 13:if(ct(gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));xo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ct(gt),null;case 4:return wo(),null;case 10:return xm(e.type._context),null;case 22:case 23:return Mm(),null;case 24:return null;default:return null}}var Lc=!1,hr=!1,C4=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Za(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Et(t,e,n)}else r.current=null}function lp(t,e,r){try{r()}catch(n){Et(t,e,n)}}var Cv=!1;function k4(t,e){if(Hd=Ah,t=sE(),pm(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,h=0,f=t,d=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(o=a+i),f!==s||n!==0&&f.nodeType!==3||(l=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===t)break t;if(d===r&&++u===i&&(o=a),d===s&&++h===n&&(l=a),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Gd={focusedElem:t,selectionRange:r},Ah=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){e=ve;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,v=y.memoizedState,S=e.stateNode,E=S.getSnapshotBeforeUpdate(e.elementType===e.type?g:yn(e.type,g),v);S.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(V){Et(e,e.return,V)}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}return y=Cv,Cv=!1,y}function Ll(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&lp(e,r,s)}i=i.next}while(i!==n)}}function Df(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function up(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function tw(t){var e=t.alternate;e!==null&&(t.alternate=null,tw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vn],delete e[ou],delete e[Xd],delete e[c4],delete e[h4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rw(t){return t.tag===5||t.tag===3||t.tag===4}function kv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=kh));else if(n!==4&&(t=t.child,t!==null))for(cp(t,e,r),t=t.sibling;t!==null;)cp(t,e,r),t=t.sibling}function hp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(hp(t,e,r),t=t.sibling;t!==null;)hp(t,e,r),t=t.sibling}var qt=null,xn=!1;function bi(t,e,r){for(r=r.child;r!==null;)nw(t,e,r),r=r.sibling}function nw(t,e,r){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(Sf,r)}catch{}switch(r.tag){case 5:hr||Za(r,e);case 6:var n=qt,i=xn;qt=null,bi(t,e,r),qt=n,xn=i,qt!==null&&(xn?(t=qt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):qt.removeChild(r.stateNode));break;case 18:qt!==null&&(xn?(t=qt,r=r.stateNode,t.nodeType===8?W0(t.parentNode,r):t.nodeType===1&&W0(t,r),ru(t)):W0(qt,r.stateNode));break;case 4:n=qt,i=xn,qt=r.stateNode.containerInfo,xn=!0,bi(t,e,r),qt=n,xn=i;break;case 0:case 11:case 14:case 15:if(!hr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&lp(r,e,a),i=i.next}while(i!==n)}bi(t,e,r);break;case 1:if(!hr&&(Za(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Et(r,e,o)}bi(t,e,r);break;case 21:bi(t,e,r);break;case 22:r.mode&1?(hr=(n=hr)||r.memoizedState!==null,bi(t,e,r),hr=n):bi(t,e,r);break;default:bi(t,e,r)}}function Rv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new C4),e.forEach(function(n){var i=b4.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function gn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:qt=o.stateNode,xn=!1;break e;case 3:qt=o.stateNode.containerInfo,xn=!0;break e;case 4:qt=o.stateNode.containerInfo,xn=!0;break e}o=o.return}if(qt===null)throw Error(ae(160));nw(s,a,i),qt=null,xn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Et(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iw(e,t),e=e.sibling}function iw(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gn(e,t),On(t),n&4){try{Ll(3,t,t.return),Df(3,t)}catch(g){Et(t,t.return,g)}try{Ll(5,t,t.return)}catch(g){Et(t,t.return,g)}}break;case 1:gn(e,t),On(t),n&512&&r!==null&&Za(r,r.return);break;case 5:if(gn(e,t),On(t),n&512&&r!==null&&Za(r,r.return),t.flags&32){var i=t.stateNode;try{Jl(i,"")}catch(g){Et(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Ix(i,s),Ld(o,a);var u=Ld(o,s);for(a=0;a<l.length;a+=2){var h=l[a],f=l[a+1];h==="style"?Nx(i,f):h==="dangerouslySetInnerHTML"?Rx(i,f):h==="children"?Jl(i,f):tm(i,h,f,u)}switch(o){case"input":Pd(i,s);break;case"textarea":Cx(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?no(i,!!s.multiple,m,!1):d!==!!s.multiple&&(s.defaultValue!=null?no(i,!!s.multiple,s.defaultValue,!0):no(i,!!s.multiple,s.multiple?[]:"",!1))}i[ou]=s}catch(g){Et(t,t.return,g)}}break;case 6:if(gn(e,t),On(t),n&4){if(t.stateNode===null)throw Error(ae(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Et(t,t.return,g)}}break;case 3:if(gn(e,t),On(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ru(e.containerInfo)}catch(g){Et(t,t.return,g)}break;case 4:gn(e,t),On(t);break;case 13:gn(e,t),On(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fm=At())),n&4&&Rv(t);break;case 22:if(h=r!==null&&r.memoizedState!==null,t.mode&1?(hr=(u=hr)||h,gn(e,t),hr=u):gn(e,t),On(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ve=t,h=t.child;h!==null;){for(f=ve=h;ve!==null;){switch(d=ve,m=d.child,d.tag){case 0:case 11:case 14:case 15:Ll(4,d,d.return);break;case 1:Za(d,d.return);var y=d.stateNode;if(typeof y.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){Et(n,r,g)}}break;case 5:Za(d,d.return);break;case 22:if(d.memoizedState!==null){Nv(f);continue}}m!==null?(m.return=d,ve=m):Nv(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Px("display",a))}catch(g){Et(t,t.return,g)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Et(t,t.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gn(e,t),On(t),n&4&&Rv(t);break;case 21:break;default:gn(e,t),On(t)}}function On(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(rw(r)){var n=r;break e}r=r.return}throw Error(ae(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Jl(i,""),n.flags&=-33);var s=kv(t);hp(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=kv(t);cp(t,o,a);break;default:throw Error(ae(161))}}catch(l){Et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function R4(t,e,r){ve=t,sw(t)}function sw(t,e,r){for(var n=(t.mode&1)!==0;ve!==null;){var i=ve,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Lc;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||hr;o=Lc;var u=hr;if(Lc=a,(hr=l)&&!u)for(ve=i;ve!==null;)a=ve,l=a.child,a.tag===22&&a.memoizedState!==null?Dv(i):l!==null?(l.return=a,ve=l):Dv(i);for(;s!==null;)ve=s,sw(s),s=s.sibling;ve=i,Lc=o,hr=u}Pv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ve=s):Pv(t)}}function Pv(t){for(;ve!==null;){var e=ve;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hr||Df(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!hr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:yn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&pv(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}pv(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ru(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}hr||e.flags&512&&up(e)}catch(d){Et(e,e.return,d)}}if(e===t){ve=null;break}if(r=e.sibling,r!==null){r.return=e.return,ve=r;break}ve=e.return}}function Nv(t){for(;ve!==null;){var e=ve;if(e===t){ve=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ve=r;break}ve=e.return}}function Dv(t){for(;ve!==null;){var e=ve;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Df(4,e)}catch(l){Et(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Et(e,i,l)}}var s=e.return;try{up(e)}catch(l){Et(e,s,l)}break;case 5:var a=e.return;try{up(e)}catch(l){Et(e,a,l)}}}catch(l){Et(e,e.return,l)}if(e===t){ve=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ve=o;break}ve=e.return}}var P4=Math.ceil,Bh=Ri.ReactCurrentDispatcher,Dm=Ri.ReactCurrentOwner,ln=Ri.ReactCurrentBatchConfig,je=0,Wt=null,Rt=null,Zt=0,$r=0,eo=As(0),Vt=0,du=null,ia=0,Of=0,Om=0,Ml=null,Rr=null,Fm=0,So=1/0,ni=null,Uh=!1,fp=null,us=null,Mc=!1,Ji=null,jh=0,bl=0,dp=null,oh=-1,lh=0;function Tr(){return je&6?At():oh!==-1?oh:oh=At()}function cs(t){return t.mode&1?je&2&&Zt!==0?Zt&-Zt:d4.transition!==null?(lh===0&&(lh=zx()),lh):(t=Ze,t!==0||(t=window.event,t=t===void 0?16:Yx(t.type)),t):1}function In(t,e,r,n){if(50<bl)throw bl=0,dp=null,Error(ae(185));Fu(t,r,n),(!(je&2)||t!==Wt)&&(t===Wt&&(!(je&2)&&(Of|=r),Vt===4&&Hi(t,Zt)),Or(t,n),r===1&&je===0&&!(e.mode&1)&&(So=At()+500,Rf&&Is()))}function Or(t,e){var r=t.callbackNode;dC(t,e);var n=Sh(t,t===Wt?Zt:0);if(n===0)r!==null&&j1(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&j1(r),e===1)t.tag===0?f4(Ov.bind(null,t)):mE(Ov.bind(null,t)),l4(function(){!(je&6)&&Is()}),r=null;else{switch(Wx(n)){case 1:r=am;break;case 4:r=jx;break;case 16:r=Th;break;case 536870912:r=$x;break;default:r=Th}r=dw(r,aw.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function aw(t,e){if(oh=-1,lh=0,je&6)throw Error(ae(327));var r=t.callbackNode;if(lo()&&t.callbackNode!==r)return null;var n=Sh(t,t===Wt?Zt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=$h(t,n);else{e=n;var i=je;je|=2;var s=lw();(Wt!==t||Zt!==e)&&(ni=null,So=At()+500,Ys(t,e));do try{O4();break}catch(o){ow(t,o)}while(!0);ym(),Bh.current=s,je=i,Rt!==null?e=0:(Wt=null,Zt=0,e=Vt)}if(e!==0){if(e===2&&(i=Ud(t),i!==0&&(n=i,e=pp(t,i))),e===1)throw r=du,Ys(t,0),Hi(t,n),Or(t,At()),r;if(e===6)Hi(t,n);else{if(i=t.current.alternate,!(n&30)&&!N4(i)&&(e=$h(t,n),e===2&&(s=Ud(t),s!==0&&(n=s,e=pp(t,s))),e===1))throw r=du,Ys(t,0),Hi(t,n),Or(t,At()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ae(345));case 2:Us(t,Rr,ni);break;case 3:if(Hi(t,n),(n&130023424)===n&&(e=Fm+500-At(),10<e)){if(Sh(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Tr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qd(Us.bind(null,t,Rr,ni),e);break}Us(t,Rr,ni);break;case 4:if(Hi(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-An(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=At()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*P4(n/1960))-n,10<n){t.timeoutHandle=qd(Us.bind(null,t,Rr,ni),n);break}Us(t,Rr,ni);break;case 5:Us(t,Rr,ni);break;default:throw Error(ae(329))}}}return Or(t,At()),t.callbackNode===r?aw.bind(null,t):null}function pp(t,e){var r=Ml;return t.current.memoizedState.isDehydrated&&(Ys(t,e).flags|=256),t=$h(t,e),t!==2&&(e=Rr,Rr=r,e!==null&&mp(e)),t}function mp(t){Rr===null?Rr=t:Rr.push.apply(Rr,t)}function N4(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!kn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hi(t,e){for(e&=~Om,e&=~Of,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-An(e),n=1<<r;t[r]=-1,e&=~n}}function Ov(t){if(je&6)throw Error(ae(327));lo();var e=Sh(t,0);if(!(e&1))return Or(t,At()),null;var r=$h(t,e);if(t.tag!==0&&r===2){var n=Ud(t);n!==0&&(e=n,r=pp(t,n))}if(r===1)throw r=du,Ys(t,0),Hi(t,e),Or(t,At()),r;if(r===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Us(t,Rr,ni),Or(t,At()),null}function Lm(t,e){var r=je;je|=1;try{return t(e)}finally{je=r,je===0&&(So=At()+500,Rf&&Is())}}function sa(t){Ji!==null&&Ji.tag===0&&!(je&6)&&lo();var e=je;je|=1;var r=ln.transition,n=Ze;try{if(ln.transition=null,Ze=1,t)return t()}finally{Ze=n,ln.transition=r,je=e,!(je&6)&&Is()}}function Mm(){$r=eo.current,ct(eo)}function Ys(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,o4(r)),Rt!==null)for(r=Rt.return;r!==null;){var n=r;switch(gm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Rh();break;case 3:wo(),ct(Nr),ct(vr),Am();break;case 5:Sm(n);break;case 4:wo();break;case 13:ct(gt);break;case 19:ct(gt);break;case 10:xm(n.type._context);break;case 22:case 23:Mm()}r=r.return}if(Wt=t,Rt=t=hs(t.current,null),Zt=$r=e,Vt=0,du=null,Om=Of=ia=0,Rr=Ml=null,Hs!==null){for(e=0;e<Hs.length;e++)if(r=Hs[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Hs=null}return t}function ow(t,e){do{var r=Rt;try{if(ym(),ih.current=Vh,bh){for(var n=vt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}bh=!1}if(na=0,Ut=Mt=vt=null,Fl=!1,cu=0,Dm.current=null,r===null||r.return===null){Vt=1,du=e,Rt=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=Zt,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=o,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=xv(a);if(m!==null){m.flags&=-257,Ev(m,a,o,s,e),m.mode&1&&yv(s,u,e),e=m,l=u;var y=e.updateQueue;if(y===null){var g=new Set;g.add(l),e.updateQueue=g}else y.add(l);break e}else{if(!(e&1)){yv(s,u,e),bm();break e}l=Error(ae(426))}}else if(dt&&o.mode&1){var v=xv(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Ev(v,a,o,s,e),vm(To(l,o));break e}}s=l=To(l,o),Vt!==4&&(Vt=2),Ml===null?Ml=[s]:Ml.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=WE(s,l,e);dv(s,S);break e;case 1:o=l;var E=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(us===null||!us.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var V=HE(s,o,e);dv(s,V);break e}}s=s.return}while(s!==null)}cw(r)}catch(z){e=z,Rt===r&&r!==null&&(Rt=r=r.return);continue}break}while(!0)}function lw(){var t=Bh.current;return Bh.current=Vh,t===null?Vh:t}function bm(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Wt===null||!(ia&268435455)&&!(Of&268435455)||Hi(Wt,Zt)}function $h(t,e){var r=je;je|=2;var n=lw();(Wt!==t||Zt!==e)&&(ni=null,Ys(t,e));do try{D4();break}catch(i){ow(t,i)}while(!0);if(ym(),je=r,Bh.current=n,Rt!==null)throw Error(ae(261));return Wt=null,Zt=0,Vt}function D4(){for(;Rt!==null;)uw(Rt)}function O4(){for(;Rt!==null&&!iC();)uw(Rt)}function uw(t){var e=fw(t.alternate,t,$r);t.memoizedProps=t.pendingProps,e===null?cw(t):Rt=e,Dm.current=null}function cw(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=I4(r,e),r!==null){r.flags&=32767,Rt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vt=6,Rt=null;return}}else if(r=A4(r,e,$r),r!==null){Rt=r;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);Vt===0&&(Vt=5)}function Us(t,e,r){var n=Ze,i=ln.transition;try{ln.transition=null,Ze=1,F4(t,e,r,n)}finally{ln.transition=i,Ze=n}return null}function F4(t,e,r,n){do lo();while(Ji!==null);if(je&6)throw Error(ae(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(pC(t,s),t===Wt&&(Rt=Wt=null,Zt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Mc||(Mc=!0,dw(Th,function(){return lo(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ln.transition,ln.transition=null;var a=Ze;Ze=1;var o=je;je|=4,Dm.current=null,k4(t,r),iw(r,t),e4(Gd),Ah=!!Hd,Gd=Hd=null,t.current=r,R4(r),sC(),je=o,Ze=a,ln.transition=s}else t.current=r;if(Mc&&(Mc=!1,Ji=t,jh=i),s=t.pendingLanes,s===0&&(us=null),lC(r.stateNode),Or(t,At()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Uh)throw Uh=!1,t=fp,fp=null,t;return jh&1&&t.tag!==0&&lo(),s=t.pendingLanes,s&1?t===dp?bl++:(bl=0,dp=t):bl=0,Is(),null}function lo(){if(Ji!==null){var t=Wx(jh),e=ln.transition,r=Ze;try{if(ln.transition=null,Ze=16>t?16:t,Ji===null)var n=!1;else{if(t=Ji,Ji=null,jh=0,je&6)throw Error(ae(331));var i=je;for(je|=4,ve=t.current;ve!==null;){var s=ve,a=s.child;if(ve.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(ve=u;ve!==null;){var h=ve;switch(h.tag){case 0:case 11:case 15:Ll(8,h,s)}var f=h.child;if(f!==null)f.return=h,ve=f;else for(;ve!==null;){h=ve;var d=h.sibling,m=h.return;if(tw(h),h===u){ve=null;break}if(d!==null){d.return=m,ve=d;break}ve=m}}}var y=s.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}ve=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ve=a;else e:for(;ve!==null;){if(s=ve,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ll(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,ve=S;break e}ve=s.return}}var E=t.current;for(ve=E;ve!==null;){a=ve;var I=a.child;if(a.subtreeFlags&2064&&I!==null)I.return=a,ve=I;else e:for(a=E;ve!==null;){if(o=ve,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Df(9,o)}}catch(z){Et(o,o.return,z)}if(o===a){ve=null;break e}var V=o.sibling;if(V!==null){V.return=o.return,ve=V;break e}ve=o.return}}if(je=i,Is(),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(Sf,t)}catch{}n=!0}return n}finally{Ze=r,ln.transition=e}}return!1}function Fv(t,e,r){e=To(r,e),e=WE(t,e,1),t=ls(t,e,1),e=Tr(),t!==null&&(Fu(t,1,e),Or(t,e))}function Et(t,e,r){if(t.tag===3)Fv(t,t,r);else for(;e!==null;){if(e.tag===3){Fv(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(us===null||!us.has(n))){t=To(r,t),t=HE(e,t,1),e=ls(e,t,1),t=Tr(),e!==null&&(Fu(e,1,t),Or(e,t));break}}e=e.return}}function L4(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Tr(),t.pingedLanes|=t.suspendedLanes&r,Wt===t&&(Zt&r)===r&&(Vt===4||Vt===3&&(Zt&130023424)===Zt&&500>At()-Fm?Ys(t,0):Om|=r),Or(t,e)}function hw(t,e){e===0&&(t.mode&1?(e=Ic,Ic<<=1,!(Ic&130023424)&&(Ic=4194304)):e=1);var r=Tr();t=xi(t,e),t!==null&&(Fu(t,e,r),Or(t,r))}function M4(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),hw(t,r)}function b4(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ae(314))}n!==null&&n.delete(e),hw(t,r)}var fw;fw=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nr.current)Pr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Pr=!1,S4(t,e,r);Pr=!!(t.flags&131072)}else Pr=!1,dt&&e.flags&1048576&&gE(e,Dh,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ah(t,e),t=e.pendingProps;var i=yo(e,vr.current);oo(e,r),i=Cm(null,e,n,t,i,r);var s=km();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Dr(n)?(s=!0,Ph(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wm(e),i.updater=Nf,e.stateNode=i,i._reactInternals=e,tp(e,n,t,r),e=ip(null,e,n,!0,s,r)):(e.tag=0,dt&&s&&mm(e),yr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ah(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=B4(n),t=yn(n,t),i){case 0:e=np(null,e,n,t,r);break e;case 1:e=Sv(null,e,n,t,r);break e;case 11:e=wv(null,e,n,t,r);break e;case 14:e=Tv(null,e,n,yn(n.type,t),r);break e}throw Error(ae(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:yn(n,i),np(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:yn(n,i),Sv(t,e,n,i,r);case 3:e:{if(XE(e),t===null)throw Error(ae(387));n=e.pendingProps,s=e.memoizedState,i=s.element,wE(t,e),Lh(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=To(Error(ae(423)),e),e=Av(t,e,n,r,i);break e}else if(n!==i){i=To(Error(ae(424)),e),e=Av(t,e,n,r,i);break e}else for(Gr=os(e.stateNode.containerInfo.firstChild),Kr=e,dt=!0,En=null,r=xE(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(xo(),n===i){e=Ei(t,e,r);break e}yr(t,e,n,r)}e=e.child}return e;case 5:return TE(e),t===null&&Jd(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Kd(n,i)?a=null:s!==null&&Kd(n,s)&&(e.flags|=32),qE(t,e),yr(t,e,a,r),e.child;case 6:return t===null&&Jd(e),null;case 13:return YE(t,e,r);case 4:return Tm(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Eo(e,null,n,r):yr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:yn(n,i),wv(t,e,n,i,r);case 7:return yr(t,e,e.pendingProps,r),e.child;case 8:return yr(t,e,e.pendingProps.children,r),e.child;case 12:return yr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,at(Oh,n._currentValue),n._currentValue=a,s!==null)if(kn(s.value,a)){if(s.children===i.children&&!Nr.current){e=Ei(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=fi(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Zd(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ae(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Zd(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}yr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,oo(e,r),i=cn(i),n=n(i),e.flags|=1,yr(t,e,n,r),e.child;case 14:return n=e.type,i=yn(n,e.pendingProps),i=yn(n.type,i),Tv(t,e,n,i,r);case 15:return GE(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:yn(n,i),ah(t,e),e.tag=1,Dr(n)?(t=!0,Ph(e)):t=!1,oo(e,r),zE(e,n,i),tp(e,n,i,r),ip(null,e,n,!0,t,r);case 19:return QE(t,e,r);case 22:return KE(t,e,r)}throw Error(ae(156,e.tag))};function dw(t,e){return Ux(t,e)}function V4(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,e,r,n){return new V4(t,e,r,n)}function Vm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function B4(t){if(typeof t=="function")return Vm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nm)return 11;if(t===im)return 14}return 2}function hs(t,e){var r=t.alternate;return r===null?(r=on(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function uh(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")Vm(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Wa:return Qs(r.children,i,s,e);case rm:a=8,i|=8;break;case Ad:return t=on(12,r,e,i|2),t.elementType=Ad,t.lanes=s,t;case Id:return t=on(13,r,e,i),t.elementType=Id,t.lanes=s,t;case Cd:return t=on(19,r,e,i),t.elementType=Cd,t.lanes=s,t;case Tx:return Ff(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ex:a=10;break e;case wx:a=9;break e;case nm:a=11;break e;case im:a=14;break e;case $i:a=16,n=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=on(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Qs(t,e,r,n){return t=on(7,t,n,e),t.lanes=r,t}function Ff(t,e,r,n){return t=on(22,t,n,e),t.elementType=Tx,t.lanes=r,t.stateNode={isHidden:!1},t}function J0(t,e,r){return t=on(6,t,null,e),t.lanes=r,t}function Z0(t,e,r){return e=on(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function U4(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=O0(0),this.expirationTimes=O0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bm(t,e,r,n,i,s,a,o,l){return t=new U4(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=on(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},wm(s),t}function j4(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:za,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function pw(t){if(!t)return vs;t=t._reactInternals;e:{if(ga(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Dr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var r=t.type;if(Dr(r))return pE(t,r,e)}return e}function mw(t,e,r,n,i,s,a,o,l){return t=Bm(r,n,!0,t,i,s,a,o,l),t.context=pw(null),r=t.current,n=Tr(),i=cs(r),s=fi(n,i),s.callback=e??null,ls(r,s,i),t.current.lanes=i,Fu(t,i,n),Or(t,n),t}function Lf(t,e,r,n){var i=e.current,s=Tr(),a=cs(i);return r=pw(r),e.context===null?e.context=r:e.pendingContext=r,e=fi(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ls(i,e,a),t!==null&&(In(t,i,a,s),nh(t,i,a)),a}function zh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Lv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Um(t,e){Lv(t,e),(t=t.alternate)&&Lv(t,e)}function $4(){return null}var gw=typeof reportError=="function"?reportError:function(t){console.error(t)};function jm(t){this._internalRoot=t}Mf.prototype.render=jm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));Lf(t,e,null,null)};Mf.prototype.unmount=jm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sa(function(){Lf(null,t,null,null)}),e[yi]=null}};function Mf(t){this._internalRoot=t}Mf.prototype.unstable_scheduleHydration=function(t){if(t){var e=Kx();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Wi.length&&e!==0&&e<Wi[r].priority;r++);Wi.splice(r,0,t),r===0&&Xx(t)}};function $m(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mv(){}function z4(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=zh(a);s.call(u)}}var a=mw(e,n,t,0,null,!1,!1,"",Mv);return t._reactRootContainer=a,t[yi]=a.current,su(t.nodeType===8?t.parentNode:t),sa(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=zh(l);o.call(u)}}var l=Bm(t,0,!1,null,null,!1,!1,"",Mv);return t._reactRootContainer=l,t[yi]=l.current,su(t.nodeType===8?t.parentNode:t),sa(function(){Lf(e,l,r,n)}),l}function Vf(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=zh(a);o.call(l)}}Lf(e,a,t,i)}else a=z4(r,e,t,i,n);return zh(a)}Hx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=xl(e.pendingLanes);r!==0&&(om(e,r|1),Or(e,At()),!(je&6)&&(So=At()+500,Is()))}break;case 13:sa(function(){var n=xi(t,1);if(n!==null){var i=Tr();In(n,t,1,i)}}),Um(t,1)}};lm=function(t){if(t.tag===13){var e=xi(t,134217728);if(e!==null){var r=Tr();In(e,t,134217728,r)}Um(t,134217728)}};Gx=function(t){if(t.tag===13){var e=cs(t),r=xi(t,e);if(r!==null){var n=Tr();In(r,t,e,n)}Um(t,e)}};Kx=function(){return Ze};qx=function(t,e){var r=Ze;try{return Ze=t,e()}finally{Ze=r}};bd=function(t,e,r){switch(e){case"input":if(Pd(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=kf(n);if(!i)throw Error(ae(90));Ax(n),Pd(n,i)}}}break;case"textarea":Cx(t,r);break;case"select":e=r.value,e!=null&&no(t,!!r.multiple,e,!1)}};Fx=Lm;Lx=sa;var W4={usingClientEntryPoint:!1,Events:[Mu,qa,kf,Dx,Ox,Lm]},ml={findFiberByHostInstance:Ws,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H4={bundleType:ml.bundleType,version:ml.version,rendererPackageName:ml.rendererPackageName,rendererConfig:ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ri.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vx(t),t===null?null:t.stateNode},findFiberByHostInstance:ml.findFiberByHostInstance||$4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{Sf=bc.inject(H4),Bn=bc}catch{}}Qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W4;Qr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$m(e))throw Error(ae(200));return j4(t,e,null,r)};Qr.createRoot=function(t,e){if(!$m(t))throw Error(ae(299));var r=!1,n="",i=gw;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Bm(t,1,!1,null,null,r,!1,n,i),t[yi]=e.current,su(t.nodeType===8?t.parentNode:t),new jm(e)};Qr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=Vx(e),t=t===null?null:t.stateNode,t};Qr.flushSync=function(t){return sa(t)};Qr.hydrate=function(t,e,r){if(!bf(e))throw Error(ae(200));return Vf(null,t,e,!0,r)};Qr.hydrateRoot=function(t,e,r){if(!$m(t))throw Error(ae(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=gw;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=mw(e,null,t,1,r??null,i,!1,s,a),t[yi]=e.current,su(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Mf(e)};Qr.render=function(t,e,r){if(!bf(e))throw Error(ae(200));return Vf(null,t,e,!1,r)};Qr.unmountComponentAtNode=function(t){if(!bf(t))throw Error(ae(40));return t._reactRootContainer?(sa(function(){Vf(null,null,t,!1,function(){t._reactRootContainer=null,t[yi]=null})}),!0):!1};Qr.unstable_batchedUpdates=Lm;Qr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!bf(r))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return Vf(t,e,r,!1,n)};Qr.version="18.3.1-next-f1338f8080-20240426";function vw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vw)}catch(t){console.error(t)}}vw(),vx.exports=Qr;var G4=vx.exports,_w,bv=G4;_w=bv.createRoot,bv.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pu.apply(this,arguments)}var Zi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zi||(Zi={}));const Vv="popstate";function K4(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return gp("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:xw(i)}return X4(e,r,null,t)}function Pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function q4(){return Math.random().toString(36).substr(2,8)}function Bv(t,e){return{usr:t.state,key:t.key,idx:e}}function gp(t,e,r,n){return r===void 0&&(r=null),pu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?bo(e):e,{state:r,key:e&&e.key||n||q4()})}function xw(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function bo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function X4(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Zi.Pop,l=null,u=h();u==null&&(u=0,a.replaceState(pu({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function f(){o=Zi.Pop;let v=h(),S=v==null?null:v-u;u=v,l&&l({action:o,location:g.location,delta:S})}function d(v,S){o=Zi.Push;let E=gp(g.location,v,S);u=h()+1;let I=Bv(E,u),V=g.createHref(E);try{a.pushState(I,"",V)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(V)}s&&l&&l({action:o,location:g.location,delta:1})}function m(v,S){o=Zi.Replace;let E=gp(g.location,v,S);u=h();let I=Bv(E,u),V=g.createHref(E);a.replaceState(I,"",V),s&&l&&l({action:o,location:g.location,delta:0})}function y(v){let S=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof v=="string"?v:xw(v);return E=E.replace(/ $/,"%20"),Pt(S,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,S)}let g={get action(){return o},get location(){return t(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Vv,f),l=v,()=>{i.removeEventListener(Vv,f),l=null}},createHref(v){return e(i,v)},createURL:y,encodeLocation(v){let S=y(v);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:d,replace:m,go(v){return a.go(v)}};return g}var Uv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Uv||(Uv={}));function Y4(t,e,r){return r===void 0&&(r="/"),Q4(t,e,r,!1)}function Q4(t,e,r,n){let i=typeof e=="string"?bo(e):e,s=Tw(i.pathname||"/",r);if(s==null)return null;let a=Ew(t);J4(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=uk(s);o=ok(a[l],u,n)}return o}function Ew(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Pt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Js([n,l.relativePath]),h=r.concat(l);s.children&&s.children.length>0&&(Pt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ew(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:sk(u,s.index),routesMeta:h})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of ww(s.path))i(s,a,l)}),e}function ww(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=ww(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function J4(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:ak(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Z4=/^:[\w-]+$/,ek=3,tk=2,rk=1,nk=10,ik=-2,jv=t=>t==="*";function sk(t,e){let r=t.split("/"),n=r.length;return r.some(jv)&&(n+=ik),e&&(n+=tk),r.filter(i=>!jv(i)).reduce((i,s)=>i+(Z4.test(s)?ek:s===""?rk:nk),n)}function ak(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function ok(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=$v({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),d=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=$v({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Js([s,f.pathname]),pathnameBase:dk(Js([s,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(s=Js([s,f.pathnameBase]))}return a}function $v(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=lk(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,h,f)=>{let{paramName:d,isOptional:m}=h;if(d==="*"){let g=o[f]||"";a=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const y=o[f];return m&&!y?u[d]=void 0:u[d]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function lk(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),yw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function uk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Tw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function ck(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?bo(t):t;return{pathname:r?r.startsWith("/")?r:hk(r,e):e,search:pk(n),hash:mk(i)}}function hk(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function ed(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fk(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Sw(t,e){let r=fk(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Aw(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=bo(t):(i=pu({},t),Pt(!i.pathname||!i.pathname.includes("?"),ed("?","pathname","search",i)),Pt(!i.pathname||!i.pathname.includes("#"),ed("#","pathname","hash",i)),Pt(!i.search||!i.search.includes("#"),ed("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let f=e.length-1;if(!n&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}o=f>=0?e[f]:"/"}let l=ck(i,o),u=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const Js=t=>t.join("/").replace(/\/\/+/g,"/"),dk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Iw=["post","put","patch","delete"];new Set(Iw);const vk=["get",...Iw];new Set(vk);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mu(){return mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mu.apply(this,arguments)}const zm=ee.createContext(null),_k=ee.createContext(null),Vu=ee.createContext(null),Bf=ee.createContext(null),Pi=ee.createContext({outlet:null,matches:[],isDataRoute:!1}),Cw=ee.createContext(null);function Bu(){return ee.useContext(Bf)!=null}function Uf(){return Bu()||Pt(!1),ee.useContext(Bf).location}function kw(t){ee.useContext(Vu).static||ee.useLayoutEffect(t)}function va(){let{isDataRoute:t}=ee.useContext(Pi);return t?Ok():yk()}function yk(){Bu()||Pt(!1);let t=ee.useContext(zm),{basename:e,future:r,navigator:n}=ee.useContext(Vu),{matches:i}=ee.useContext(Pi),{pathname:s}=Uf(),a=JSON.stringify(Sw(i,r.v7_relativeSplatPath)),o=ee.useRef(!1);return kw(()=>{o.current=!0}),ee.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=Aw(u,JSON.parse(a),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Js([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,a,s,t])}const xk=ee.createContext(null);function Ek(t){let e=ee.useContext(Pi).outlet;return e&&ee.createElement(xk.Provider,{value:t},e)}function Rw(){let{matches:t}=ee.useContext(Pi),e=t[t.length-1];return e?e.params:{}}function wk(t,e){return Tk(t,e)}function Tk(t,e,r,n){Bu()||Pt(!1);let{navigator:i}=ee.useContext(Vu),{matches:s}=ee.useContext(Pi),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Uf(),h;if(e){var f;let v=typeof e=="string"?bo(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||Pt(!1),h=v}else h=u;let d=h.pathname||"/",m=d;if(l!=="/"){let v=l.replace(/^\//,"").split("/");m="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=Y4(t,{pathname:m}),g=kk(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Js([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Js([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return e&&g?ee.createElement(Bf.Provider,{value:{location:mu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Zi.Pop}},g):g}function Sk(){let t=Dk(),e=gk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),r?ee.createElement("pre",{style:i},r):null,null)}const Ak=ee.createElement(Sk,null);class Ik extends ee.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?ee.createElement(Pi.Provider,{value:this.props.routeContext},ee.createElement(Cw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ck(t){let{routeContext:e,match:r,children:n}=t,i=ee.useContext(zm);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),ee.createElement(Pi.Provider,{value:e},n)}function kk(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let h=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);h>=0||Pt(!1),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:d,errors:m}=r,y=f.route.loader&&d[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,f,d)=>{let m,y=!1,g=null,v=null;r&&(m=o&&f.route.id?o[f.route.id]:void 0,g=f.route.errorElement||Ak,l&&(u<0&&d===0?(y=!0,v=null):u===d&&(y=!0,v=f.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,d+1)),E=()=>{let I;return m?I=g:y?I=v:f.route.Component?I=ee.createElement(f.route.Component,null):f.route.element?I=f.route.element:I=h,ee.createElement(Ck,{match:f,routeContext:{outlet:h,matches:S,isDataRoute:r!=null},children:I})};return r&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?ee.createElement(Ik,{location:r.location,revalidation:r.revalidation,component:g,error:m,children:E(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):E()},null)}var Pw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Pw||{}),Wh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Wh||{});function Rk(t){let e=ee.useContext(zm);return e||Pt(!1),e}function Pk(t){let e=ee.useContext(_k);return e||Pt(!1),e}function Nk(t){let e=ee.useContext(Pi);return e||Pt(!1),e}function Nw(t){let e=Nk(),r=e.matches[e.matches.length-1];return r.route.id||Pt(!1),r.route.id}function Dk(){var t;let e=ee.useContext(Cw),r=Pk(Wh.UseRouteError),n=Nw(Wh.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Ok(){let{router:t}=Rk(Pw.UseNavigateStable),e=Nw(Wh.UseNavigateStable),r=ee.useRef(!1);return kw(()=>{r.current=!0}),ee.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,mu({fromRouteId:e},s)))},[t,e])}function Fk(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Dw(t){let{to:e,replace:r,state:n,relative:i}=t;Bu()||Pt(!1);let{future:s,static:a}=ee.useContext(Vu),{matches:o}=ee.useContext(Pi),{pathname:l}=Uf(),u=va(),h=Aw(e,Sw(o,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(h);return ee.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function Lk(t){return Ek(t.context)}function qe(t){Pt(!1)}function Mk(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Zi.Pop,navigator:s,static:a=!1,future:o}=t;Bu()&&Pt(!1);let l=e.replace(/^\/*/,"/"),u=ee.useMemo(()=>({basename:l,navigator:s,static:a,future:mu({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=bo(n));let{pathname:h="/",search:f="",hash:d="",state:m=null,key:y="default"}=n,g=ee.useMemo(()=>{let v=Tw(h,l);return v==null?null:{location:{pathname:v,search:f,hash:d,state:m,key:y},navigationType:i}},[l,h,f,d,m,y,i]);return g==null?null:ee.createElement(Vu.Provider,{value:u},ee.createElement(Bf.Provider,{children:r,value:g}))}function bk(t){let{children:e,location:r}=t;return wk(vp(e),r)}new Promise(()=>{});function vp(t,e){e===void 0&&(e=[]);let r=[];return ee.Children.forEach(t,(n,i)=>{if(!ee.isValidElement(n))return;let s=[...e,i];if(n.type===ee.Fragment){r.push.apply(r,vp(n.props.children,s));return}n.type!==qe&&Pt(!1),!n.props.index||!n.props.children||Pt(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=vp(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Vk="6";try{window.__reactRouterVersion=Vk}catch{}const Bk="startTransition",zv=LI[Bk];function Uk(t){let{basename:e,children:r,future:n,window:i}=t,s=ee.useRef();s.current==null&&(s.current=K4({window:i,v5Compat:!0}));let a=s.current,[o,l]=ee.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},h=ee.useCallback(f=>{u&&zv?zv(()=>l(f)):l(f)},[l,u]);return ee.useLayoutEffect(()=>a.listen(h),[a,h]),ee.useEffect(()=>Fk(n),[n]),ee.createElement(Mk,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}var Wv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Wv||(Wv={}));var Hv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Hv||(Hv={}));var Gv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},jk=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Fw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=s>>2,f=(s&3)<<4|o>>4;let d=(o&15)<<2|u>>6,m=u&63;l||(m=64,a||(d=64)),n.push(r[h],r[f],r[d],r[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ow(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||f==null)throw new $k;const d=s<<2|o>>4;if(n.push(d),u!==64){const m=o<<4&240|u>>2;if(n.push(m),f!==64){const y=u<<6&192|f;n.push(y)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class $k extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zk=function(t){const e=Ow(t);return Fw.encodeByteArray(e,!0)},Hh=function(t){return zk(t).replace(/\./g,"")},Lw=function(t){try{return Fw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=()=>Wk().__FIREBASE_DEFAULTS__,Gk=()=>{if(typeof process>"u"||typeof Gv>"u")return;const t=Gv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Kk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Lw(t[1]);return e&&JSON.parse(e)},jf=()=>{try{return Hk()||Gk()||Kk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Mw=t=>{var e,r;return(r=(e=jf())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},qk=t=>{const e=Mw(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},bw=()=>{var t;return(t=jf())===null||t===void 0?void 0:t.config},Vw=t=>{var e;return(e=jf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Hh(JSON.stringify(r)),Hh(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_r())}function Jk(){var t;const e=(t=jf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Bw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tR(){const t=_r();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rR(){return!Jk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Uw(){try{return typeof indexedDB=="object"}catch{return!1}}function jw(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}function nR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="FirebaseError";class Nn extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=iR,Object.setPrototypeOf(this,Nn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_a.prototype.create)}}class _a{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?sR(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Nn(i,o,n)}}function sR(t,e){return t.replace(aR,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const aR=/\{\$([^}]+)}/g;function oR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function gu(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(Kv(s)&&Kv(a)){if(!gu(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function Kv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function wl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Tl(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function lR(t,e){const r=new uR(t,e);return r.subscribe.bind(r)}class uR{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");cR(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=td),i.error===void 0&&(i.error=td),i.complete===void 0&&(i.complete=td);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cR(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function td(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=1e3,fR=2,dR=4*60*60*1e3,pR=.5;function qv(t,e=hR,r=fR){const n=e*Math.pow(r,t),i=Math.round(pR*n*(Math.random()-.5)*2);return Math.min(dR,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t){return t&&t._delegate?t._delegate:t}class Rn{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Xk;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vR(e))try{this.getOrInitializeService({instanceIdentifier:js})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=js){return this.instances.has(e)}getOptions(e=js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:gR(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=js){return this.component?this.component.multipleInstances?e:js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gR(t){return t===js?void 0:t}function vR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new mR(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const yR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},xR=Ve.INFO,ER={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},wR=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=ER[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $f{constructor(e){this.name=e,this._logLevel=xR,this._logHandler=wR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const TR=(t,e)=>e.some(r=>t instanceof r);let Xv,Yv;function SR(){return Xv||(Xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AR(){return Yv||(Yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $w=new WeakMap,_p=new WeakMap,zw=new WeakMap,rd=new WeakMap,Wm=new WeakMap;function IR(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(fs(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&$w.set(r,t)}).catch(()=>{}),Wm.set(e,t),e}function CR(t){if(_p.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});_p.set(t,e)}let yp={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return _p.get(t);if(e==="objectStoreNames")return t.objectStoreNames||zw.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return fs(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kR(t){yp=t(yp)}function RR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(nd(this),e,...r);return zw.set(n,e.sort?e.sort():[e]),fs(n)}:AR().includes(t)?function(...e){return t.apply(nd(this),e),fs($w.get(this))}:function(...e){return fs(t.apply(nd(this),e))}}function PR(t){return typeof t=="function"?RR(t):(t instanceof IDBTransaction&&CR(t),TR(t,SR())?new Proxy(t,yp):t)}function fs(t){if(t instanceof IDBRequest)return IR(t);if(rd.has(t))return rd.get(t);const e=PR(t);return e!==t&&(rd.set(t,e),Wm.set(e,t)),e}const nd=t=>Wm.get(t);function Ww(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=fs(a);return n&&a.addEventListener("upgradeneeded",l=>{n(fs(a.result),l.oldVersion,l.newVersion,fs(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const NR=["get","getKey","getAll","getAllKeys","count"],DR=["put","add","delete","clear"],id=new Map;function Qv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(id.get(e))return id.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=DR.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||NR.includes(r)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return id.set(e,s),s}kR(t=>({...t,get:(e,r,n)=>Qv(e,r)||t.get(e,r,n),has:(e,r)=>!!Qv(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(FR(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function FR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xp="@firebase/app",Jv="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new $f("@firebase/app"),LR="@firebase/app-compat",MR="@firebase/analytics-compat",bR="@firebase/analytics",VR="@firebase/app-check-compat",BR="@firebase/app-check",UR="@firebase/auth",jR="@firebase/auth-compat",$R="@firebase/database",zR="@firebase/data-connect",WR="@firebase/database-compat",HR="@firebase/functions",GR="@firebase/functions-compat",KR="@firebase/installations",qR="@firebase/installations-compat",XR="@firebase/messaging",YR="@firebase/messaging-compat",QR="@firebase/performance",JR="@firebase/performance-compat",ZR="@firebase/remote-config",eP="@firebase/remote-config-compat",tP="@firebase/storage",rP="@firebase/storage-compat",nP="@firebase/firestore",iP="@firebase/vertexai-preview",sP="@firebase/firestore-compat",aP="firebase",oP="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="[DEFAULT]",lP={[xp]:"fire-core",[LR]:"fire-core-compat",[bR]:"fire-analytics",[MR]:"fire-analytics-compat",[BR]:"fire-app-check",[VR]:"fire-app-check-compat",[UR]:"fire-auth",[jR]:"fire-auth-compat",[$R]:"fire-rtdb",[zR]:"fire-data-connect",[WR]:"fire-rtdb-compat",[HR]:"fire-fn",[GR]:"fire-fn-compat",[KR]:"fire-iid",[qR]:"fire-iid-compat",[XR]:"fire-fcm",[YR]:"fire-fcm-compat",[QR]:"fire-perf",[JR]:"fire-perf-compat",[ZR]:"fire-rc",[eP]:"fire-rc-compat",[tP]:"fire-gcs",[rP]:"fire-gcs-compat",[nP]:"fire-fst",[sP]:"fire-fst-compat",[iP]:"fire-vertex","fire-js":"fire-js",[aP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new Map,uP=new Map,wp=new Map;function Zv(t,e){try{t.container.addComponent(e)}catch(r){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Gn(t){const e=t.name;if(wp.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;wp.set(e,t);for(const r of Gh.values())Zv(r,t);for(const r of uP.values())Zv(r,t);return!0}function ya(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function oi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ds=new _a("app","Firebase",cP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=oP;function Hw(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Ep,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw ds.create("bad-app-name",{appName:String(i)});if(r||(r=bw()),!r)throw ds.create("no-options");const s=Gh.get(i);if(s){if(gu(r,s.options)&&gu(n,s.config))return s;throw ds.create("duplicate-app",{appName:i})}const a=new _R(i);for(const l of wp.values())a.addComponent(l);const o=new hP(r,n,a);return Gh.set(i,o),o}function Hm(t=Ep){const e=Gh.get(t);if(!e&&t===Ep&&bw())return Hw();if(!e)throw ds.create("no-app",{appName:t});return e}function un(t,e,r){var n;let i=(n=lP[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(o.join(" "));return}Gn(new Rn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="firebase-heartbeat-database",dP=1,vu="firebase-heartbeat-store";let sd=null;function Gw(){return sd||(sd=Ww(fP,dP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vu)}catch(r){console.warn(r)}}}}).catch(t=>{throw ds.create("idb-open",{originalErrorMessage:t.message})})),sd}async function pP(t){try{const r=(await Gw()).transaction(vu),n=await r.objectStore(vu).get(Kw(t));return await r.done,n}catch(e){if(e instanceof Nn)wi.warn(e.message);else{const r=ds.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wi.warn(r.message)}}}async function e_(t,e){try{const n=(await Gw()).transaction(vu,"readwrite");await n.objectStore(vu).put(e,Kw(t)),await n.done}catch(r){if(r instanceof Nn)wi.warn(r.message);else{const n=ds.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});wi.warn(n.message)}}}function Kw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP=1024,gP=30*24*60*60*1e3;class vP{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new yP(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=t_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=gP}),this._storage.overwrite(this._heartbeatsCache))}catch(n){wi.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=t_(),{heartbeatsToSend:n,unsentEntries:i}=_P(this._heartbeatsCache.heartbeats),s=Hh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return wi.warn(r),""}}}function t_(){return new Date().toISOString().substring(0,10)}function _P(t,e=mP){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),r_(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),r_(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class yP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Uw()?jw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await pP(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return e_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return e_(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function r_(t){return Hh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(t){Gn(new Rn("platform-logger",e=>new OR(e),"PRIVATE")),Gn(new Rn("heartbeat",e=>new vP(e),"PRIVATE")),un(xp,Jv,t),un(xp,Jv,"esm2017"),un("fire-js","")}xP("");function Gm(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function qw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EP=qw,Xw=new _a("auth","Firebase",qw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new $f("@firebase/auth");function wP(t,...e){Kh.logLevel<=Ve.WARN&&Kh.warn(`Auth (${Vo}): ${t}`,...e)}function ch(t,...e){Kh.logLevel<=Ve.ERROR&&Kh.error(`Auth (${Vo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t,...e){throw Km(t,...e)}function jn(t,...e){return Km(t,...e)}function Yw(t,e,r){const n=Object.assign(Object.assign({},EP()),{[e]:r});return new _a("auth","Firebase",n).create(e,{appName:t.name})}function ps(t){return Yw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Km(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Xw.create(t,...e)}function Ce(t,e,...r){if(!t)throw Km(e,...r)}function li(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ch(e),new Error(e)}function Ti(t,e){t||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function TP(){return n_()==="http:"||n_()==="https:"}function n_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(TP()||Bw()||"connection"in navigator)?navigator.onLine:!0}function AP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,r){this.shortDelay=e,this.longDelay=r,Ti(r>e,"Short delay should be less than long delay!"),this.isMobile=Qk()||eR()}get(){return SP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t,e){Ti(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=new ju(3e4,6e4);function xa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Cs(t,e,r,n,i={}){return Jw(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=Uu(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return Zk()||(u.referrerPolicy="no-referrer"),Qw.fetch()(Zw(t,t.config.apiHost,r,o),u)})}async function Jw(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},IP),e);try{const i=new RP(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Vc(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Vc(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Vc(t,"user-disabled",a);const h=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Yw(t,h,u);Pn(t,h)}}catch(i){if(i instanceof Nn)throw i;Pn(t,"network-request-failed",{message:String(i)})}}async function zf(t,e,r,n,i={}){const s=await Cs(t,e,r,n,i);return"mfaPendingCredential"in s&&Pn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Zw(t,e,r,n){const i=`${e}${r}?${n}`;return t.config.emulator?qm(t.config,i):`${t.config.apiScheme}://${i}`}function kP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(jn(this.auth,"network-request-failed")),CP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vc(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=jn(t,e,n);return i.customData._tokenResponse=r,i}function i_(t){return t!==void 0&&t.enterprise!==void 0}class PP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return kP(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function NP(t,e){return Cs(t,"GET","/v2/recaptchaConfig",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(t,e){return Cs(t,"POST","/v1/accounts:delete",e)}async function eT(t,e){return Cs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function OP(t,e=!1){const r=Zr(t),n=await r.getIdToken(e),i=Xm(n);Ce(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:Vl(ad(i.auth_time)),issuedAtTime:Vl(ad(i.iat)),expirationTime:Vl(ad(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ad(t){return Number(t)*1e3}function Xm(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const i=Lw(r);return i?JSON.parse(i):(ch("Failed to decode base64 JWT payload"),null)}catch(i){return ch("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function s_(t){const e=Xm(t);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Nn&&FP(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function FP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qh(t){var e;const r=t.auth,n=await t.getIdToken(),i=await _u(t,eT(r,{idToken:n}));Ce(i==null?void 0:i.users.length,r,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?tT(s.providerUserInfo):[],o=bP(t.providerData,a),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),h=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Sp(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function MP(t){const e=Zr(t);await qh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bP(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function tT(t){return t.map(e=>{var{providerId:r}=e,n=Gm(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(t,e){const r=await Jw(t,{},async()=>{const n=Uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=Zw(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Qw.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function BP(t,e){return Cs(t,"POST","/v2/accounts:revokeToken",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const r=s_(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await VP(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new uo;return n&&(Ce(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(Ce(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Ce(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t,e){Ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ui{constructor(e){var{uid:r,auth:n,stsTokenManager:i}=e,s=Gm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Sp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await _u(this,this.stsTokenManager.getToken(this.auth,e));return Ce(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return OP(this,e)}reload(){return MP(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await qh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(ps(this.auth));const e=await this.getIdToken();return await _u(this,DP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,i,s,a,o,l,u,h;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,d=(i=r.email)!==null&&i!==void 0?i:void 0,m=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,y=(a=r.photoURL)!==null&&a!==void 0?a:void 0,g=(o=r.tenantId)!==null&&o!==void 0?o:void 0,v=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,S=(u=r.createdAt)!==null&&u!==void 0?u:void 0,E=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:I,emailVerified:V,isAnonymous:z,providerData:X,stsTokenManager:T}=r;Ce(I&&T,e,"internal-error");const w=uo.fromJSON(this.name,T);Ce(typeof I=="string",e,"internal-error"),Vi(f,e.name),Vi(d,e.name),Ce(typeof V=="boolean",e,"internal-error"),Ce(typeof z=="boolean",e,"internal-error"),Vi(m,e.name),Vi(y,e.name),Vi(g,e.name),Vi(v,e.name),Vi(S,e.name),Vi(E,e.name);const A=new ui({uid:I,auth:e,email:d,emailVerified:V,displayName:f,isAnonymous:z,photoURL:y,phoneNumber:m,tenantId:g,stsTokenManager:w,createdAt:S,lastLoginAt:E});return X&&Array.isArray(X)&&(A.providerData=X.map(k=>Object.assign({},k))),v&&(A._redirectEventId=v),A}static async _fromIdTokenResponse(e,r,n=!1){const i=new uo;i.updateFromServerResponse(r);const s=new ui({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await qh(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ce(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?tT(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new uo;o.updateFromIdToken(n);const l=new ui({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Sp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_=new Map;function ci(t){Ti(t instanceof Function,"Expected a class definition");let e=a_.get(t);return e?(Ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,a_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}rT.type="NONE";const o_=rT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(t,e,r){return`firebase:${t}:${e}:${r}`}class co{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=hh(this.userKey,i.apiKey,s),this.fullPersistenceKey=hh("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ui._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new co(ci(o_),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||ci(o_);const a=hh(n,e.config.apiKey,e.name);let o=null;for(const u of r)try{const h=await u._get(a);if(h){const f=ui._fromJSON(e,h);u!==s&&(o=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new co(s,e,n):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new co(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lT(e))return"Blackberry";if(uT(e))return"Webos";if(iT(e))return"Safari";if((e.includes("chrome/")||sT(e))&&!e.includes("edge/"))return"Chrome";if(oT(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function nT(t=_r()){return/firefox\//i.test(t)}function iT(t=_r()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sT(t=_r()){return/crios\//i.test(t)}function aT(t=_r()){return/iemobile/i.test(t)}function oT(t=_r()){return/android/i.test(t)}function lT(t=_r()){return/blackberry/i.test(t)}function uT(t=_r()){return/webos/i.test(t)}function Ym(t=_r()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function UP(t=_r()){var e;return Ym(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jP(){return tR()&&document.documentMode===10}function cT(t=_r()){return Ym(t)||oT(t)||uT(t)||lT(t)||/windows phone/i.test(t)||aT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(t,e=[]){let r;switch(t){case"Browser":r=l_(_r());break;case"Worker":r=`${l_(_r())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Vo}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(t,e={}){return Cs(t,"GET","/v2/passwordPolicy",xa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=6;class HP{constructor(e){var r,n,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=a.minPasswordLength)!==null&&r!==void 0?r:WP,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u_(this),this.idTokenSubscription=new u_(this),this.beforeStateQueue=new $P(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ci(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await co.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await eT(this,{idToken:e}),n=await ui._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(oi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await qh(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(ps(this));const r=e?Zr(e):null;return r&&Ce(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zP(this),r=new HP(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _a("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await BP(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ci(e)||this._popupRedirectResolver;Ce(r,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[ci(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{a=!0,l()}}else{const l=e.addObserver(r);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&wP(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Bo(t){return Zr(t)}class u_{constructor(e){this.auth=e,this.observer=null,this.addObserver=lR(r=>this.observer=r)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KP(t){Wf=t}function fT(t){return Wf.loadJS(t)}function qP(){return Wf.recaptchaEnterpriseScript}function XP(){return Wf.gapiScript}function YP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const QP="recaptcha-enterprise",JP="NO_RECAPTCHA";class ZP{constructor(e){this.type=QP,this.auth=Bo(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{NP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new PP(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;i_(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(JP)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{n(this.auth).then(o=>{if(!r&&i_(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=qP();l.length!==0&&(l+=o),fT(l).then(()=>{i(o,s,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function c_(t,e,r,n=!1){const i=new ZP(t);let s;try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const a=Object.assign({},e);return n?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function h_(t,e,r,n){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await c_(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await c_(t,e,r,r==="getOobCode");return n(t,a)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(t,e){const r=ya(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(gu(s,e??{}))return i;Pn(i,"already-initialized")}return r.initialize({options:e})}function tN(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(ci);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function rN(t,e,r){const n=Bo(t);Ce(n._canInitEmulator,n,"emulator-config-failed"),Ce(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=dT(e),{host:a,port:o}=nN(e),l=o===null?"":`:${o}`;n.config.emulator={url:`${s}//${a}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),iN()}function dT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nN(t){const e=dT(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:f_(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:f_(a)}}}function f_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function iN(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,r){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function sN(t,e){return Cs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(t,e){return zf(t,"POST","/v1/accounts:signInWithPassword",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(t,e){return zf(t,"POST","/v1/accounts:signInWithEmailLink",xa(t,e))}async function lN(t,e){return zf(t,"POST","/v1/accounts:signInWithEmailLink",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends Qm{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new yu(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new yu(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h_(e,r,"signInWithPassword",aN);case"emailLink":return oN(e,{email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return h_(e,n,"signUpPassword",sN);case"emailLink":return lN(e,{idToken:r,email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(t,e){return zf(t,"POST","/v1/accounts:signInWithIdp",xa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="http://localhost";class aa extends Qm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Pn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i}=r,s=Gm(r,["providerId","signInMethod"]);if(!n||!i)return null;const a=new aa(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return ho(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,ho(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,ho(e,r)}buildRequest(){const e={requestUri:uN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Uu(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hN(t){const e=wl(Tl(t)).link,r=e?wl(Tl(e)).deep_link_id:null,n=wl(Tl(t)).deep_link_id;return(n?wl(Tl(n)).link:null)||n||r||e||t}class Jm{constructor(e){var r,n,i,s,a,o;const l=wl(Tl(e)),u=(r=l.apiKey)!==null&&r!==void 0?r:null,h=(n=l.oobCode)!==null&&n!==void 0?n:null,f=cN((i=l.mode)!==null&&i!==void 0?i:null);Ce(u&&h&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const r=hN(e);try{return new Jm(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.providerId=Uo.PROVIDER_ID}static credential(e,r){return yu._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Jm.parseLink(r);return Ce(n,"argument-error"),yu._fromEmailAndCode(e,n.code,n.tenantId)}}Uo.PROVIDER_ID="password";Uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends pT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends $u{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends $u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return aa._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Ki.credential(r,n)}catch{return null}}}Ki.GOOGLE_SIGN_IN_METHOD="google.com";Ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends $u{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.GITHUB_SIGN_IN_METHOD="github.com";qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends $u{constructor(){super("twitter.com")}static credential(e,r){return aa._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Xi.credential(r,n)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await ui._fromIdTokenResponse(e,n,i),a=d_(n);return new Ao({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=d_(n);return new Ao({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function d_(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh extends Nn{constructor(e,r,n,i){var s;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Xh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new Xh(e,r,n,i)}}function mT(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xh._fromErrorAndOperation(t,s,e,n):s})}async function fN(t,e,r=!1){const n=await _u(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Ao._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(t,e,r=!1){const{auth:n}=t;if(oi(n.app))return Promise.reject(ps(n));const i="reauthenticate";try{const s=await _u(t,mT(n,i,e,t),r);Ce(s.idToken,n,"internal-error");const a=Xm(s.idToken);Ce(a,n,"internal-error");const{sub:o}=a;return Ce(t.uid===o,n,"user-mismatch"),Ao._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Pn(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gT(t,e,r=!1){if(oi(t.app))return Promise.reject(ps(t));const n="signIn",i=await mT(t,n,e),s=await Ao._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function pN(t,e){return gT(Bo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(t){const e=Bo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function gN(t,e,r){return oi(t.app)?Promise.reject(ps(t)):pN(Zr(t),Uo.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&mN(t),n})}function vN(t,e,r,n){return Zr(t).onIdTokenChanged(e,r,n)}function _N(t,e,r){return Zr(t).beforeAuthStateChanged(e,r)}function yN(t,e,r,n){return Zr(t).onAuthStateChanged(e,r,n)}function xN(t){return Zr(t).signOut()}const Yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Yh,"1"),this.storage.removeItem(Yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=1e3,wN=10;class _T extends vT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);jP()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,wN):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},EN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}_T.type="LOCAL";const TN=_T;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT extends vT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}yT.type="SESSION";const xT=yT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Hf(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async u=>u(r.origin,s)),l=await SN(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=Zm("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(d.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return window}function IN(t){$n().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(){return typeof $n().WorkerGlobalScope<"u"&&typeof $n().importScripts=="function"}async function CN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function RN(){return ET()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="firebaseLocalStorageDb",PN=1,Qh="firebaseLocalStorage",TT="fbase_key";class zu{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Gf(t,e){return t.transaction([Qh],e?"readwrite":"readonly").objectStore(Qh)}function NN(){const t=indexedDB.deleteDatabase(wT);return new zu(t).toPromise()}function Ap(){const t=indexedDB.open(wT,PN);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Qh,{keyPath:TT})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Qh)?e(n):(n.close(),await NN(),e(await Ap()))})})}async function p_(t,e,r){const n=Gf(t,!0).put({[TT]:e,value:r});return new zu(n).toPromise()}async function DN(t,e){const r=Gf(t,!1).get(e),n=await new zu(r).toPromise();return n===void 0?null:n.value}function m_(t,e){const r=Gf(t,!0).delete(e);return new zu(r).toPromise()}const ON=800,FN=3;class ST{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ap(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>FN)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ET()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hf._getInstance(RN()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await CN(),!this.activeServiceWorker)return;this.sender=new AN(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ap();return await p_(e,Yh,"1"),await m_(e,Yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>p_(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>DN(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>m_(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Gf(i,!1).getAll();return new zu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ON)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ST.type="LOCAL";const LN=ST;new ju(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(t,e){return e?ci(e):(Ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg extends Qm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,r){return ho(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function bN(t){return gT(t.auth,new eg(t),t.bypassAuthState)}function VN(t){const{auth:e,user:r}=t;return Ce(r,e,"internal-error"),dN(r,new eg(t),t.bypassAuthState)}async function BN(t){const{auth:e,user:r}=t;return Ce(r,e,"internal-error"),fN(r,new eg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bN;case"linkViaPopup":case"linkViaRedirect":return BN;case"reauthViaPopup":case"reauthViaRedirect":return VN;default:Pn(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=new ju(2e3,1e4);class to extends AT{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Ti(this.filter.length===1,"Popup operations only handle one event");const e=Zm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UN.get())};e()}}to.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="pendingRedirect",fh=new Map;class $N extends AT{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const n=await zN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zN(t,e){const r=GN(e),n=HN(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function WN(t,e){fh.set(t._key(),e)}function HN(t){return ci(t._redirectPersistence)}function GN(t){return hh(jN,t.config.apiKey,t.name)}async function KN(t,e,r=!1){if(oi(t.app))return Promise.reject(ps(t));const n=Bo(t),i=MN(n,e),a=await new $N(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=10*60*1e3;class XN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YN(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!IT(e)){const i=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(jn(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qN&&this.cachedEventUids.clear(),this.cachedEventUids.has(g_(e))}saveEventToCache(e){this.cachedEventUids.add(g_(e)),this.lastProcessedEventTime=Date.now()}}function g_(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function YN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(t,e={}){return Cs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZN=/^https?/;async function eD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QN(t);for(const r of e)try{if(tD(r))return}catch{}Pn(t,"unauthorized-domain")}function tD(t){const e=Tp(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!ZN.test(r))return!1;if(JN.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=new ju(3e4,6e4);function v_(){const t=$n().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function nD(t){return new Promise((e,r)=>{var n,i,s;function a(){v_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v_(),r(jn(t,"network-request-failed"))},timeout:rD.get()})}if(!((i=(n=$n().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=$n().gapi)===null||s===void 0)&&s.load)a();else{const o=YP("iframefcb");return $n()[o]=()=>{gapi.load?a():r(jn(t,"network-request-failed"))},fT(`${XP()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw dh=null,e})}let dh=null;function iD(t){return dh=dh||nD(t),dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new ju(5e3,15e3),aD="__/auth/iframe",oD="emulator/auth/iframe",lD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cD(t){const e=t.config;Ce(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?qm(e,oD):`https://${t.config.authDomain}/${aD}`,n={apiKey:e.apiKey,appName:t.name,v:Vo},i=uD.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${Uu(n).slice(1)}`}async function hD(t){const e=await iD(t),r=$n().gapi;return Ce(r,t,"internal-error"),e.open({where:document.body,url:cD(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lD,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=jn(t,"network-request-failed"),o=$n().setTimeout(()=>{s(a)},sD.get());function l(){$n().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dD=500,pD=600,mD="_blank",gD="http://localhost";class __{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vD(t,e,r,n=dD,i=pD){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l=Object.assign(Object.assign({},fD),{width:n.toString(),height:i.toString(),top:s,left:a}),u=_r().toLowerCase();r&&(o=sT(u)?mD:r),nT(u)&&(e=e||gD,l.scrollbars="yes");const h=Object.entries(l).reduce((d,[m,y])=>`${d}${m}=${y},`,"");if(UP(u)&&o!=="_self")return _D(e||"",o),new __(null);const f=window.open(e||"",o,h);Ce(f,t,"popup-blocked");try{f.focus()}catch{}return new __(f)}function _D(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD="__/auth/handler",xD="emulator/auth/handler",ED=encodeURIComponent("fac");async function y_(t,e,r,n,i,s){Ce(t.config.authDomain,t,"auth-domain-config-required"),Ce(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Vo,eventId:i};if(e instanceof pT){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",oR(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))a[h]=f}if(e instanceof $u){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const l=await t._getAppCheckToken(),u=l?`#${ED}=${encodeURIComponent(l)}`:"";return`${wD(t)}?${Uu(o).slice(1)}${u}`}function wD({config:t}){return t.emulator?qm(t,xD):`https://${t.authDomain}/${yD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="webStorageSupport";class TD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xT,this._completeRedirectFn=KN,this._overrideRedirectResult=WN}async _openPopup(e,r,n,i){var s;Ti((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await y_(e,r,n,Tp(),i);return vD(e,a,Zm())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await y_(e,r,n,Tp(),i);return IN(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(Ti(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await hD(e),n=new XN(e);return r.register("authEvent",i=>(Ce(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(od,{type:od},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[od];a!==void 0&&r(!!a),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=eD(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return cT()||iT()||Ym()}}const SD=TD;var x_="@firebase/auth",E_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CD(t){Gn(new Rn("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;Ce(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hT(t)},u=new GP(n,i,s,l);return tN(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Gn(new Rn("auth-internal",e=>{const r=Bo(e.getProvider("auth").getImmediate());return(n=>new AD(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),un(x_,E_,ID(t)),un(x_,E_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=5*60,RD=Vw("authIdTokenMaxAge")||kD;let w_=null;const PD=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>RD)return;const i=r==null?void 0:r.token;w_!==i&&(w_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ND(t=Hm()){const e=ya(t,"auth");if(e.isInitialized())return e.getImmediate();const r=eN(t,{popupRedirectResolver:SD,persistence:[LN,TN,xT]}),n=Vw("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=PD(s.toString());_N(r,a,()=>a(r.currentUser)),vN(r,o=>a(o))}}const i=Mw("auth");return i&&rN(r,`http://${i}`),r}function DD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}KP({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=jn("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",DD().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CD("Browser");var OD="firebase",FD="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un(OD,FD,"app");var T_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zs,CT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,w){function A(){}A.prototype=w.prototype,T.D=w.prototype,T.prototype=new A,T.prototype.constructor=T,T.C=function(k,O,b){for(var N=Array(arguments.length-2),De=2;De<arguments.length;De++)N[De-2]=arguments[De];return w.prototype[O].apply(k,N)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,w,A){A||(A=0);var k=Array(16);if(typeof w=="string")for(var O=0;16>O;++O)k[O]=w.charCodeAt(A++)|w.charCodeAt(A++)<<8|w.charCodeAt(A++)<<16|w.charCodeAt(A++)<<24;else for(O=0;16>O;++O)k[O]=w[A++]|w[A++]<<8|w[A++]<<16|w[A++]<<24;w=T.g[0],A=T.g[1],O=T.g[2];var b=T.g[3],N=w+(b^A&(O^b))+k[0]+3614090360&4294967295;w=A+(N<<7&4294967295|N>>>25),N=b+(O^w&(A^O))+k[1]+3905402710&4294967295,b=w+(N<<12&4294967295|N>>>20),N=O+(A^b&(w^A))+k[2]+606105819&4294967295,O=b+(N<<17&4294967295|N>>>15),N=A+(w^O&(b^w))+k[3]+3250441966&4294967295,A=O+(N<<22&4294967295|N>>>10),N=w+(b^A&(O^b))+k[4]+4118548399&4294967295,w=A+(N<<7&4294967295|N>>>25),N=b+(O^w&(A^O))+k[5]+1200080426&4294967295,b=w+(N<<12&4294967295|N>>>20),N=O+(A^b&(w^A))+k[6]+2821735955&4294967295,O=b+(N<<17&4294967295|N>>>15),N=A+(w^O&(b^w))+k[7]+4249261313&4294967295,A=O+(N<<22&4294967295|N>>>10),N=w+(b^A&(O^b))+k[8]+1770035416&4294967295,w=A+(N<<7&4294967295|N>>>25),N=b+(O^w&(A^O))+k[9]+2336552879&4294967295,b=w+(N<<12&4294967295|N>>>20),N=O+(A^b&(w^A))+k[10]+4294925233&4294967295,O=b+(N<<17&4294967295|N>>>15),N=A+(w^O&(b^w))+k[11]+2304563134&4294967295,A=O+(N<<22&4294967295|N>>>10),N=w+(b^A&(O^b))+k[12]+1804603682&4294967295,w=A+(N<<7&4294967295|N>>>25),N=b+(O^w&(A^O))+k[13]+4254626195&4294967295,b=w+(N<<12&4294967295|N>>>20),N=O+(A^b&(w^A))+k[14]+2792965006&4294967295,O=b+(N<<17&4294967295|N>>>15),N=A+(w^O&(b^w))+k[15]+1236535329&4294967295,A=O+(N<<22&4294967295|N>>>10),N=w+(O^b&(A^O))+k[1]+4129170786&4294967295,w=A+(N<<5&4294967295|N>>>27),N=b+(A^O&(w^A))+k[6]+3225465664&4294967295,b=w+(N<<9&4294967295|N>>>23),N=O+(w^A&(b^w))+k[11]+643717713&4294967295,O=b+(N<<14&4294967295|N>>>18),N=A+(b^w&(O^b))+k[0]+3921069994&4294967295,A=O+(N<<20&4294967295|N>>>12),N=w+(O^b&(A^O))+k[5]+3593408605&4294967295,w=A+(N<<5&4294967295|N>>>27),N=b+(A^O&(w^A))+k[10]+38016083&4294967295,b=w+(N<<9&4294967295|N>>>23),N=O+(w^A&(b^w))+k[15]+3634488961&4294967295,O=b+(N<<14&4294967295|N>>>18),N=A+(b^w&(O^b))+k[4]+3889429448&4294967295,A=O+(N<<20&4294967295|N>>>12),N=w+(O^b&(A^O))+k[9]+568446438&4294967295,w=A+(N<<5&4294967295|N>>>27),N=b+(A^O&(w^A))+k[14]+3275163606&4294967295,b=w+(N<<9&4294967295|N>>>23),N=O+(w^A&(b^w))+k[3]+4107603335&4294967295,O=b+(N<<14&4294967295|N>>>18),N=A+(b^w&(O^b))+k[8]+1163531501&4294967295,A=O+(N<<20&4294967295|N>>>12),N=w+(O^b&(A^O))+k[13]+2850285829&4294967295,w=A+(N<<5&4294967295|N>>>27),N=b+(A^O&(w^A))+k[2]+4243563512&4294967295,b=w+(N<<9&4294967295|N>>>23),N=O+(w^A&(b^w))+k[7]+1735328473&4294967295,O=b+(N<<14&4294967295|N>>>18),N=A+(b^w&(O^b))+k[12]+2368359562&4294967295,A=O+(N<<20&4294967295|N>>>12),N=w+(A^O^b)+k[5]+4294588738&4294967295,w=A+(N<<4&4294967295|N>>>28),N=b+(w^A^O)+k[8]+2272392833&4294967295,b=w+(N<<11&4294967295|N>>>21),N=O+(b^w^A)+k[11]+1839030562&4294967295,O=b+(N<<16&4294967295|N>>>16),N=A+(O^b^w)+k[14]+4259657740&4294967295,A=O+(N<<23&4294967295|N>>>9),N=w+(A^O^b)+k[1]+2763975236&4294967295,w=A+(N<<4&4294967295|N>>>28),N=b+(w^A^O)+k[4]+1272893353&4294967295,b=w+(N<<11&4294967295|N>>>21),N=O+(b^w^A)+k[7]+4139469664&4294967295,O=b+(N<<16&4294967295|N>>>16),N=A+(O^b^w)+k[10]+3200236656&4294967295,A=O+(N<<23&4294967295|N>>>9),N=w+(A^O^b)+k[13]+681279174&4294967295,w=A+(N<<4&4294967295|N>>>28),N=b+(w^A^O)+k[0]+3936430074&4294967295,b=w+(N<<11&4294967295|N>>>21),N=O+(b^w^A)+k[3]+3572445317&4294967295,O=b+(N<<16&4294967295|N>>>16),N=A+(O^b^w)+k[6]+76029189&4294967295,A=O+(N<<23&4294967295|N>>>9),N=w+(A^O^b)+k[9]+3654602809&4294967295,w=A+(N<<4&4294967295|N>>>28),N=b+(w^A^O)+k[12]+3873151461&4294967295,b=w+(N<<11&4294967295|N>>>21),N=O+(b^w^A)+k[15]+530742520&4294967295,O=b+(N<<16&4294967295|N>>>16),N=A+(O^b^w)+k[2]+3299628645&4294967295,A=O+(N<<23&4294967295|N>>>9),N=w+(O^(A|~b))+k[0]+4096336452&4294967295,w=A+(N<<6&4294967295|N>>>26),N=b+(A^(w|~O))+k[7]+1126891415&4294967295,b=w+(N<<10&4294967295|N>>>22),N=O+(w^(b|~A))+k[14]+2878612391&4294967295,O=b+(N<<15&4294967295|N>>>17),N=A+(b^(O|~w))+k[5]+4237533241&4294967295,A=O+(N<<21&4294967295|N>>>11),N=w+(O^(A|~b))+k[12]+1700485571&4294967295,w=A+(N<<6&4294967295|N>>>26),N=b+(A^(w|~O))+k[3]+2399980690&4294967295,b=w+(N<<10&4294967295|N>>>22),N=O+(w^(b|~A))+k[10]+4293915773&4294967295,O=b+(N<<15&4294967295|N>>>17),N=A+(b^(O|~w))+k[1]+2240044497&4294967295,A=O+(N<<21&4294967295|N>>>11),N=w+(O^(A|~b))+k[8]+1873313359&4294967295,w=A+(N<<6&4294967295|N>>>26),N=b+(A^(w|~O))+k[15]+4264355552&4294967295,b=w+(N<<10&4294967295|N>>>22),N=O+(w^(b|~A))+k[6]+2734768916&4294967295,O=b+(N<<15&4294967295|N>>>17),N=A+(b^(O|~w))+k[13]+1309151649&4294967295,A=O+(N<<21&4294967295|N>>>11),N=w+(O^(A|~b))+k[4]+4149444226&4294967295,w=A+(N<<6&4294967295|N>>>26),N=b+(A^(w|~O))+k[11]+3174756917&4294967295,b=w+(N<<10&4294967295|N>>>22),N=O+(w^(b|~A))+k[2]+718787259&4294967295,O=b+(N<<15&4294967295|N>>>17),N=A+(b^(O|~w))+k[9]+3951481745&4294967295,T.g[0]=T.g[0]+w&4294967295,T.g[1]=T.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,T.g[2]=T.g[2]+O&4294967295,T.g[3]=T.g[3]+b&4294967295}n.prototype.u=function(T,w){w===void 0&&(w=T.length);for(var A=w-this.blockSize,k=this.B,O=this.h,b=0;b<w;){if(O==0)for(;b<=A;)i(this,T,b),b+=this.blockSize;if(typeof T=="string"){for(;b<w;)if(k[O++]=T.charCodeAt(b++),O==this.blockSize){i(this,k),O=0;break}}else for(;b<w;)if(k[O++]=T[b++],O==this.blockSize){i(this,k),O=0;break}}this.h=O,this.o+=w},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var w=1;w<T.length-8;++w)T[w]=0;var A=8*this.o;for(w=T.length-8;w<T.length;++w)T[w]=A&255,A/=256;for(this.u(T),T=Array(16),w=A=0;4>w;++w)for(var k=0;32>k;k+=8)T[A++]=this.g[w]>>>k&255;return T};function s(T,w){var A=o;return Object.prototype.hasOwnProperty.call(A,T)?A[T]:A[T]=w(T)}function a(T,w){this.h=w;for(var A=[],k=!0,O=T.length-1;0<=O;O--){var b=T[O]|0;k&&b==w||(A[O]=b,k=!1)}this.g=A}var o={};function l(T){return-128<=T&&128>T?s(T,function(w){return new a([w|0],0>w?-1:0)}):new a([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return v(u(-T));for(var w=[],A=1,k=0;T>=A;k++)w[k]=T/A|0,A*=4294967296;return new a(w,0)}function h(T,w){if(T.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(T.charAt(0)=="-")return v(h(T.substring(1),w));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(w,8)),k=f,O=0;O<T.length;O+=8){var b=Math.min(8,T.length-O),N=parseInt(T.substring(O,O+b),w);8>b?(b=u(Math.pow(w,b)),k=k.j(b).add(u(N))):(k=k.j(A),k=k.add(u(N)))}return k}var f=l(0),d=l(1),m=l(16777216);t=a.prototype,t.m=function(){if(g(this))return-v(this).m();for(var T=0,w=1,A=0;A<this.g.length;A++){var k=this.i(A);T+=(0<=k?k:4294967296+k)*w,w*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(y(this))return"0";if(g(this))return"-"+v(this).toString(T);for(var w=u(Math.pow(T,6)),A=this,k="";;){var O=V(A,w).g;A=S(A,O.j(w));var b=((0<A.g.length?A.g[0]:A.h)>>>0).toString(T);if(A=O,y(A))return b+k;for(;6>b.length;)b="0"+b;k=b+k}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function y(T){if(T.h!=0)return!1;for(var w=0;w<T.g.length;w++)if(T.g[w]!=0)return!1;return!0}function g(T){return T.h==-1}t.l=function(T){return T=S(this,T),g(T)?-1:y(T)?0:1};function v(T){for(var w=T.g.length,A=[],k=0;k<w;k++)A[k]=~T.g[k];return new a(A,~T.h).add(d)}t.abs=function(){return g(this)?v(this):this},t.add=function(T){for(var w=Math.max(this.g.length,T.g.length),A=[],k=0,O=0;O<=w;O++){var b=k+(this.i(O)&65535)+(T.i(O)&65535),N=(b>>>16)+(this.i(O)>>>16)+(T.i(O)>>>16);k=N>>>16,b&=65535,N&=65535,A[O]=N<<16|b}return new a(A,A[A.length-1]&-2147483648?-1:0)};function S(T,w){return T.add(v(w))}t.j=function(T){if(y(this)||y(T))return f;if(g(this))return g(T)?v(this).j(v(T)):v(v(this).j(T));if(g(T))return v(this.j(v(T)));if(0>this.l(m)&&0>T.l(m))return u(this.m()*T.m());for(var w=this.g.length+T.g.length,A=[],k=0;k<2*w;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var O=0;O<T.g.length;O++){var b=this.i(k)>>>16,N=this.i(k)&65535,De=T.i(O)>>>16,Ie=T.i(O)&65535;A[2*k+2*O]+=N*Ie,E(A,2*k+2*O),A[2*k+2*O+1]+=b*Ie,E(A,2*k+2*O+1),A[2*k+2*O+1]+=N*De,E(A,2*k+2*O+1),A[2*k+2*O+2]+=b*De,E(A,2*k+2*O+2)}for(k=0;k<w;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=w;k<2*w;k++)A[k]=0;return new a(A,0)};function E(T,w){for(;(T[w]&65535)!=T[w];)T[w+1]+=T[w]>>>16,T[w]&=65535,w++}function I(T,w){this.g=T,this.h=w}function V(T,w){if(y(w))throw Error("division by zero");if(y(T))return new I(f,f);if(g(T))return w=V(v(T),w),new I(v(w.g),v(w.h));if(g(w))return w=V(T,v(w)),new I(v(w.g),w.h);if(30<T.g.length){if(g(T)||g(w))throw Error("slowDivide_ only works with positive integers.");for(var A=d,k=w;0>=k.l(T);)A=z(A),k=z(k);var O=X(A,1),b=X(k,1);for(k=X(k,2),A=X(A,2);!y(k);){var N=b.add(k);0>=N.l(T)&&(O=O.add(A),b=N),k=X(k,1),A=X(A,1)}return w=S(T,O.j(w)),new I(O,w)}for(O=f;0<=T.l(w);){for(A=Math.max(1,Math.floor(T.m()/w.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),b=u(A),N=b.j(w);g(N)||0<N.l(T);)A-=k,b=u(A),N=b.j(w);y(b)&&(b=d),O=O.add(b),T=S(T,N)}return new I(O,T)}t.A=function(T){return V(this,T).h},t.and=function(T){for(var w=Math.max(this.g.length,T.g.length),A=[],k=0;k<w;k++)A[k]=this.i(k)&T.i(k);return new a(A,this.h&T.h)},t.or=function(T){for(var w=Math.max(this.g.length,T.g.length),A=[],k=0;k<w;k++)A[k]=this.i(k)|T.i(k);return new a(A,this.h|T.h)},t.xor=function(T){for(var w=Math.max(this.g.length,T.g.length),A=[],k=0;k<w;k++)A[k]=this.i(k)^T.i(k);return new a(A,this.h^T.h)};function z(T){for(var w=T.g.length+1,A=[],k=0;k<w;k++)A[k]=T.i(k)<<1|T.i(k-1)>>>31;return new a(A,T.h)}function X(T,w){var A=w>>5;w%=32;for(var k=T.g.length-A,O=[],b=0;b<k;b++)O[b]=0<w?T.i(b+A)>>>w|T.i(b+A+1)<<32-w:T.i(b+A);return new a(O,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,CT=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=h,Zs=a}).apply(typeof T_<"u"?T_:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kT,Sl,RT,ph,Ip,PT,NT,DT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var n=r(this);function i(c,p){if(p)e:{var _=n;c=c.split(".");for(var R=0;R<c.length-1;R++){var W=c[R];if(!(W in _))break e;_=_[W]}c=c[c.length-1],R=_[c],p=p(R),p!=R&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var _=0,R=!1,W={next:function(){if(!R&&_<c.length){var Q=_++;return{value:p(Q,c[Q]),done:!1}}return R=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function h(c,p,_){return c.call.apply(c.bind,arguments)}function f(c,p,_){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,R),c.apply(p,W)}}return function(){return c.apply(p,arguments)}}function d(c,p,_){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,d.apply(null,arguments)}function m(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var R=_.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function y(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(R,W,Q){for(var fe=Array(arguments.length-2),it=2;it<arguments.length;it++)fe[it-2]=arguments[it];return p.prototype[W].apply(R,fe)}}function g(c){const p=c.length;if(0<p){const _=Array(p);for(let R=0;R<p;R++)_[R]=c[R];return _}return[]}function v(c,p){for(let _=1;_<arguments.length;_++){const R=arguments[_];if(l(R)){const W=c.length||0,Q=R.length||0;c.length=W+Q;for(let fe=0;fe<Q;fe++)c[W+fe]=R[fe]}else c.push(R)}}class S{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function E(c){return/^[\s\xa0]*$/.test(c)}function I(){var c=o.navigator;return c&&(c=c.userAgent)?c:""}function V(c){return V[" "](c),c}V[" "]=function(){};var z=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function X(c,p,_){for(const R in c)p.call(_,c[R],R,c)}function T(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function w(c){const p={};for(const _ in c)p[_]=c[_];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,p){let _,R;for(let W=1;W<arguments.length;W++){R=arguments[W];for(_ in R)c[_]=R[_];for(let Q=0;Q<A.length;Q++)_=A[Q],Object.prototype.hasOwnProperty.call(R,_)&&(c[_]=R[_])}}function O(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function b(c){o.setTimeout(()=>{throw c},0)}function N(){var c=ye;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class De{constructor(){this.h=this.g=null}add(p,_){const R=Ie.get();R.set(p,_),this.h?this.h.next=R:this.g=R,this.h=R}}var Ie=new S(()=>new mt,c=>c.reset());class mt{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ge,ce=!1,ye=new De,Se=()=>{const c=o.Promise.resolve(void 0);Ge=()=>{c.then(Fe)}};var Fe=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){b(_)}var p=Ie;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}ce=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};o.addEventListener("test",_,p),o.removeEventListener("test",_,p)}catch{}return c}();function U(c,p){if(H.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(z){e:{try{V(p.nodeName);var W=!0;break e}catch{}W=!1}W||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:te[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&U.aa.h.call(this)}}y(U,H);var te={2:"touch",3:"pen",4:"mouse"};U.prototype.h=function(){U.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),we=0;function xe(c,p,_,R,W){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!R,this.ha=W,this.key=++we,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function $e(c){this.src=c,this.g={},this.h=0}$e.prototype.add=function(c,p,_,R,W){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var fe=Ot(c,p,R,W);return-1<fe?(p=c[fe],_||(p.fa=!1)):(p=new xe(p,this.src,Q,!!R,W),p.fa=_,c.push(p)),p};function Le(c,p){var _=p.type;if(_ in c.g){var R=c.g[_],W=Array.prototype.indexOf.call(R,p,void 0),Q;(Q=0<=W)&&Array.prototype.splice.call(R,W,1),Q&&(de(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ot(c,p,_,R){for(var W=0;W<c.length;++W){var Q=c[W];if(!Q.da&&Q.listener==p&&Q.capture==!!_&&Q.ha==R)return W}return-1}var Be="closure_lm_"+(1e6*Math.random()|0),Vr={};function ot(c,p,_,R,W){if(Array.isArray(p)){for(var Q=0;Q<p.length;Q++)ot(c,p[Q],_,R,W);return null}return _=Ds(_),c&&c[ge]?c.K(p,_,u(R)?!!R.capture:!!R,W):_e(c,p,_,!1,R,W)}function _e(c,p,_,R,W,Q){if(!p)throw Error("Invalid event type");var fe=u(W)?!!W.capture:!!W,it=Ns(c);if(it||(c[Be]=it=new $e(c)),_=it.add(p,_,R,fe,Q),_.proxy)return _;if(R=Cr(),_.proxy=R,R.src=c,R.listener=_,c.addEventListener)j||(W=fe),W===void 0&&(W=!1),c.addEventListener(p.toString(),R,W);else if(c.attachEvent)c.attachEvent(Yn(p.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Cr(){function c(_){return p.call(c.src,c.listener,_)}const p=nc;return c}function en(c,p,_,R,W){if(Array.isArray(p))for(var Q=0;Q<p.length;Q++)en(c,p[Q],_,R,W);else R=u(R)?!!R.capture:!!R,_=Ds(_),c&&c[ge]?(c=c.i,p=String(p).toString(),p in c.g&&(Q=c.g[p],_=Ot(Q,_,R,W),-1<_&&(de(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[p],c.h--)))):c&&(c=Ns(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Ot(p,_,R,W)),(_=-1<c?p[c]:null)&&pn(_))}function pn(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ge])Le(p.i,c);else{var _=c.type,R=c.proxy;p.removeEventListener?p.removeEventListener(_,R,c.capture):p.detachEvent?p.detachEvent(Yn(_),R):p.addListener&&p.removeListener&&p.removeListener(R),(_=Ns(p))?(Le(_,c),_.h==0&&(_.src=null,p[Be]=null)):de(c)}}}function Yn(c){return c in Vr?Vr[c]:Vr[c]="on"+c}function nc(c,p){if(c.da)c=!0;else{p=new U(p,this);var _=c.listener,R=c.ha||c.src;c.fa&&pn(c),c=_.call(R,p)}return c}function Ns(c){return c=c[Be],c instanceof $e?c:null}var kr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ds(c){return typeof c=="function"?c:(c[kr]||(c[kr]=function(p){return c.handleEvent(p)}),c[kr])}function It(){B.call(this),this.i=new $e(this),this.M=this,this.F=null}y(It,B),It.prototype[ge]=!0,It.prototype.removeEventListener=function(c,p,_,R){en(this,c,p,_,R)};function Ft(c,p){var _,R=c.F;if(R)for(_=[];R;R=R.F)_.push(R);if(c=c.M,R=p.type||p,typeof p=="string")p=new H(p,c);else if(p instanceof H)p.target=p.target||c;else{var W=p;p=new H(R,c),k(p,W)}if(W=!0,_)for(var Q=_.length-1;0<=Q;Q--){var fe=p.g=_[Q];W=tn(fe,R,!0,p)&&W}if(fe=p.g=c,W=tn(fe,R,!0,p)&&W,W=tn(fe,R,!1,p)&&W,_)for(Q=0;Q<_.length;Q++)fe=p.g=_[Q],W=tn(fe,R,!1,p)&&W}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],R=0;R<_.length;R++)de(_[R]);delete c.g[p],c.h--}}this.F=null},It.prototype.K=function(c,p,_,R){return this.i.add(String(c),p,!1,_,R)},It.prototype.L=function(c,p,_,R){return this.i.add(String(c),p,!0,_,R)};function tn(c,p,_,R){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var W=!0,Q=0;Q<p.length;++Q){var fe=p[Q];if(fe&&!fe.da&&fe.capture==_){var it=fe.listener,Gt=fe.ha||fe.src;fe.fa&&Le(c.i,fe),W=it.call(Gt,R)!==!1&&W}}return W&&!R.defaultPrevented}function ic(c,p,_){if(typeof c=="function")_&&(c=d(c,_));else if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:o.setTimeout(c,p||0)}function Xo(c){c.g=ic(()=>{c.g=null,c.i&&(c.i=!1,Xo(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class sc extends B{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Xo(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Di(c){B.call(this),this.h=c,this.g={}}y(Di,B);var Yo=[];function Qo(c){X(c.g,function(p,_){this.g.hasOwnProperty(_)&&pn(p)},c),c.g={}}Di.prototype.N=function(){Di.aa.N.call(this),Qo(this)},Di.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ka=o.JSON.stringify,_0=o.JSON.parse,y0=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function Ra(){}Ra.prototype.h=null;function Jo(c){return c.h||(c.h=c.i())}function Zo(){}var Os={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function el(){H.call(this,"d")}y(el,H);function Oi(){H.call(this,"c")}y(Oi,H);var Qn={},ac=null;function Pa(){return ac=ac||new It}Qn.La="serverreachability";function oc(c){H.call(this,Qn.La,c)}y(oc,H);function Fs(c){const p=Pa();Ft(p,new oc(p))}Qn.STAT_EVENT="statevent";function lc(c,p){H.call(this,Qn.STAT_EVENT,c),this.stat=p}y(lc,H);function Ht(c){const p=Pa();Ft(p,new lc(p,c))}Qn.Ma="timingevent";function uc(c,p){H.call(this,Qn.Ma,c),this.size=p}y(uc,H);function Jn(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},p)}function Ls(){this.g=!0}Ls.prototype.xa=function(){this.g=!1};function x0(c,p,_,R,W,Q){c.info(function(){if(c.g)if(Q)for(var fe="",it=Q.split("&"),Gt=0;Gt<it.length;Gt++){var ze=it[Gt].split("=");if(1<ze.length){var sr=ze[0];ze=ze[1];var ar=sr.split("_");fe=2<=ar.length&&ar[1]=="type"?fe+(sr+"="+ze+"&"):fe+(sr+"=redacted&")}}else fe=null;else fe=Q;return"XMLHTTP REQ ("+R+") [attempt "+W+"]: "+p+`
`+_+`
`+fe})}function E0(c,p,_,R,W,Q,fe){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+W+"]: "+p+`
`+_+`
`+Q+" "+fe})}function C(c,p,_,R){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+P(c,_)+(R?" "+R:"")})}function F(c,p){c.info(function(){return"TIMEOUT: "+p})}Ls.prototype.info=function(){};function P(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var R=_[c];if(!(2>R.length)){var W=R[1];if(Array.isArray(W)&&!(1>W.length)){var Q=W[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var fe=1;fe<W.length;fe++)W[fe]=""}}}}return ka(_)}catch{return p}}var D={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},L={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},M;function G(){}y(G,Ra),G.prototype.g=function(){return new XMLHttpRequest},G.prototype.i=function(){return{}},M=new G;function J(c,p,_,R){this.j=c,this.i=p,this.l=_,this.R=R||1,this.U=new Di(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new K}function K(){this.i=null,this.g="",this.h=!1}var q={},Y={};function se(c,p,_){c.L=1,c.v=fc(ei(p)),c.m=_,c.P=!0,he(c,null)}function he(c,p){c.F=Date.now(),pe(c),c.A=ei(c.v);var _=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),o1(_.i,"t",R),c.C=0,_=c.j.J,c.h=new K,c.g=A1(c.j,_?p:null,!c.m),0<c.O&&(c.M=new sc(d(c.Y,c,c.g),c.O)),p=c.U,_=c.g,R=c.ca;var W="readystatechange";Array.isArray(W)||(W&&(Yo[0]=W.toString()),W=Yo);for(var Q=0;Q<W.length;Q++){var fe=ot(_,W[Q],R||p.handleEvent,!1,p.h||p);if(!fe)break;p.g[fe.key]=fe}p=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Fs(),x0(c.i,c.u,c.A,c.l,c.R,c.m)}J.prototype.ca=function(c){c=c.target;const p=this.M;p&&ti(c)==3?p.j():this.Y(c)},J.prototype.Y=function(c){try{if(c==this.g)e:{const ar=ti(this.g);var p=this.g.Ba();const Fa=this.g.Z();if(!(3>ar)&&(ar!=3||this.g&&(this.h.h||this.g.oa()||p1(this.g)))){this.J||ar!=4||p==7||(p==8||0>=Fa?Fs(3):Fs(2)),nt(this);var _=this.g.Z();this.X=_;t:if(me(this)){var R=p1(this.g);c="";var W=R.length,Q=ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ft(this),Xe(this);var fe="";break t}this.h.i=new o.TextDecoder}for(p=0;p<W;p++)this.h.h=!0,c+=this.h.i.decode(R[p],{stream:!(Q&&p==W-1)});R.length=0,this.h.g+=c,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=_==200,E0(this.i,this.u,this.A,this.l,this.R,ar,_),this.o){if(this.T&&!this.K){t:{if(this.g){var it,Gt=this.g;if((it=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(it)){var ze=it;break t}}ze=null}if(_=ze)C(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zn(this,_);else{this.o=!1,this.s=3,Ht(12),ft(this),Xe(this);break e}}if(this.P){_=!0;let mn;for(;!this.J&&this.C<fe.length;)if(mn=oe(this,fe),mn==Y){ar==4&&(this.s=4,Ht(14),_=!1),C(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==q){this.s=4,Ht(15),C(this.i,this.l,fe,"[Invalid Chunk]"),_=!1;break}else C(this.i,this.l,mn,null),Zn(this,mn);if(me(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ar!=4||fe.length!=0||this.h.h||(this.s=1,Ht(16),_=!1),this.o=this.o&&_,!_)C(this.i,this.l,fe,"[Invalid Chunked Response]"),ft(this),Xe(this);else if(0<fe.length&&!this.W){this.W=!0;var sr=this.j;sr.g==this&&sr.ba&&!sr.M&&(sr.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),I0(sr),sr.M=!0,Ht(11))}}else C(this.i,this.l,fe,null),Zn(this,fe);ar==4&&ft(this),this.o&&!this.J&&(ar==4?E1(this.j,this):(this.o=!1,pe(this)))}else mI(this.g),_==400&&0<fe.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),ft(this),Xe(this)}}}catch{}finally{}};function me(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function oe(c,p){var _=c.C,R=p.indexOf(`
`,_);return R==-1?Y:(_=Number(p.substring(_,R)),isNaN(_)?q:(R+=1,R+_>p.length?Y:(p=p.slice(R,R+_),c.C=R+_,p)))}J.prototype.cancel=function(){this.J=!0,ft(this)};function pe(c){c.S=Date.now()+c.I,ke(c,c.I)}function ke(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Jn(d(c.ba,c),p)}function nt(c){c.B&&(o.clearTimeout(c.B),c.B=null)}J.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(F(this.i,this.A),this.L!=2&&(Fs(),Ht(17)),ft(this),this.s=2,Xe(this)):ke(this,this.S-c)};function Xe(c){c.j.G==0||c.J||E1(c.j,c)}function ft(c){nt(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Qo(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Zn(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||Br(_.h,c))){if(!c.K&&Br(_.h,c)&&_.G==3){try{var R=_.Da.g.parse(p)}catch{R=null}if(Array.isArray(R)&&R.length==3){var W=R;if(W[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)_c(_),gc(_);else break e;A0(_),Ht(18)}}else _.za=W[1],0<_.za-_.T&&37500>W[2]&&_.F&&_.v==0&&!_.C&&(_.C=Jn(d(_.Za,_),6e3));if(1>=Na(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Vs(_,11)}else if((c.K||_.g==c)&&_c(_),!E(p))for(W=_.Da.g.parse(p),p=0;p<W.length;p++){let ze=W[p];if(_.T=ze[0],ze=ze[1],_.G==2)if(ze[0]=="c"){_.K=ze[1],_.ia=ze[2];const sr=ze[3];sr!=null&&(_.la=sr,_.j.info("VER="+_.la));const ar=ze[4];ar!=null&&(_.Aa=ar,_.j.info("SVER="+_.Aa));const Fa=ze[5];Fa!=null&&typeof Fa=="number"&&0<Fa&&(R=1.5*Fa,_.L=R,_.j.info("backChannelRequestTimeoutMs_="+R)),R=_;const mn=c.g;if(mn){const xc=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xc){var Q=R.h;Q.g||xc.indexOf("spdy")==-1&&xc.indexOf("quic")==-1&&xc.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(w0(Q,Q.h),Q.h=null))}if(R.D){const C0=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;C0&&(R.ya=C0,lt(R.I,R.D,C0))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),R=_;var fe=c;if(R.qa=S1(R,R.J?R.ia:null,R.W),fe.K){Zg(R.h,fe);var it=fe,Gt=R.L;Gt&&(it.I=Gt),it.B&&(nt(it),pe(it)),R.g=fe}else y1(R);0<_.i.length&&vc(_)}else ze[0]!="stop"&&ze[0]!="close"||Vs(_,7);else _.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Vs(_,7):S0(_):ze[0]!="noop"&&_.l&&_.l.ta(ze),_.v=0)}}Fs(4)}catch{}}var Ms=class{constructor(c,p){this.g=c,this.map=p}};function Fi(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Na(c){return c.h?1:c.g?c.g.size:0}function Br(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function w0(c,p){c.g?c.g.add(p):c.h=p}function Zg(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Fi.prototype.cancel=function(){if(this.i=e1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function e1(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return g(c.i)}function eI(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],_=c.length,R=0;R<_;R++)p.push(c[R]);return p}p=[],_=0;for(R in c)p[_++]=c[R];return p}function tI(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const R in c)p[_++]=R;return p}}}function t1(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=tI(c),R=eI(c),W=R.length,Q=0;Q<W;Q++)p.call(void 0,R[Q],_&&_[Q],c)}var r1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rI(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var R=c[_].indexOf("="),W=null;if(0<=R){var Q=c[_].substring(0,R);W=c[_].substring(R+1)}else Q=c[_];p(Q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function bs(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof bs){this.h=c.h,cc(this,c.j),this.o=c.o,this.g=c.g,hc(this,c.s),this.l=c.l;var p=c.i,_=new nl;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),n1(this,_),this.m=c.m}else c&&(p=String(c).match(r1))?(this.h=!1,cc(this,p[1]||"",!0),this.o=tl(p[2]||""),this.g=tl(p[3]||"",!0),hc(this,p[4]),this.l=tl(p[5]||"",!0),n1(this,p[6]||"",!0),this.m=tl(p[7]||"")):(this.h=!1,this.i=new nl(null,this.h))}bs.prototype.toString=function(){var c=[],p=this.j;p&&c.push(rl(p,i1,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(rl(p,i1,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(rl(_,_.charAt(0)=="/"?sI:iI,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",rl(_,oI)),c.join("")};function ei(c){return new bs(c)}function cc(c,p,_){c.j=_?tl(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function hc(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function n1(c,p,_){p instanceof nl?(c.i=p,lI(c.i,c.h)):(_||(p=rl(p,aI)),c.i=new nl(p,c.h))}function lt(c,p,_){c.i.set(p,_)}function fc(c){return lt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function tl(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function rl(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,nI),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nI(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var i1=/[#\/\?@]/g,iI=/[#\?:]/g,sI=/[#\?]/g,aI=/[#\?@]/g,oI=/#/g;function nl(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Li(c){c.g||(c.g=new Map,c.h=0,c.i&&rI(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}t=nl.prototype,t.add=function(c,p){Li(this),this.i=null,c=Da(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function s1(c,p){Li(c),p=Da(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function a1(c,p){return Li(c),p=Da(c,p),c.g.has(p)}t.forEach=function(c,p){Li(this),this.g.forEach(function(_,R){_.forEach(function(W){c.call(p,W,R,this)},this)},this)},t.na=function(){Li(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let R=0;R<p.length;R++){const W=c[R];for(let Q=0;Q<W.length;Q++)_.push(p[R])}return _},t.V=function(c){Li(this);let p=[];if(typeof c=="string")a1(this,c)&&(p=p.concat(this.g.get(Da(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},t.set=function(c,p){return Li(this),this.i=null,c=Da(this,c),a1(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function o1(c,p,_){s1(c,p),0<_.length&&(c.i=null,c.g.set(Da(c,p),g(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var R=p[_];const Q=encodeURIComponent(String(R)),fe=this.V(R);for(R=0;R<fe.length;R++){var W=Q;fe[R]!==""&&(W+="="+encodeURIComponent(String(fe[R]))),c.push(W)}}return this.i=c.join("&")};function Da(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function lI(c,p){p&&!c.j&&(Li(c),c.i=null,c.g.forEach(function(_,R){var W=R.toLowerCase();R!=W&&(s1(this,R),o1(this,W,_))},c)),c.j=p}function uI(c,p){const _=new Ls;if(o.Image){const R=new Image;R.onload=m(Mi,_,"TestLoadImage: loaded",!0,p,R),R.onerror=m(Mi,_,"TestLoadImage: error",!1,p,R),R.onabort=m(Mi,_,"TestLoadImage: abort",!1,p,R),R.ontimeout=m(Mi,_,"TestLoadImage: timeout",!1,p,R),o.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else p(!1)}function cI(c,p){const _=new Ls,R=new AbortController,W=setTimeout(()=>{R.abort(),Mi(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:R.signal}).then(Q=>{clearTimeout(W),Q.ok?Mi(_,"TestPingServer: ok",!0,p):Mi(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(W),Mi(_,"TestPingServer: error",!1,p)})}function Mi(c,p,_,R,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),R(_)}catch{}}function hI(){this.g=new y0}function fI(c,p,_){const R=_||"";try{t1(c,function(W,Q){let fe=W;u(W)&&(fe=ka(W)),p.push(R+Q+"="+encodeURIComponent(fe))})}catch(W){throw p.push(R+"type="+encodeURIComponent("_badmap")),W}}function dc(c){this.l=c.Ub||null,this.j=c.eb||!1}y(dc,Ra),dc.prototype.g=function(){return new pc(this.l,this.j)},dc.prototype.i=function(c){return function(){return c}}({});function pc(c,p){It.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(pc,It),t=pc.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,sl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||o).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,il(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,sl(this)),this.g&&(this.readyState=3,sl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;l1(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function l1(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?il(this):sl(this),this.readyState==3&&l1(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,il(this))},t.Qa=function(c){this.g&&(this.response=c,il(this))},t.ga=function(){this.g&&il(this)};function il(c){c.readyState=4,c.l=null,c.j=null,c.v=null,sl(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function sl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(pc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function u1(c){let p="";return X(c,function(_,R){p+=R,p+=":",p+=_,p+=`\r
`}),p}function T0(c,p,_){e:{for(R in _){var R=!1;break e}R=!0}R||(_=u1(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):lt(c,p,_))}function xt(c){It.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(xt,It);var dI=/^https?$/i,pI=["POST","PUT"];t=xt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,_,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():M.g(),this.v=this.o?Jo(this.o):Jo(M),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(Q){c1(this,Q);return}if(c=_||"",_=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var W in R)_.set(W,R[W]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Q of R.keys())_.set(Q,R.get(Q));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),W=o.FormData&&c instanceof o.FormData,!(0<=Array.prototype.indexOf.call(pI,p,void 0))||R||W||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,fe]of _)this.g.setRequestHeader(Q,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{d1(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){c1(this,Q)}};function c1(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,h1(c),mc(c)}function h1(c){c.A||(c.A=!0,Ft(c,"complete"),Ft(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ft(this,"complete"),Ft(this,"abort"),mc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mc(this,!0)),xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?f1(this):this.bb())},t.bb=function(){f1(this)};function f1(c){if(c.h&&typeof a<"u"&&(!c.v[1]||ti(c)!=4||c.Z()!=2)){if(c.u&&ti(c)==4)ic(c.Ea,0,c);else if(Ft(c,"readystatechange"),ti(c)==4){c.h=!1;try{const fe=c.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var R;if(R=fe===0){var W=String(c.D).match(r1)[1]||null;!W&&o.self&&o.self.location&&(W=o.self.location.protocol.slice(0,-1)),R=!dI.test(W?W.toLowerCase():"")}_=R}if(_)Ft(c,"complete"),Ft(c,"success");else{c.m=6;try{var Q=2<ti(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",h1(c)}}finally{mc(c)}}}}function mc(c,p){if(c.g){d1(c);const _=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Ft(c,"ready");try{_.onreadystatechange=R}catch{}}}function d1(c){c.I&&(o.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function ti(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<ti(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),_0(p)}};function p1(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function mI(c){const p={};c=(c.g&&2<=ti(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(E(c[R]))continue;var _=O(c[R]);const W=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=p[W]||[];p[W]=Q,Q.push(_)}T(p,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function al(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function m1(c){this.Aa=0,this.i=[],this.j=new Ls,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=al("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=al("baseRetryDelayMs",5e3,c),this.cb=al("retryDelaySeedMs",1e4,c),this.Wa=al("forwardChannelMaxRetries",2,c),this.wa=al("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Fi(c&&c.concurrentRequestLimit),this.Da=new hI,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=m1.prototype,t.la=8,t.G=1,t.connect=function(c,p,_,R){Ht(0),this.W=c,this.H=p||{},_&&R!==void 0&&(this.H.OSID=_,this.H.OAID=R),this.F=this.X,this.I=S1(this,null,this.W),vc(this)};function S0(c){if(g1(c),c.G==3){var p=c.U++,_=ei(c.I);if(lt(_,"SID",c.K),lt(_,"RID",p),lt(_,"TYPE","terminate"),ol(c,_),p=new J(c,c.j,p),p.L=2,p.v=fc(ei(_)),_=!1,o.navigator&&o.navigator.sendBeacon)try{_=o.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&o.Image&&(new Image().src=p.v,_=!0),_||(p.g=A1(p.j,null),p.g.ea(p.v)),p.F=Date.now(),pe(p)}T1(c)}function gc(c){c.g&&(I0(c),c.g.cancel(),c.g=null)}function g1(c){gc(c),c.u&&(o.clearTimeout(c.u),c.u=null),_c(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&o.clearTimeout(c.s),c.s=null)}function vc(c){if(!Dn(c.h)&&!c.s){c.s=!0;var p=c.Ga;Ge||Se(),ce||(Ge(),ce=!0),ye.add(p,c),c.B=0}}function gI(c,p){return Na(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Jn(d(c.Ga,c,p),w1(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const W=new J(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=w(Q),k(Q,this.S)):Q=this.S),this.m!==null||this.O||(W.H=Q,Q=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var R=this.i[_];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(p+=R,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=_1(this,W,p),_=ei(this.I),lt(_,"RID",c),lt(_,"CVER",22),this.D&&lt(_,"X-HTTP-Session-Id",this.D),ol(this,_),Q&&(this.O?p="headers="+encodeURIComponent(String(u1(Q)))+"&"+p:this.m&&T0(_,this.m,Q)),w0(this.h,W),this.Ua&&lt(_,"TYPE","init"),this.P?(lt(_,"$req",p),lt(_,"SID","null"),W.T=!0,se(W,_,null)):se(W,_,p),this.G=2}}else this.G==3&&(c?v1(this,c):this.i.length==0||Dn(this.h)||v1(this))};function v1(c,p){var _;p?_=p.l:_=c.U++;const R=ei(c.I);lt(R,"SID",c.K),lt(R,"RID",_),lt(R,"AID",c.T),ol(c,R),c.m&&c.o&&T0(R,c.m,c.o),_=new J(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=_1(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),w0(c.h,_),se(_,R,p)}function ol(c,p){c.H&&X(c.H,function(_,R){lt(p,R,_)}),c.l&&t1({},function(_,R){lt(p,R,_)})}function _1(c,p,_){_=Math.min(c.i.length,_);var R=c.l?d(c.l.Na,c.l,c):null;e:{var W=c.i;let Q=-1;for(;;){const fe=["count="+_];Q==-1?0<_?(Q=W[0].g,fe.push("ofs="+Q)):Q=0:fe.push("ofs="+Q);let it=!0;for(let Gt=0;Gt<_;Gt++){let ze=W[Gt].g;const sr=W[Gt].map;if(ze-=Q,0>ze)Q=Math.max(0,W[Gt].g-100),it=!1;else try{fI(sr,fe,"req"+ze+"_")}catch{R&&R(sr)}}if(it){R=fe.join("&");break e}}}return c=c.i.splice(0,_),p.D=c,R}function y1(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;Ge||Se(),ce||(Ge(),ce=!0),ye.add(p,c),c.v=0}}function A0(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Jn(d(c.Fa,c),w1(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,x1(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Jn(d(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),gc(this),x1(this))};function I0(c){c.A!=null&&(o.clearTimeout(c.A),c.A=null)}function x1(c){c.g=new J(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=ei(c.qa);lt(p,"RID","rpc"),lt(p,"SID",c.K),lt(p,"AID",c.T),lt(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&lt(p,"TO",c.ja),lt(p,"TYPE","xmlhttp"),ol(c,p),c.m&&c.o&&T0(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=fc(ei(p)),_.m=null,_.P=!0,he(_,c)}t.Za=function(){this.C!=null&&(this.C=null,gc(this),A0(this),Ht(19))};function _c(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function E1(c,p){var _=null;if(c.g==p){_c(c),I0(c),c.g=null;var R=2}else if(Br(c.h,p))_=p.D,Zg(c.h,p),R=1;else return;if(c.G!=0){if(p.o)if(R==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var W=c.B;R=Pa(),Ft(R,new uc(R,_)),vc(c)}else y1(c);else if(W=p.s,W==3||W==0&&0<p.X||!(R==1&&gI(c,p)||R==2&&A0(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),W){case 1:Vs(c,5);break;case 4:Vs(c,10);break;case 3:Vs(c,6);break;default:Vs(c,2)}}}function w1(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Vs(c,p){if(c.j.info("Error code "+p),p==2){var _=d(c.fb,c),R=c.Xa;const W=!R;R=new bs(R||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||cc(R,"https"),fc(R),W?uI(R.toString(),_):cI(R.toString(),_)}else Ht(2);c.G=0,c.l&&c.l.sa(p),T1(c),g1(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function T1(c){if(c.G=0,c.ka=[],c.l){const p=e1(c.h);(p.length!=0||c.i.length!=0)&&(v(c.ka,p),v(c.ka,c.i),c.h.i.length=0,g(c.i),c.i.length=0),c.l.ra()}}function S1(c,p,_){var R=_ instanceof bs?ei(_):new bs(_);if(R.g!="")p&&(R.g=p+"."+R.g),hc(R,R.s);else{var W=o.location;R=W.protocol,p=p?p+"."+W.hostname:W.hostname,W=+W.port;var Q=new bs(null);R&&cc(Q,R),p&&(Q.g=p),W&&hc(Q,W),_&&(Q.l=_),R=Q}return _=c.D,p=c.ya,_&&p&&lt(R,_,p),lt(R,"VER",c.la),ol(c,R),R}function A1(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new xt(new dc({eb:_})):new xt(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function I1(){}t=I1.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yc(){}yc.prototype.g=function(c,p){return new Ur(c,p)};function Ur(c,p){It.call(this),this.g=new m1(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!E(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!E(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Oa(this)}y(Ur,It),Ur.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ur.prototype.close=function(){S0(this.g)},Ur.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ka(c),c=_);p.i.push(new Ms(p.Ya++,c)),p.G==3&&vc(p)},Ur.prototype.N=function(){this.g.l=null,delete this.j,S0(this.g),delete this.g,Ur.aa.N.call(this)};function C1(c){el.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}y(C1,el);function k1(){Oi.call(this),this.status=1}y(k1,Oi);function Oa(c){this.g=c}y(Oa,I1),Oa.prototype.ua=function(){Ft(this.g,"a")},Oa.prototype.ta=function(c){Ft(this.g,new C1(c))},Oa.prototype.sa=function(c){Ft(this.g,new k1)},Oa.prototype.ra=function(){Ft(this.g,"b")},yc.prototype.createWebChannel=yc.prototype.g,Ur.prototype.send=Ur.prototype.o,Ur.prototype.open=Ur.prototype.m,Ur.prototype.close=Ur.prototype.close,DT=function(){return new yc},NT=function(){return Pa()},PT=Qn,Ip={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},D.NO_ERROR=0,D.TIMEOUT=8,D.HTTP_ERROR=6,ph=D,L.COMPLETE="complete",RT=L,Zo.EventType=Os,Os.OPEN="a",Os.CLOSE="b",Os.ERROR="c",Os.MESSAGE="d",It.prototype.listen=It.prototype.K,Sl=Zo,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,kT=xt}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const S_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cr.UNAUTHENTICATED=new cr(null),cr.GOOGLE_CREDENTIALS=new cr("google-credentials-uid"),cr.FIRST_PARTY=new cr("first-party-uid"),cr.MOCK_USER=new cr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new $f("@firebase/firestore");function gl(){return oa.logLevel}function Ee(t,...e){if(oa.logLevel<=Ve.DEBUG){const r=e.map(tg);oa.debug(`Firestore (${jo}): ${t}`,...r)}}function Si(t,...e){if(oa.logLevel<=Ve.ERROR){const r=e.map(tg);oa.error(`Firestore (${jo}): ${t}`,...r)}}function Io(t,...e){if(oa.logLevel<=Ve.WARN){const r=e.map(tg);oa.warn(`Firestore (${jo}): ${t}`,...r)}}function tg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t="Unexpected state"){const e=`FIRESTORE (${jo}) INTERNAL ASSERTION FAILED: `+t;throw Si(e),new Error(e)}function et(t,e){t||Re()}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Nn{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(cr.UNAUTHENTICATED))}shutdown(){}}class MD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class bD{constructor(e){this.t=e,this.currentUser=cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){et(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let s=new di;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new di,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new di)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(et(typeof n.accessToken=="string"),new OT(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new cr(e)}}class VD{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=cr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class BD{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new VD(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(cr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class UD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){et(this.o===void 0);const n=s=>{s.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,Ee("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(et(typeof r.token=="string"),this.R=r.token,new UD(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=$D(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function He(t,e){return t<e?-1:t>e?1:0}function Co(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Te(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Te(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new Te(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pr.fromMillis(Date.now())}static fromDate(e){return pr.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new pr(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new pr(0,0))}static max(){return new Pe(new pr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,r,n){r===void 0?r=0:r>e.length&&Re(),n===void 0?n=e.length-r:n>e.length-r&&Re(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return xu.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof xu?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),a=r.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class pt extends xu{construct(e,r,n){return new pt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Te(ie.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new pt(r)}static emptyPath(){return new pt([])}}const zD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dr extends xu{construct(e,r,n){return new dr(e,r,n)}static isValidIdentifier(e){return zD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new dr(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Te(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Te(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Te(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new Te(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dr(r)}static emptyPath(){return new dr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(pt.fromString(e))}static fromName(e){return new Ae(pt.fromString(e).popFirst(5))}static empty(){return new Ae(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return pt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new pt(e.slice()))}}function WD(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(n===1e9?new pr(r+1,0):new pr(r,n));return new _s(i,Ae.empty(),e)}function HD(t){return new _s(t.readTime,t.key,-1)}class _s{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new _s(Pe.min(),Ae.empty(),-1)}static max(){return new _s(Pe.max(),Ae.empty(),-1)}}function GD(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ae.comparator(t.documentKey,e.documentKey),r!==0?r:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==KD)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ne((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ne?r:ne.resolve(r)}catch(r){return ne.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ne.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ne.reject(r)}static resolve(e){return new ne((r,n)=>{r(e)})}static reject(e){return new ne((r,n)=>{n(e)})}static waitFor(e){return new ne((r,n)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&r()},l=>n(l))}),a=!0,s===i&&r()})}static or(e){let r=ne.resolve(!1);for(const n of e)r=r.next(i=>i?ne.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new ne((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;r(e[u]).next(h=>{a[u]=h,++o,o===s&&n(a)},h=>i(h))}})}static doWhile(e,r){return new ne((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function XD(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Hu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}rg.oe=-1;function Kf(t){return t==null}function Cp(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Gu(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function YD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,r){this.comparator=e,this.root=r||Yt.EMPTY}insert(e,r){return new yt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Yt.RED,this.left=i??Yt.EMPTY,this.right=s??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new Yt(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Yt.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,r,n,i,s){return this}insert(e,r,n){return new Yt(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new I_(this.data.getIterator())}getIteratorFrom(e){return new I_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof er)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new er(this.comparator);return r.data=e,r}}class I_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.fields=e,e.sort(dr.comparator)}static empty(){return new hi([])}unionWith(e){let r=new er(dr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new hi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new LT("Invalid base64 string: "+s):s}}(e);return new nr(r)}static fromUint8Array(e){const r=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new nr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nr.EMPTY_BYTE_STRING=new nr("");const QD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(t){if(et(!!t),typeof t=="string"){let e=0;const r=QD.exec(t);if(et(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:St(t.seconds),nanos:St(t.nanos)}}function St(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function la(t){return typeof t=="string"?nr.fromBase64String(t):nr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function ig(t){const e=t.mapValue.fields.__previous_value__;return ng(e)?ig(e):e}function Eu(t){const e=ys(t.mapValue.fields.__local_write_time__.timestampValue);return new pr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,r,n,i,s,a,o,l,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}class wu{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof wu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ua(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ng(t)?4:e3(t)?9007199254740991:ZD(t)?10:11:Re()}function Kn(t,e){if(t===e)return!0;const r=ua(t);if(r!==ua(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Eu(t).isEqual(Eu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=ys(i.timestampValue),o=ys(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return la(i.bytesValue).isEqual(la(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return St(i.geoPointValue.latitude)===St(s.geoPointValue.latitude)&&St(i.geoPointValue.longitude)===St(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return St(i.integerValue)===St(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=St(i.doubleValue),o=St(s.doubleValue);return a===o?Cp(a)===Cp(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Co(t.arrayValue.values||[],e.arrayValue.values||[],Kn);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(A_(a)!==A_(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Kn(a[l],o[l])))return!1;return!0}(t,e);default:return Re()}}function Tu(t,e){return(t.values||[]).find(r=>Kn(r,e))!==void 0}function ko(t,e){if(t===e)return 0;const r=ua(t),n=ua(e);if(r!==n)return He(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=St(s.integerValue||s.doubleValue),l=St(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return C_(t.timestampValue,e.timestampValue);case 4:return C_(Eu(t),Eu(e));case 5:return He(t.stringValue,e.stringValue);case 6:return function(s,a){const o=la(s),l=la(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const h=He(o[u],l[u]);if(h!==0)return h}return He(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=He(St(s.latitude),St(a.latitude));return o!==0?o:He(St(s.longitude),St(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return k_(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,u,h;const f=s.fields||{},d=a.fields||{},m=(o=f.value)===null||o===void 0?void 0:o.arrayValue,y=(l=d.value)===null||l===void 0?void 0:l.arrayValue,g=He(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((h=y==null?void 0:y.values)===null||h===void 0?void 0:h.length)||0);return g!==0?g:k_(m,y)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===jc.mapValue&&a===jc.mapValue)return 0;if(s===jc.mapValue)return 1;if(a===jc.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const d=He(l[f],h[f]);if(d!==0)return d;const m=ko(o[l[f]],u[h[f]]);if(m!==0)return m}return He(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Re()}}function C_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const r=ys(t),n=ys(e),i=He(r.seconds,n.seconds);return i!==0?i:He(r.nanos,n.nanos)}function k_(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=ko(r[i],n[i]);if(s)return s}return He(r.length,n.length)}function Ro(t){return kp(t)}function kp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=ys(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return la(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ae.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=kp(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${kp(r.fields[a])}`;return i+"}"}(t.mapValue):Re()}function Rp(t){return!!t&&"integerValue"in t}function sg(t){return!!t&&"arrayValue"in t}function R_(t){return!!t&&"nullValue"in t}function P_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mh(t){return!!t&&"mapValue"in t}function ZD(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Bl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gu(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Bl(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Bl(t.arrayValue.values[r]);return e}return Object.assign({},t)}function e3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!mh(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(r)}setAll(e){let r=dr.emptyPath(),n={},i=[];e.forEach((a,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=Bl(a):i.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());mh(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Kn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];mh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Gu(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new wn(Bl(this.value))}}function MT(t){const e=[];return Gu(t.fields,(r,n)=>{const i=new dr([r]);if(mh(n)){const s=MT(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new hi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new fr(e,0,Pe.min(),Pe.min(),Pe.min(),wn.empty(),0)}static newFoundDocument(e,r,n,i){return new fr(e,1,r,Pe.min(),n,i,0)}static newNoDocument(e,r){return new fr(e,2,r,Pe.min(),Pe.min(),wn.empty(),0)}static newUnknownDocument(e,r){return new fr(e,3,r,Pe.min(),Pe.min(),wn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,r){this.position=e,this.inclusive=r}}function N_(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=Ae.comparator(Ae.fromName(a.referenceValue),r.key):n=ko(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function D_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Kn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,r="asc"){this.field=e,this.dir=r}}function t3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{}class bt extends bT{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new n3(e,r,n):r==="array-contains"?new a3(e,n):r==="in"?new o3(e,n):r==="not-in"?new l3(e,n):r==="array-contains-any"?new u3(e,n):new bt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new i3(e,n):new s3(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(ko(r,this.value)):r!==null&&ua(this.value)===ua(r)&&this.matchesComparison(ko(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends bT{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new qn(e,r)}matches(e){return VT(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function VT(t){return t.op==="and"}function BT(t){return r3(t)&&VT(t)}function r3(t){for(const e of t.filters)if(e instanceof qn)return!1;return!0}function Pp(t){if(t instanceof bt)return t.field.canonicalString()+t.op.toString()+Ro(t.value);if(BT(t))return t.filters.map(e=>Pp(e)).join(",");{const e=t.filters.map(r=>Pp(r)).join(",");return`${t.op}(${e})`}}function UT(t,e){return t instanceof bt?function(n,i){return i instanceof bt&&n.op===i.op&&n.field.isEqual(i.field)&&Kn(n.value,i.value)}(t,e):t instanceof qn?function(n,i){return i instanceof qn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&UT(a,i.filters[o]),!0):!1}(t,e):void Re()}function jT(t){return t instanceof bt?function(r){return`${r.field.canonicalString()} ${r.op} ${Ro(r.value)}`}(t):t instanceof qn?function(r){return r.op.toString()+" {"+r.getFilters().map(jT).join(" ,")+"}"}(t):"Filter"}class n3 extends bt{constructor(e,r,n){super(e,r,n),this.key=Ae.fromName(n.referenceValue)}matches(e){const r=Ae.comparator(e.key,this.key);return this.matchesComparison(r)}}class i3 extends bt{constructor(e,r){super(e,"in",r),this.keys=$T("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class s3 extends bt{constructor(e,r){super(e,"not-in",r),this.keys=$T("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function $T(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ae.fromName(n.referenceValue))}class a3 extends bt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return sg(r)&&Tu(r.arrayValue,this.value)}}class o3 extends bt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Tu(this.value.arrayValue,r)}}class l3 extends bt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Tu(this.value.arrayValue,r)}}class u3 extends bt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!sg(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Tu(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function O_(t,e=null,r=[],n=[],i=null,s=null,a=null){return new c3(t,e,r,n,i,s,a)}function ag(t){const e=Ne(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>Pp(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),Kf(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Ro(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Ro(n)).join(",")),e.ue=r}return e.ue}function og(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!t3(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!UT(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!D_(t.startAt,e.startAt)&&D_(t.endAt,e.endAt)}function Np(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function h3(t,e,r,n,i,s,a,o){return new qf(t,e,r,n,i,s,a,o)}function lg(t){return new qf(t)}function F_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function f3(t){return t.collectionGroup!==null}function Ul(t){const e=Ne(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new er(dr.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Zh(s,n))}),r.has(dr.keyField().canonicalString())||e.ce.push(new Zh(dr.keyField(),n))}return e.ce}function zn(t){const e=Ne(t);return e.le||(e.le=d3(e,Ul(t))),e.le}function d3(t,e){if(t.limitType==="F")return O_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Zh(i.field,s)});const r=t.endAt?new Jh(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Jh(t.startAt.position,t.startAt.inclusive):null;return O_(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Dp(t,e,r){return new qf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Xf(t,e){return og(zn(t),zn(e))&&t.limitType===e.limitType}function zT(t){return`${ag(zn(t))}|lt:${t.limitType}`}function Ba(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>jT(i)).join(", ")}]`),Kf(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Ro(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Ro(i)).join(",")),`Target(${n})`}(zn(t))}; limitType=${t.limitType})`}function Yf(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):Ae.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of Ul(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,o,l){const u=N_(a,o,l);return a.inclusive?u<=0:u<0}(n.startAt,Ul(n),i)||n.endAt&&!function(a,o,l){const u=N_(a,o,l);return a.inclusive?u>=0:u>0}(n.endAt,Ul(n),i))}(t,e)}function p3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function WT(t){return(e,r)=>{let n=!1;for(const i of Ul(t)){const s=m3(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function m3(t,e,r){const n=t.field.isKeyField()?Ae.comparator(e.key,r.key):function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?ko(l,u):Re()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Gu(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return YD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=new yt(Ae.comparator);function Ai(){return g3}const HT=new yt(Ae.comparator);function Al(...t){let e=HT;for(const r of t)e=e.insert(r.key,r);return e}function GT(t){let e=HT;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Ks(){return jl()}function KT(){return jl()}function jl(){return new $o(t=>t.toString(),(t,e)=>t.isEqual(e))}const v3=new yt(Ae.comparator),_3=new er(Ae.comparator);function be(...t){let e=_3;for(const r of t)e=e.add(r);return e}const y3=new er(He);function x3(){return y3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cp(e)?"-0":e}}function w3(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(){this._=void 0}}function T3(t,e,r){return t instanceof ef?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ng(s)&&(s=ig(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(r,e):t instanceof Su?XT(t,e):t instanceof Au?YT(t,e):function(i,s){const a=qT(i,s),o=L_(a)+L_(i.Pe);return Rp(a)&&Rp(i.Pe)?w3(o):E3(i.serializer,o)}(t,e)}function S3(t,e,r){return t instanceof Su?XT(t,e):t instanceof Au?YT(t,e):r}function qT(t,e){return t instanceof tf?function(n){return Rp(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class ef extends Qf{}class Su extends Qf{constructor(e){super(),this.elements=e}}function XT(t,e){const r=QT(e);for(const n of t.elements)r.some(i=>Kn(i,n))||r.push(n);return{arrayValue:{values:r}}}class Au extends Qf{constructor(e){super(),this.elements=e}}function YT(t,e){let r=QT(e);for(const n of t.elements)r=r.filter(i=>!Kn(i,n));return{arrayValue:{values:r}}}class tf extends Qf{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function L_(t){return St(t.integerValue||t.doubleValue)}function QT(t){return sg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function A3(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof Su&&i instanceof Su||n instanceof Au&&i instanceof Au?Co(n.elements,i.elements,Kn):n instanceof tf&&i instanceof tf?Kn(n.Pe,i.Pe):n instanceof ef&&i instanceof ef}(t.transform,e.transform)}class I3{constructor(e,r){this.version=e,this.transformResults=r}}class pi{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jf{}function JT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ug(t.key,pi.none()):new Zf(t.key,t.data,pi.none());{const r=t.data,n=wn.empty();let i=new er(dr.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new zo(t.key,n,new hi(i.toArray()),pi.none())}}function C3(t,e,r){t instanceof Zf?function(i,s,a){const o=i.value.clone(),l=b_(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,r):t instanceof zo?function(i,s,a){if(!gh(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=b_(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(ZT(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,r):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function $l(t,e,r,n){return t instanceof Zf?function(s,a,o,l){if(!gh(s.precondition,a))return o;const u=s.value.clone(),h=V_(s.fieldTransforms,l,a);return u.setAll(h),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof zo?function(s,a,o,l){if(!gh(s.precondition,a))return o;const u=V_(s.fieldTransforms,l,a),h=a.data;return h.setAll(ZT(s)),h.setAll(u),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(s,a,o){return gh(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,r)}function k3(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=qT(n.transform,i||null);s!=null&&(r===null&&(r=wn.empty()),r.set(n.field,s))}return r||null}function M_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Co(n,i,(s,a)=>A3(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zf extends Jf{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class zo extends Jf{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ZT(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function b_(t,e,r){const n=new Map;et(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,S3(a,o,r[i]))}return n}function V_(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,T3(s,a,e))}return n}class ug extends Jf{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R3 extends Jf{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&C3(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=$l(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=$l(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=KT();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const l=JT(a,o);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Pe.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),be())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,(r,n)=>M_(r,n))&&Co(this.baseMutations,e.baseMutations,(r,n)=>M_(r,n))}}class cg{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){et(e.mutations.length===n.length);let i=function(){return v3}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new cg(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,Ue;function O3(t){switch(t){default:return Re();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function e2(t){if(t===void 0)return Si("GRPC error has no .code"),ie.UNKNOWN;switch(t){case kt.OK:return ie.OK;case kt.CANCELLED:return ie.CANCELLED;case kt.UNKNOWN:return ie.UNKNOWN;case kt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case kt.INTERNAL:return ie.INTERNAL;case kt.UNAVAILABLE:return ie.UNAVAILABLE;case kt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case kt.NOT_FOUND:return ie.NOT_FOUND;case kt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case kt.ABORTED:return ie.ABORTED;case kt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case kt.DATA_LOSS:return ie.DATA_LOSS;default:return Re()}}(Ue=kt||(kt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=new Zs([4294967295,4294967295],0);function B_(t){const e=F3().encode(t),r=new CT;return r.update(e),new Uint8Array(r.digest())}function U_(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Zs([r,n],0),new Zs([i,s],0)]}class hg{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Il(`Invalid padding: ${r}`);if(n<0)throw new Il(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Il(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Zs.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(Zs.fromNumber(n)));return i.compare(L3)===1&&(i=new Zs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=B_(e),[n,i]=U_(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new hg(s,i,r);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const r=B_(e),[n,i]=U_(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,Ku.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new e0(Pe.min(),i,new yt(He),Ai(),be())}}class Ku{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Ku(n,r,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class t2{constructor(e,r){this.targetId=e,this.me=r}}class r2{constructor(e,r,n=nr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class j_{constructor(){this.fe=0,this.ge=z_(),this.pe=nr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=be(),r=be(),n=be();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Re()}}),new Ku(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=z_()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class M3{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ai(),this.qe=$_(),this.Qe=new yt(He)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(Np(s))if(n===0){const a=new Ae(s.path);this.Ue(r,a,fr.newNoDocument(a,Pe.min()))}else et(n===1);else{const a=this.Ye(r);if(a!==n){const o=this.Ze(e),l=o?this.Xe(o,e,a):1;if(l!==0){this.je(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,u)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=la(n).toUint8Array()}catch(l){if(l instanceof LT)return Io("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new hg(a,i,s)}catch(l){return Io(l instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,s,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&Np(o.target)){const l=new Ae(o.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,fr.newNoDocument(l,e))}s.be&&(r.set(a,s.ve()),s.Ce())}});let n=be();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new e0(e,r,this.Qe,this.ke,n);return this.ke=Ai(),this.qe=$_(),this.Qe=new yt(He),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new j_,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new er(He),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Ee("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new j_),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function $_(){return new yt(Ae.comparator)}function z_(){return new yt(Ae.comparator)}const b3={asc:"ASCENDING",desc:"DESCENDING"},V3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B3={and:"AND",or:"OR"};class U3{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Op(t,e){return t.useProto3Json||Kf(e)?e:{value:e}}function n2(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $3(t,e){return n2(t,e.toTimestamp())}function Wn(t){return et(!!t),Pe.fromTimestamp(function(r){const n=ys(r);return new pr(n.seconds,n.nanos)}(t))}function i2(t,e){return Fp(t,e).canonicalString()}function Fp(t,e){const r=function(i){return new pt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function s2(t){const e=pt.fromString(t);return et(c2(e)),e}function Lp(t,e){return i2(t.databaseId,e.path)}function ld(t,e){const r=s2(e);if(r.get(1)!==t.databaseId.projectId)throw new Te(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Te(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ae(o2(r))}function a2(t,e){return i2(t.databaseId,e)}function z3(t){const e=s2(t);return e.length===4?pt.emptyPath():o2(e)}function Mp(t){return new pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function o2(t){return et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function W_(t,e,r){return{name:Lp(t,e),fields:r.value.mapValue.fields}}function W3(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(et(h===void 0||typeof h=="string"),nr.fromBase64String(h||"")):(et(h===void 0||h instanceof Buffer||h instanceof Uint8Array),nr.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const h=u.code===void 0?ie.UNKNOWN:e2(u.code);return new Te(h,u.message||"")}(a);r=new r2(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=ld(t,n.document.name),s=Wn(n.document.updateTime),a=n.document.createTime?Wn(n.document.createTime):Pe.min(),o=new wn({mapValue:{fields:n.document.fields}}),l=fr.newFoundDocument(i,s,a,o),u=n.targetIds||[],h=n.removedTargetIds||[];r=new vh(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=ld(t,n.document),s=n.readTime?Wn(n.readTime):Pe.min(),a=fr.newNoDocument(i,s),o=n.removedTargetIds||[];r=new vh([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=ld(t,n.document),s=n.removedTargetIds||[];r=new vh([],s,i,null)}else{if(!("filter"in e))return Re();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new D3(i,s),o=n.targetId;r=new t2(o,a)}}return r}function H3(t,e){let r;if(e instanceof Zf)r={update:W_(t,e.key,e.value)};else if(e instanceof ug)r={delete:Lp(t,e.key)};else if(e instanceof zo)r={update:W_(t,e.key,e.data),updateMask:eO(e.fieldMask)};else{if(!(e instanceof R3))return Re();r={verify:Lp(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof ef)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Su)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Au)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof tf)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw Re()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:$3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Re()}(t,e.precondition)),r}function G3(t,e){return t&&t.length>0?(et(e!==void 0),t.map(r=>function(i,s){let a=i.updateTime?Wn(i.updateTime):Wn(s);return a.isEqual(Pe.min())&&(a=Wn(s)),new I3(a,i.transformResults||[])}(r,e))):[]}function K3(t,e){return{documents:[a2(t,e.path)]}}function q3(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=a2(t,i);const s=function(u){if(u.length!==0)return u2(qn.create(u,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(h=>function(d){return{field:Ua(d.field),direction:Q3(d.dir)}}(h))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=Op(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:r,parent:i}}function X3(t){let e=z3(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){et(n===1);const h=r.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];r.where&&(s=function(f){const d=l2(f);return d instanceof qn&&BT(d)?d.getFilters():[d]}(r.where));let a=[];r.orderBy&&(a=function(f){return f.map(d=>function(y){return new Zh(ja(y.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(d))}(r.orderBy));let o=null;r.limit&&(o=function(f){let d;return d=typeof f=="object"?f.value:f,Kf(d)?null:d}(r.limit));let l=null;r.startAt&&(l=function(f){const d=!!f.before,m=f.values||[];return new Jh(m,d)}(r.startAt));let u=null;return r.endAt&&(u=function(f){const d=!f.before,m=f.values||[];return new Jh(m,d)}(r.endAt)),h3(e,i,a,s,o,"F",l,u)}function Y3(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function l2(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=ja(r.unaryFilter.field);return bt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=ja(r.unaryFilter.field);return bt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ja(r.unaryFilter.field);return bt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ja(r.unaryFilter.field);return bt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(t):t.fieldFilter!==void 0?function(r){return bt.create(ja(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return qn.create(r.compositeFilter.filters.map(n=>l2(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Re()}}(r.compositeFilter.op))}(t):Re()}function Q3(t){return b3[t]}function J3(t){return V3[t]}function Z3(t){return B3[t]}function Ua(t){return{fieldPath:t.canonicalString()}}function ja(t){return dr.fromServerFormat(t.fieldPath)}function u2(t){return t instanceof bt?function(r){if(r.op==="=="){if(P_(r.value))return{unaryFilter:{field:Ua(r.field),op:"IS_NAN"}};if(R_(r.value))return{unaryFilter:{field:Ua(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(P_(r.value))return{unaryFilter:{field:Ua(r.field),op:"IS_NOT_NAN"}};if(R_(r.value))return{unaryFilter:{field:Ua(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(r.field),op:J3(r.op),value:r.value}}}(t):t instanceof qn?function(r){const n=r.getFilters().map(i=>u2(i));return n.length===1?n[0]:{compositeFilter:{op:Z3(r.op),filters:n}}}(t):Re()}function eO(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function c2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,r,n,i,s=Pe.min(),a=Pe.min(),o=nr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e){this.ct=e}}function rO(t){const e=X3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(){this.un=new iO}addToCollectionParentIndex(e,r){return this.un.add(r),ne.resolve()}getCollectionParents(e,r){return ne.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return ne.resolve()}deleteFieldIndex(e,r){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,r){return ne.resolve()}getDocumentsMatchingTarget(e,r){return ne.resolve(null)}getIndexType(e,r){return ne.resolve(0)}getFieldIndexes(e,r){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,r){return ne.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,r){return ne.resolve(_s.min())}updateCollectionGroup(e,r,n){return ne.resolve()}updateIndexEntries(e,r){return ne.resolve()}}class iO{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new er(pt.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new er(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Po(0)}static kn(){return new Po(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.changes=new $o(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,fr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ne.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&$l(n.mutation,i,hi.empty(),pr.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,be()).next(()=>n))}getLocalViewOfDocuments(e,r,n=be()){const i=Ks();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let a=Al();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=Ks();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,be()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{r.set(a,o)})})}computeViews(e,r,n,i){let s=Ai();const a=jl(),o=function(){return jl()}();return r.forEach((l,u)=>{const h=n.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof zo)?s=s.insert(u.key,u):h!==void 0?(a.set(u.key,h.mutation.getFieldMask()),$l(h.mutation,u,h.mutation.getFieldMask(),pr.now())):a.set(u.key,hi.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,h)=>a.set(u,h)),r.forEach((u,h)=>{var f;return o.set(u,new aO(h,(f=a.get(u))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(e,r){const n=jl();let i=new yt((a,o)=>a-o),s=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let h=n.get(l)||hi.empty();h=o.applyToLocalView(u,h),n.set(l,h);const f=(i.get(o.batchId)||be()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,h=l.value,f=KT();h.forEach(d=>{if(!s.has(d)){const m=JT(r.get(d),n.get(d));m!==null&&f.set(d,m),s=s.add(d)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return ne.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return Ae.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):f3(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):ne.resolve(Ks());let o=-1,l=s;return a.next(u=>ne.forEach(u,(h,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(h)?ne.resolve():this.remoteDocumentCache.getEntry(e,h).next(d=>{l=l.insert(h,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,be())).next(h=>({batchId:o,changes:GT(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ae(r)).next(n=>{let i=Al();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=Al();return this.indexManager.getCollectionParents(e,s).next(o=>ne.forEach(o,l=>{const u=function(f,d){return new qf(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(h=>{h.forEach((f,d)=>{a=a.insert(f,d)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(a=>{s.forEach((l,u)=>{const h=u.getKey();a.get(h)===null&&(a=a.insert(h,fr.newInvalidDocument(h)))});let o=Al();return a.forEach((l,u)=>{const h=s.get(l);h!==void 0&&$l(h.mutation,u,hi.empty(),pr.now()),Yf(r,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return ne.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Wn(i.createTime)}}(r)),ne.resolve()}getNamedQuery(e,r){return ne.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:rO(i.bundledQuery),readTime:Wn(i.readTime)}}(r)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.overlays=new yt(Ae.comparator),this.Ir=new Map}getOverlay(e,r){return ne.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Ks();return ne.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.ht(e,r,s)}),ne.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),ne.resolve()}getOverlaysForCollection(e,r,n){const i=Ks(),s=r.length+1,a=new Ae(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>n&&i.set(l.getKey(),l)}return ne.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new yt((u,h)=>u-h);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let h=s.get(u.largestBatchId);h===null&&(h=Ks(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const o=Ks(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>o.set(u,h)),!(o.size()>=i)););return ne.resolve(o)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new N3(r,n));let s=this.Ir.get(r);s===void 0&&(s=be(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.sessionToken=nr.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this.Tr=new er(Bt.Er),this.dr=new er(Bt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Bt(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Bt(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Ae(new pt([])),n=new Bt(r,e),i=new Bt(r,e+1),s=[];return this.dr.forEachInRange([n,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Ae(new pt([])),n=new Bt(r,e),i=new Bt(r,e+1);let s=be();return this.dr.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const r=new Bt(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Bt{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Ae.comparator(e.key,r.key)||He(e.wr,r.wr)}static Ar(e,r){return He(e.wr,r.wr)||Ae.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new er(Bt.Er)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new P3(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new Bt(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ne.resolve(a)}lookupMutationBatch(e,r){return ne.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return ne.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Bt(r,0),i=new Bt(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],a=>{const o=this.Dr(a.wr);s.push(o)}),ne.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new er(He);return r.forEach(i=>{const s=new Bt(i,0),a=new Bt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{n=n.add(o.wr)})}),ne.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;Ae.isDocumentKey(s)||(s=s.child(""));const a=new Bt(new Ae(s),0);let o=new er(He);return this.br.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.wr)),!0)},a),ne.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){et(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return ne.forEach(r.mutations,i=>{const s=new Bt(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Bt(r,0),i=this.br.firstAfterOrEqual(n);return ne.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.Mr=e,this.docs=function(){return new yt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ne.resolve(n?n.document.mutableCopy():fr.newInvalidDocument(r))}getEntries(e,r){let n=Ai();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():fr.newInvalidDocument(i))}),ne.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=Ai();const a=r.path,o=new Ae(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||GD(HD(h),n)<=0||(i.has(h.key)||Yf(r,h))&&(s=s.insert(h.key,h.mutableCopy()))}return ne.resolve(s)}getAllFromCollectionGroup(e,r,n,i){Re()}Or(e,r){return ne.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new dO(this)}getSize(e){return ne.resolve(this.size)}}class dO extends sO{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),ne.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.persistence=e,this.Nr=new $o(r=>ag(r),og),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new fg,this.targetCount=0,this.kr=Po.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),ne.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Po(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,ne.resolve()}updateTargetData(e,r){return this.Kn(r),ne.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),ne.waitFor(s).next(()=>i)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return ne.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),ne.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),ne.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),ne.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return ne.resolve(n)}containsKey(e,r){return ne.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,r){this.qr={},this.overlays={},this.Qr=new rg(0),this.Kr=!1,this.Kr=!0,this.$r=new cO,this.referenceDelegate=e(this),this.Ur=new pO(this),this.indexManager=new nO,this.remoteDocumentCache=function(i){return new fO(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new tO(r),this.Gr=new lO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new uO,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new hO(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Ee("MemoryPersistence","Starting transaction:",e);const i=new gO(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,r){return ne.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class gO extends qD{constructor(e){super(),this.currentSequenceNumber=e}}class dg{constructor(e){this.persistence=e,this.Jr=new fg,this.Yr=null}static Zr(e){return new dg(e)}get Xr(){if(this.Yr)return this.Yr;throw Re()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),ne.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),ne.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),ne.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.Xr,n=>{const i=Ae.fromPath(n);return this.ei(e,i).next(s=>{s||r.removeEntry(i,Pe.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return ne.or([()=>ne.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=be(),i=be();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new pg(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return rR()?8:XD(_r())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,r,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new vO;return this.Xi(e,r,a).next(o=>{if(s.result=o,this.zi)return this.es(e,r,a,o.size)})}).next(()=>s.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(gl()<=Ve.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Ba(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ne.resolve()):(gl()<=Ve.DEBUG&&Ee("QueryEngine","Query:",Ba(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(gl()<=Ve.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Ba(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zn(r))):ne.resolve())}Yi(e,r){if(F_(r))return ne.resolve(null);let n=zn(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Dp(r,null,"F"),n=zn(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=be(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.ts(r,o);return this.ns(r,u,a,l.readTime)?this.Yi(e,Dp(r,null,"F")):this.rs(e,u,r,l)}))})))}Zi(e,r,n,i){return F_(r)||i.isEqual(Pe.min())?ne.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const a=this.ts(r,s);return this.ns(r,a,n,i)?ne.resolve(null):(gl()<=Ve.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ba(r)),this.rs(e,a,r,WD(i,-1)).next(o=>o))})}ts(e,r){let n=new er(WT(e));return r.forEach((i,s)=>{Yf(e,s)&&(n=n.add(s))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return gl()<=Ve.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Ba(r)),this.Ji.getDocumentsMatchingQuery(e,r,_s.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new yt(He),this._s=new $o(s=>ag(s),og),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oO(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function xO(t,e,r,n){return new yO(t,e,r,n)}async function h2(t,e){const r=Ne(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let l=be();for(const u of i){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return r.localDocuments.getDocuments(n,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:o}))})})}function EO(t,e){const r=Ne(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,h){const f=u.batch,d=f.keys();let m=ne.resolve();return d.forEach(y=>{m=m.next(()=>h.getEntry(l,y)).next(g=>{const v=u.docVersions.get(y);et(v!==null),g.version.compareTo(v)<0&&(f.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),h.addEntry(g)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=be();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function f2(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function wO(t,e){const r=Ne(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];e.targetChanges.forEach((h,f)=>{const d=i.get(f);if(!d)return;o.push(r.Ur.removeMatchingKeys(s,h.removedDocuments,f).next(()=>r.Ur.addMatchingKeys(s,h.addedDocuments,f)));let m=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(nr.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,n)),i=i.insert(f,m),function(g,v,S){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(d,m,h)&&o.push(r.Ur.updateTargetData(s,m))});let l=Ai(),u=be();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,h))}),o.push(TO(s,a,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!n.isEqual(Pe.min())){const h=r.Ur.getLastRemoteSnapshotVersion(s).next(f=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(h)}return ne.waitFor(o).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(r.os=i,s))}function TO(t,e,r){let n=be(),i=be();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let a=Ai();return r.forEach((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Pe.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):Ee("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function SO(t,e){const r=Ne(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function AO(t,e){const r=Ne(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(s=>s?(i=s,ne.resolve(i)):r.Ur.allocateTargetId(n).next(a=>(i=new es(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function bp(t,e,r){const n=Ne(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Hu(a))throw a;Ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function H_(t,e,r){const n=Ne(t);let i=Pe.min(),s=be();return n.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,h){const f=Ne(l),d=f._s.get(h);return d!==void 0?ne.resolve(f.os.get(d)):f.Ur.getTargetData(u,h)}(n,a,zn(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>n.ss.getDocumentsMatchingQuery(a,e,r?i:Pe.min(),r?s:be())).next(o=>(IO(n,p3(e),o),{documents:o,Ts:s})))}function IO(t,e,r){let n=t.us.get(e)||Pe.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.us.set(e,n)}class G_{constructor(){this.activeTargetIds=x3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CO{constructor(){this.so=new G_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new G_,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c=null;function ud(){return $c===null?$c=function(){return 268435456+Math.round(2147483648*Math.random())}():$c++,"0x"+$c.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur="WebChannelConnection";class NO extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,a){const o=ud(),l=this.xo(r,n.toUriEncodedString());Ee("RestConnection",`Sending RPC '${r}' ${o}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,a),this.No(r,l,u,i).then(h=>(Ee("RestConnection",`Received RPC '${r}' ${o}: `,h),h),h=>{throw Io("RestConnection",`RPC '${r}' ${o} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(r,n,i,s,a,o){return this.Mo(r,n,i,s,a)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jo}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>r[a]=s),i&&i.headers.forEach((s,a)=>r[a]=s)}xo(r,n){const i=RO[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=ud();return new Promise((a,o)=>{const l=new kT;l.setWithCredentials(!0),l.listenOnce(RT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ph.NO_ERROR:const h=l.getResponseJson();Ee(ur,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),a(h);break;case ph.TIMEOUT:Ee(ur,`RPC '${e}' ${s} timed out`),o(new Te(ie.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const f=l.getStatus();if(Ee(ur,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const m=d==null?void 0:d.error;if(m&&m.status&&m.message){const y=function(v){const S=v.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(S)>=0?S:ie.UNKNOWN}(m.status);o(new Te(y,m.message))}else o(new Te(ie.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new Te(ie.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{Ee(ur,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);Ee(ur,`RPC '${e}' ${s} sending request:`,i),l.send(r,"POST",u,n,15)})}Bo(e,r,n){const i=ud(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=DT(),o=NT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const h=s.join("");Ee(ur,`Creating RPC '${e}' stream ${i}: ${h}`,l);const f=a.createWebChannel(h,l);let d=!1,m=!1;const y=new PO({Io:v=>{m?Ee(ur,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(Ee(ur,`Opening RPC '${e}' stream ${i} transport.`),f.open(),d=!0),Ee(ur,`RPC '${e}' stream ${i} sending:`,v),f.send(v))},To:()=>f.close()}),g=(v,S,E)=>{v.listen(S,I=>{try{E(I)}catch(V){setTimeout(()=>{throw V},0)}})};return g(f,Sl.EventType.OPEN,()=>{m||(Ee(ur,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),g(f,Sl.EventType.CLOSE,()=>{m||(m=!0,Ee(ur,`RPC '${e}' stream ${i} transport closed`),y.So())}),g(f,Sl.EventType.ERROR,v=>{m||(m=!0,Io(ur,`RPC '${e}' stream ${i} transport errored:`,v),y.So(new Te(ie.UNAVAILABLE,"The operation could not be completed")))}),g(f,Sl.EventType.MESSAGE,v=>{var S;if(!m){const E=v.data[0];et(!!E);const I=E,V=I.error||((S=I[0])===null||S===void 0?void 0:S.error);if(V){Ee(ur,`RPC '${e}' stream ${i} received error:`,V);const z=V.status;let X=function(A){const k=kt[A];if(k!==void 0)return e2(k)}(z),T=V.message;X===void 0&&(X=ie.INTERNAL,T="Unknown error status: "+z+" with message "+V.message),m=!0,y.So(new Te(X,T)),f.close()}else Ee(ur,`RPC '${e}' stream ${i} received:`,E),y.bo(E)}}),g(o,PT.STAT_EVENT,v=>{v.stat===Ip.PROXY?Ee(ur,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Ip.NOPROXY&&Ee(ur,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function cd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(t){return new U3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,r,n,i,s,a,o,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new p2(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===ie.RESOURCE_EXHAUSTED?(Si(r.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new Te(ie.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DO extends m2{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=W3(this.serializer,e),n=function(s){if(!("targetChange"in s))return Pe.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Pe.min():a.readTime?Wn(a.readTime):Pe.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=Mp(this.serializer),r.addTarget=function(s,a){let o;const l=a.target;if(o=Np(l)?{documents:K3(s,l)}:{query:q3(s,l)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=j3(s,a.resumeToken);const u=Op(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(Pe.min())>0){o.readTime=n2(s,a.snapshotVersion.toTimestamp());const u=Op(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const n=Y3(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=Mp(this.serializer),r.removeTarget=e,this.a_(r)}}class OO extends m2{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return et(!!e.streamToken),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=G3(e.writeResults,e.commitTime),n=Wn(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=Mp(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>H3(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Te(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,Fp(r,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Te(ie.UNKNOWN,s.toString())})}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,Fp(r,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(ie.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class LO{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Si(r),this.D_=!1):Ee("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{n.enqueueAndForget(async()=>{Ea(this)&&(Ee("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ne(l);u.L_.add(4),await qu(u),u.q_.set("Unknown"),u.L_.delete(4),await t0(u)}(this))})}),this.q_=new LO(n,i)}}async function t0(t){if(Ea(t))for(const e of t.B_)await e(!0)}async function qu(t){for(const e of t.B_)await e(!1)}function g2(t,e){const r=Ne(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),_g(r)?vg(r):Wo(r).r_()&&gg(r,e))}function mg(t,e){const r=Ne(t),n=Wo(r);r.N_.delete(e),n.r_()&&v2(r,e),r.N_.size===0&&(n.r_()?n.o_():Ea(r)&&r.q_.set("Unknown"))}function gg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Wo(t).A_(e)}function v2(t,e){t.Q_.xe(e),Wo(t).R_(e)}function vg(t){t.Q_=new M3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Wo(t).start(),t.q_.v_()}function _g(t){return Ea(t)&&!Wo(t).n_()&&t.N_.size>0}function Ea(t){return Ne(t).L_.size===0}function _2(t){t.Q_=void 0}async function bO(t){t.q_.set("Online")}async function VO(t){t.N_.forEach((e,r)=>{gg(t,e)})}async function BO(t,e){_2(t),_g(t)?(t.q_.M_(e),vg(t)):t.q_.set("Unknown")}async function UO(t,e,r){if(t.q_.set("Online"),e instanceof r2&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(n){Ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await rf(t,n)}else if(e instanceof vh?t.Q_.Ke(e):e instanceof t2?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Pe.min()))try{const n=await f2(t.localStore);r.compareTo(n)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.N_.get(u);h&&s.N_.set(u,h.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const h=s.N_.get(l);if(!h)return;s.N_.set(l,h.withResumeToken(nr.EMPTY_BYTE_STRING,h.snapshotVersion)),v2(s,l);const f=new es(h.target,l,u,h.sequenceNumber);gg(s,f)}),s.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){Ee("RemoteStore","Failed to raise snapshot:",n),await rf(t,n)}}async function rf(t,e,r){if(!Hu(e))throw e;t.L_.add(1),await qu(t),t.q_.set("Offline"),r||(r=()=>f2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ee("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await t0(t)})}function y2(t,e){return e().catch(r=>rf(t,r,e))}async function r0(t){const e=Ne(t),r=xs(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;jO(e);)try{const i=await SO(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,$O(e,i)}catch(i){await rf(e,i)}x2(e)&&E2(e)}function jO(t){return Ea(t)&&t.O_.length<10}function $O(t,e){t.O_.push(e);const r=xs(t);r.r_()&&r.V_&&r.m_(e.mutations)}function x2(t){return Ea(t)&&!xs(t).n_()&&t.O_.length>0}function E2(t){xs(t).start()}async function zO(t){xs(t).p_()}async function WO(t){const e=xs(t);for(const r of t.O_)e.m_(r.mutations)}async function HO(t,e,r){const n=t.O_.shift(),i=cg.from(n,e,r);await y2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await r0(t)}async function GO(t,e){e&&xs(t).V_&&await async function(n,i){if(function(a){return O3(a)&&a!==ie.ABORTED}(i.code)){const s=n.O_.shift();xs(n).s_(),await y2(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await r0(n)}}(t,e),x2(t)&&E2(t)}async function q_(t,e){const r=Ne(t);r.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const n=Ea(r);r.L_.add(3),await qu(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await t0(r)}async function KO(t,e){const r=Ne(t);e?(r.L_.delete(2),await t0(r)):e||(r.L_.add(2),await qu(r),r.q_.set("Unknown"))}function Wo(t){return t.K_||(t.K_=function(r,n,i){const s=Ne(r);return s.w_(),new DO(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:bO.bind(null,t),Ro:VO.bind(null,t),mo:BO.bind(null,t),d_:UO.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),_g(t)?vg(t):t.q_.set("Unknown")):(await t.K_.stop(),_2(t))})),t.K_}function xs(t){return t.U_||(t.U_=function(r,n,i){const s=Ne(r);return s.w_(),new OO(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:zO.bind(null,t),mo:GO.bind(null,t),f_:WO.bind(null,t),g_:HO.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await r0(t)):(await t.U_.stop(),t.O_.length>0&&(Ee("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new yg(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xg(t,e){if(Si("AsyncQueue",`${e}: ${t}`),Hu(t))return new Te(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ae.comparator(r.key,n.key):(r,n)=>Ae.comparator(r.key,n.key),this.keyedMap=Al(),this.sortedSet=new yt(this.comparator)}static emptySet(e){return new fo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new fo;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(){this.W_=new yt(Ae.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Re():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class No{constructor(e,r,n,i,s,a,o,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach(o=>{a.push({type:0,doc:o})}),new No(e,r,fo.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class XO{constructor(){this.queries=Y_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Ne(r),s=i.queries;i.queries=Y_(),s.forEach((a,o)=>{for(const l of o.j_)l.onError(n)})})(this,new Te(ie.ABORTED,"Firestore shutting down"))}}function Y_(){return new $o(t=>zT(t),Xf)}async function w2(t,e){const r=Ne(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new qO,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=xg(a,`Initialization of query '${Ba(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&Eg(r)}async function T2(t,e){const r=Ne(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function YO(t,e){const r=Ne(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(n=!0);a.z_=i}}n&&Eg(r)}function QO(t,e,r){const n=Ne(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function Eg(t){t.Y_.forEach(e=>{e.next()})}var Vp,Q_;(Q_=Vp||(Vp={})).ea="default",Q_.Cache="cache";class S2{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new No(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=No.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Vp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.key=e}}class I2{constructor(e){this.key=e}}class JO{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=be(),this.mutatedKeys=be(),this.Aa=WT(e),this.Ra=new fo(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new X_,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const d=i.get(h),m=Yf(this.query,f)?f:null,y=!!d&&this.mutatedKeys.has(d.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;d&&m?d.data.isEqual(m.data)?y!==g&&(n.track({type:3,doc:m}),v=!0):this.ga(d,m)||(n.track({type:2,doc:m}),v=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(o=!0)):!d&&m?(n.track({type:0,doc:m}),v=!0):d&&!m&&(n.track({type:1,doc:d}),v=!0,(l||u)&&(o=!0)),v&&(m?(a=a.add(m),s=g?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),n.track({type:1,doc:h})}return{Ra:a,fa:n,ns:o,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((h,f)=>function(m,y){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return g(m)-g(y)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new No(this.query,e.Ra,s,a,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new X_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=be(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new I2(n))}),this.da.forEach(n=>{e.has(n)||r.push(new A2(n))}),r}ba(e){this.Ta=e.Ts,this.da=be();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return No.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class ZO{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class eF{constructor(e){this.key=e,this.va=!1}}class tF{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new $o(o=>zT(o),Xf),this.Ma=new Map,this.xa=new Set,this.Oa=new yt(Ae.comparator),this.Na=new Map,this.La=new fg,this.Ba={},this.ka=new Map,this.qa=Po.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function rF(t,e,r=!0){const n=D2(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await C2(n,e,r,!0),i}async function nF(t,e){const r=D2(t);await C2(r,e,!0,!1)}async function C2(t,e,r,n){const i=await AO(t.localStore,zn(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await iF(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&g2(t.remoteStore,i),o}async function iF(t,e,r,n,i){t.Ka=(f,d,m)=>async function(g,v,S,E){let I=v.view.ma(S);I.ns&&(I=await H_(g.localStore,v.query,!1).then(({documents:T})=>v.view.ma(T,I)));const V=E&&E.targetChanges.get(v.targetId),z=E&&E.targetMismatches.get(v.targetId)!=null,X=v.view.applyChanges(I,g.isPrimaryClient,V,z);return Z_(g,v.targetId,X.wa),X.snapshot}(t,f,d,m);const s=await H_(t.localStore,e,!0),a=new JO(e,s.Ts),o=a.ma(s.documents),l=Ku.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,l);Z_(t,r,u.wa);const h=new ZO(e,r,a);return t.Fa.set(e,h),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),u.snapshot}async function sF(t,e,r){const n=Ne(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(a=>!Xf(a,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await bp(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&mg(n.remoteStore,i.targetId),Bp(n,i.targetId)}).catch(Wu)):(Bp(n,i.targetId),await bp(n.localStore,i.targetId,!0))}async function aF(t,e){const r=Ne(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),mg(r.remoteStore,n.targetId))}async function oF(t,e,r){const n=pF(t);try{const i=await function(a,o){const l=Ne(a),u=pr.now(),h=o.reduce((m,y)=>m.add(y.key),be());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Ai(),g=be();return l.cs.getEntries(m,h).next(v=>{y=v,y.forEach((S,E)=>{E.isValidDocument()||(g=g.add(S))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(v=>{f=v;const S=[];for(const E of o){const I=k3(E,f.get(E.key).overlayedDocument);I!=null&&S.push(new zo(E.key,I,MT(I.value.mapValue),pi.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,S,o)}).next(v=>{d=v;const S=v.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(m,v.batchId,S)})}).then(()=>({batchId:d.batchId,changes:GT(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new yt(He)),u=u.insert(o,l),a.Ba[a.currentUser.toKey()]=u}(n,i.batchId,r),await Xu(n,i.changes),await r0(n.remoteStore)}catch(i){const s=xg(i,"Failed to persist write");r.reject(s)}}async function k2(t,e){const r=Ne(t);try{const n=await wO(r.localStore,e);e.targetChanges.forEach((i,s)=>{const a=r.Na.get(s);a&&(et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?et(a.va):i.removedDocuments.size>0&&(et(a.va),a.va=!1))}),await Xu(r,n,e)}catch(n){await Wu(n)}}function J_(t,e,r){const n=Ne(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=Ne(a);l.onlineState=o;let u=!1;l.queries.forEach((h,f)=>{for(const d of f.j_)d.Z_(o)&&(u=!0)}),u&&Eg(l)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function lF(t,e,r){const n=Ne(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new yt(Ae.comparator);a=a.insert(s,fr.newNoDocument(s,Pe.min()));const o=be().add(s),l=new e0(Pe.min(),new Map,new yt(He),a,o);await k2(n,l),n.Oa=n.Oa.remove(s),n.Na.delete(e),wg(n)}else await bp(n.localStore,e,!1).then(()=>Bp(n,e,r)).catch(Wu)}async function uF(t,e){const r=Ne(t),n=e.batch.batchId;try{const i=await EO(r.localStore,e);P2(r,n,null),R2(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Xu(r,i)}catch(i){await Wu(i)}}async function cF(t,e,r){const n=Ne(t);try{const i=await function(a,o){const l=Ne(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,o).next(f=>(et(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(n.localStore,e);P2(n,e,r),R2(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Xu(n,i)}catch(i){await Wu(i)}}function R2(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function P2(t,e,r){const n=Ne(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function Bp(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||N2(t,n)})}function N2(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(mg(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),wg(t))}function Z_(t,e,r){for(const n of r)n instanceof A2?(t.La.addReference(n.key,e),hF(t,n)):n instanceof I2?(Ee("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||N2(t,n.key)):Re()}function hF(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Ee("SyncEngine","New document in limbo: "+r),t.xa.add(n),wg(t))}function wg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Ae(pt.fromString(e)),n=t.qa.next();t.Na.set(n,new eF(r)),t.Oa=t.Oa.insert(r,n),g2(t.remoteStore,new es(zn(lg(r.path)),n,"TargetPurposeLimboResolution",rg.oe))}}async function Xu(t,e,r){const n=Ne(t),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((o,l)=>{a.push(n.Ka(l,e,r).then(u=>{var h;if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:(h=r==null?void 0:r.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=pg.Wi(l.targetId,u);s.push(f)}}))}),await Promise.all(a),n.Ca.d_(i),await async function(l,u){const h=Ne(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ne.forEach(u,d=>ne.forEach(d.$i,m=>h.persistence.referenceDelegate.addReference(f,d.targetId,m)).next(()=>ne.forEach(d.Ui,m=>h.persistence.referenceDelegate.removeReference(f,d.targetId,m)))))}catch(f){if(!Hu(f))throw f;Ee("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const d=f.targetId;if(!f.fromCache){const m=h.os.get(d),y=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(y);h.os=h.os.insert(d,g)}}}(n.localStore,s))}async function fF(t,e){const r=Ne(t);if(!r.currentUser.isEqual(e)){Ee("SyncEngine","User change. New user:",e.toKey());const n=await h2(r.localStore,e);r.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(l=>{l.reject(new Te(ie.CANCELLED,a))})}),s.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Xu(r,n.hs)}}function dF(t,e){const r=Ne(t),n=r.Na.get(e);if(n&&n.va)return be().add(n.key);{let i=be();const s=r.Ma.get(e);if(!s)return i;for(const a of s){const o=r.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function D2(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=k2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lF.bind(null,e),e.Ca.d_=YO.bind(null,e.eventManager),e.Ca.$a=QO.bind(null,e.eventManager),e}function pF(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cF.bind(null,e),e}class nf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=d2(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return xO(this.persistence,new _O,e.initialUser,this.serializer)}Ga(e){return new mO(dg.Zr,this.serializer)}Wa(e){return new CO}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nf.provider={build:()=>new nf};class Up{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>J_(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=fF.bind(null,this.syncEngine),await KO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XO}()}createDatastore(e){const r=d2(e.databaseInfo.databaseId),n=function(s){return new NO(s)}(e.databaseInfo);return function(s,a,o,l){return new FO(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,a,o){return new MO(n,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,r=>J_(this.syncEngine,r,0),function(){return K_.D()?new K_:new kO}())}createSyncEngine(e,r){return function(i,s,a,o,l,u,h){const f=new tF(i,s,a,o,l,u);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=Ne(i);Ee("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await qu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Up.provider={build:()=>new Up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=cr.UNAUTHENTICATED,this.clientId=FT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{Ee("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(Ee("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=xg(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function hd(t,e){t.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await h2(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ey(t,e){t.asyncQueue.verifyOperationInProgress();const r=await gF(t);Ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>q_(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>q_(e.remoteStore,i)),t._onlineComponents=e}async function gF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await hd(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Io("Error using user provided cache. Falling back to memory cache: "+r),await hd(t,new nf)}}else Ee("FirestoreClient","Using default OfflineComponentProvider"),await hd(t,new nf);return t._offlineComponents}async function F2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee("FirestoreClient","Using user provided OnlineComponentProvider"),await ey(t,t._uninitializedComponentsProvider._online)):(Ee("FirestoreClient","Using default OnlineComponentProvider"),await ey(t,new Up))),t._onlineComponents}function vF(t){return F2(t).then(e=>e.syncEngine)}async function L2(t){const e=await F2(t),r=e.eventManager;return r.onListen=rF.bind(null,e.syncEngine),r.onUnlisten=sF.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=nF.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=aF.bind(null,e.syncEngine),r}function _F(t,e,r={}){const n=new di;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const h=new O2({next:d=>{h.Za(),a.enqueueAndForget(()=>T2(s,f));const m=d.docs.has(o);!m&&d.fromCache?u.reject(new Te(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&d.fromCache&&l&&l.source==="server"?u.reject(new Te(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new S2(lg(o.path),h,{includeMetadataChanges:!0,_a:!0});return w2(s,f)}(await L2(t),t.asyncQueue,e,r,n)),n.promise}function yF(t,e,r={}){const n=new di;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const h=new O2({next:d=>{h.Za(),a.enqueueAndForget(()=>T2(s,f)),d.fromCache&&l.source==="server"?u.reject(new Te(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),f=new S2(o,h,{includeMetadataChanges:!0,_a:!0});return w2(s,f)}(await L2(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(t,e,r){if(!r)throw new Te(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xF(t,e,r,n){if(e===!0&&n===!0)throw new Te(ie.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function ry(t){if(!Ae.isDocumentKey(t))throw new Te(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ny(t){if(Ae.isDocumentKey(t))throw new Te(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function EF(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re()}function Do(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=EF(t);throw new Te(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Te(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=M2((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Te(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Te(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Te(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class n0{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iy(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new LD;switch(n.type){case"firstParty":return new BD(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Te(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=ty.get(r);n&&(Ee("ComponentProvider","Removing Datastore"),ty.delete(r),n.terminate())}(this),Promise.resolve()}}function wF(t,e,r,n={}){var i;const s=(t=Do(t,n0))._getSettings(),a=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let o,l;if(typeof n.mockUserToken=="string")o=n.mockUserToken,l=cr.MOCK_USER;else{o=Yk(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new Te(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new cr(u)}t._authCredentials=new MD(new OT(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new i0(this.firestore,e,this._query)}}class Hn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hn(this.firestore,e,this._key)}}class ms extends i0{constructor(e,r,n){super(e,r,lg(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hn(this.firestore,null,new Ae(e))}withConverter(e){return new ms(this.firestore,e,this._path)}}function TF(t,e,...r){if(t=Zr(t),b2("collection","path",e),t instanceof n0){const n=pt.fromString(e,...r);return ny(n),new ms(t,null,n)}{if(!(t instanceof Hn||t instanceof ms))throw new Te(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(pt.fromString(e,...r));return ny(n),new ms(t.firestore,null,n)}}function V2(t,e,...r){if(t=Zr(t),arguments.length===1&&(e=FT.newId()),b2("doc","path",e),t instanceof n0){const n=pt.fromString(e,...r);return ry(n),new Hn(t,null,new Ae(n))}{if(!(t instanceof Hn||t instanceof ms))throw new Te(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(pt.fromString(e,...r));return ry(n),new Hn(t.firestore,t instanceof ms?t.converter:null,new Ae(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new p2(this,"async_queue_retry"),this.Vu=()=>{const n=cd();n&&Ee("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=cd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=cd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new di;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Hu(e))throw e;Ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(n);throw Si("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=yg.createAndSchedule(this,e,r,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Re()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}class s0 extends n0{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new sy,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sy(e),this._firestoreClient=void 0,await e}}}function SF(t,e){const r=typeof t=="object"?t:Hm(),n=typeof t=="string"?t:"(default)",i=ya(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=qk("firestore");s&&wF(i,...s)}return i}function Tg(t){if(t._terminated)throw new Te(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||AF(t),t._firestoreClient}function AF(t){var e,r,n;const i=t._freezeSettings(),s=function(o,l,u,h){return new JD(o,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,M2(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new mF(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sf(nr.fromBase64String(e))}catch(r){throw new Te(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new sf(nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Te(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Te(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Te(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}const kF=new RegExp("[~\\*/\\[\\]]");function RF(t,e,r){if(e.search(kF)>=0)throw ay(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new B2(...e.split("."))._internalPath}catch{throw ay(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function ay(t,e,r,n,i){let s=`Function ${e}() called with invalid data`;s+=". ";let a="";return new Te(ie.INVALID_ARGUMENT,s+t+a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(j2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class PF extends U2{data(){return super.data()}}function j2(t,e){return typeof e=="string"?RF(t,e):e instanceof B2?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DF{convertValue(e,r="none"){switch(ua(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(la(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Gu(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>St(a.doubleValue));return new CF(s)}convertGeoPoint(e){return new IF(St(e.latitude),St(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=ig(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Eu(e));default:return null}}convertTimestamp(e){const r=ys(e);return new pr(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=pt.fromString(e);et(c2(n));const i=new wu(n.get(1),n.get(3)),s=new Ae(n.popFirst(5));return i.isEqual(r)||Si(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $2 extends U2{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new _h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(j2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class _h extends $2{data(e={}){return super.data(e)}}class OF{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Cl(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new _h(this._firestore,this._userDataWriter,n.key,n,new Cl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Te(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new _h(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Cl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new _h(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Cl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:FF(o.type),doc:l,oldIndex:u,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function FF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t){t=Do(t,Hn);const e=Do(t.firestore,s0);return _F(Tg(e),t._key).then(r=>BF(e,t,r))}class z2 extends DF{constructor(e){super(),this.firestore=e}convertBytes(e){return new sf(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Hn(this.firestore,null,r)}}function MF(t){t=Do(t,i0);const e=Do(t.firestore,s0),r=Tg(e),n=new z2(e);return NF(t._query),yF(r,t._query).then(i=>new OF(e,n,t,i))}function bF(t){return VF(Do(t.firestore,s0),[new ug(t._key,pi.none())])}function VF(t,e){return function(n,i){const s=new di;return n.asyncQueue.enqueueAndForget(async()=>oF(await vF(n),i,s)),s.promise}(Tg(t),e)}function BF(t,e,r){const n=r.docs.get(e._key),i=new z2(t);return new $2(t,i,e._key,n,new Cl(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){(function(i){jo=i})(Vo),Gn(new Rn("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new s0(new bD(n.getProvider("auth-internal")),new jD(n.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Te(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(u.options.projectId,h)}(a,i),a);return s=Object.assign({useFetchStreams:r},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),un(S_,"4.7.3",e),un(S_,"4.7.3","esm2017")})();const W2="@firebase/installations",Sg="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=1e4,G2=`w:${Sg}`,K2="FIS_v2",UF="https://firebaseinstallations.googleapis.com/v1",jF=60*60*1e3,$F="installations",zF="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ca=new _a($F,zF,WF);function q2(t){return t instanceof Nn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2({projectId:t}){return`${UF}/projects/${t}/installations`}function Y2(t){return{token:t.token,requestStatus:2,expiresIn:GF(t.expiresIn),creationTime:Date.now()}}async function Q2(t,e){const n=(await e.json()).error;return ca.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function J2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function HF(t,{refreshToken:e}){const r=J2(t);return r.append("Authorization",KF(e)),r}async function Z2(t){const e=await t();return e.status>=500&&e.status<600?t():e}function GF(t){return Number(t.replace("s","000"))}function KF(t){return`${K2} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qF({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=X2(t),i=J2(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={fid:r,authVersion:K2,appId:t.appId,sdkVersion:G2},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await Z2(()=>fetch(n,o));if(l.ok){const u=await l.json();return{fid:u.fid||r,registrationStatus:2,refreshToken:u.refreshToken,authToken:Y2(u.authToken)}}else throw await Q2("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XF(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=/^[cdef][\w-]{21}$/,jp="";function QF(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=JF(t);return YF.test(r)?r:jp}catch{return jp}}function JF(t){return XF(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=new Map;function rS(t,e){const r=a0(t);nS(r,e),ZF(r,e)}function nS(t,e){const r=tS.get(t);if(r)for(const n of r)n(e)}function ZF(t,e){const r=eL();r&&r.postMessage({key:t,fid:e}),tL()}let qs=null;function eL(){return!qs&&"BroadcastChannel"in self&&(qs=new BroadcastChannel("[Firebase] FID Change"),qs.onmessage=t=>{nS(t.data.key,t.data.fid)}),qs}function tL(){tS.size===0&&qs&&(qs.close(),qs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL="firebase-installations-database",nL=1,ha="firebase-installations-store";let fd=null;function Ag(){return fd||(fd=Ww(rL,nL,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ha)}}})),fd}async function af(t,e){const r=a0(t),i=(await Ag()).transaction(ha,"readwrite"),s=i.objectStore(ha),a=await s.get(r);return await s.put(e,r),await i.done,(!a||a.fid!==e.fid)&&rS(t,e.fid),e}async function iS(t){const e=a0(t),n=(await Ag()).transaction(ha,"readwrite");await n.objectStore(ha).delete(e),await n.done}async function o0(t,e){const r=a0(t),i=(await Ag()).transaction(ha,"readwrite"),s=i.objectStore(ha),a=await s.get(r),o=e(a);return o===void 0?await s.delete(r):await s.put(o,r),await i.done,o&&(!a||a.fid!==o.fid)&&rS(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ig(t){let e;const r=await o0(t.appConfig,n=>{const i=iL(n),s=sL(t,i);return e=s.registrationPromise,s.installationEntry});return r.fid===jp?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function iL(t){const e=t||{fid:QF(),registrationStatus:0};return sS(e)}function sL(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ca.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=aL(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:oL(t)}:{installationEntry:e}}async function aL(t,e){try{const r=await qF(t,e);return af(t.appConfig,r)}catch(r){throw q2(r)&&r.customData.serverCode===409?await iS(t.appConfig):await af(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function oL(t){let e=await oy(t.appConfig);for(;e.registrationStatus===1;)await eS(100),e=await oy(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await Ig(t);return n||r}return e}function oy(t){return o0(t,e=>{if(!e)throw ca.create("installation-not-found");return sS(e)})}function sS(t){return lL(t)?{fid:t.fid,registrationStatus:0}:t}function lL(t){return t.registrationStatus===1&&t.registrationTime+H2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uL({appConfig:t,heartbeatServiceProvider:e},r){const n=cL(t,r),i=HF(t,r),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={installation:{sdkVersion:G2,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(a)},l=await Z2(()=>fetch(n,o));if(l.ok){const u=await l.json();return Y2(u)}else throw await Q2("Generate Auth Token",l)}function cL(t,{fid:e}){return`${X2(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cg(t,e=!1){let r;const n=await o0(t.appConfig,s=>{if(!aS(s))throw ca.create("not-registered");const a=s.authToken;if(!e&&dL(a))return s;if(a.requestStatus===1)return r=hL(t,e),s;{if(!navigator.onLine)throw ca.create("app-offline");const o=mL(s);return r=fL(t,o),o}});return r?await r:n.authToken}async function hL(t,e){let r=await ly(t.appConfig);for(;r.authToken.requestStatus===1;)await eS(100),r=await ly(t.appConfig);const n=r.authToken;return n.requestStatus===0?Cg(t,e):n}function ly(t){return o0(t,e=>{if(!aS(e))throw ca.create("not-registered");const r=e.authToken;return gL(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function fL(t,e){try{const r=await uL(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await af(t.appConfig,n),r}catch(r){if(q2(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await iS(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await af(t.appConfig,n)}throw r}}function aS(t){return t!==void 0&&t.registrationStatus===2}function dL(t){return t.requestStatus===2&&!pL(t)}function pL(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+jF}function mL(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function gL(t){return t.requestStatus===1&&t.requestTime+H2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vL(t){const e=t,{installationEntry:r,registrationPromise:n}=await Ig(e);return n?n.catch(console.error):Cg(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(t,e=!1){const r=t;return await yL(r),(await Cg(r,e)).token}async function yL(t){const{registrationPromise:e}=await Ig(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(t){if(!t||!t.options)throw dd("App Configuration");if(!t.name)throw dd("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw dd(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function dd(t){return ca.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="installations",EL="installations-internal",wL=t=>{const e=t.getProvider("app").getImmediate(),r=xL(e),n=ya(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},TL=t=>{const e=t.getProvider("app").getImmediate(),r=ya(e,oS).getImmediate();return{getId:()=>vL(r),getToken:i=>_L(r,i)}};function SL(){Gn(new Rn(oS,wL,"PUBLIC")),Gn(new Rn(EL,TL,"PRIVATE"))}SL();un(W2,Sg);un(W2,Sg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of="analytics",AL="firebase_id",IL="origin",CL=60*1e3,kL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",kg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new $f("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},qr=new _a("analytics","Analytics",RL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(t){if(!t.startsWith(kg)){const e=qr.create("invalid-gtag-resource",{gtagURL:t});return Fr.warn(e.message),""}return t}function lS(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function NL(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function DL(t,e){const r=NL("firebase-js-sdk-policy",{createScriptURL:PL}),n=document.createElement("script"),i=`${kg}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function OL(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function FL(t,e,r,n,i,s){const a=n[i];try{if(a)await e[a];else{const l=(await lS(r)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(o){Fr.error(o)}t("config",i,s)}async function LL(t,e,r,n,i){try{let s=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const o=await lS(r);for(const l of a){const u=o.find(f=>f.measurementId===l),h=u&&e[u.appId];if(h)s.push(h);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",n,i||{})}catch(s){Fr.error(s)}}function ML(t,e,r,n){async function i(s,...a){try{if(s==="event"){const[o,l]=a;await LL(t,e,r,o,l)}else if(s==="config"){const[o,l]=a;await FL(t,e,r,n,o,l)}else if(s==="consent"){const[o,l]=a;t("consent",o,l)}else if(s==="get"){const[o,l,u]=a;t("get",o,l,u)}else if(s==="set"){const[o]=a;t("set",o)}else t(s,...a)}catch(o){Fr.error(o)}}return i}function bL(t,e,r,n,i){let s=function(...a){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=ML(s,t,e,r),{gtagCore:s,wrappedGtag:window[i]}}function VL(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(kg)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=30,UL=1e3;class jL{constructor(e={},r=UL){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const uS=new jL;function $L(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function zL(t){var e;const{appId:r,apiKey:n}=t,i={method:"GET",headers:$L(n)},s=kL.replace("{app-id}",r),a=await fetch(s,i);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();!((e=l.error)===null||e===void 0)&&e.message&&(o=l.error.message)}catch{}throw qr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function WL(t,e=uS,r){const{appId:n,apiKey:i,measurementId:s}=t.options;if(!n)throw qr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:n};throw qr.create("no-api-key")}const a=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new KL;return setTimeout(async()=>{o.abort()},CL),cS({appId:n,apiKey:i,measurementId:s},a,o,e)}async function cS(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=uS){var s;const{appId:a,measurementId:o}=t;try{await HL(n,e)}catch(l){if(o)return Fr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:o};throw l}try{const l=await zL(t);return i.deleteThrottleMetadata(a),l}catch(l){const u=l;if(!GL(u)){if(i.deleteThrottleMetadata(a),o)return Fr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:o};throw l}const h=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?qv(r,i.intervalMillis,BL):qv(r,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:r+1};return i.setThrottleMetadata(a,f),Fr.debug(`Calling attemptFetch again in ${h} millis`),cS(t,f,n,i)}}function HL(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(s),n(qr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function GL(t){if(!(t instanceof Nn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class KL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function qL(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const s=await e,a=Object.assign(Object.assign({},n),{send_to:s});t("event",r,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL(){if(Uw())try{await jw()}catch(t){return Fr.warn(qr.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Fr.warn(qr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function YL(t,e,r,n,i,s,a){var o;const l=WL(t);l.then(m=>{r[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&Fr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Fr.error(m)),e.push(l);const u=XL().then(m=>{if(m)return n.getId()}),[h,f]=await Promise.all([l,u]);VL(s)||DL(s,h.measurementId),i("js",new Date);const d=(o=a==null?void 0:a.config)!==null&&o!==void 0?o:{};return d[IL]="firebase",d.update=!0,f!=null&&(d[AL]=f),i("config",h.measurementId,d),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.app=e}_delete(){return delete zl[this.app.options.appId],Promise.resolve()}}let zl={},uy=[];const cy={};let pd="dataLayer",JL="gtag",hy,hS,fy=!1;function ZL(){const t=[];if(Bw()&&t.push("This is a browser extension environment."),nR()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=qr.create("invalid-analytics-context",{errorInfo:e});Fr.warn(r.message)}}function e6(t,e,r){ZL();const n=t.options.appId;if(!n)throw qr.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Fr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw qr.create("no-api-key");if(zl[n]!=null)throw qr.create("already-exists",{id:n});if(!fy){OL(pd);const{wrappedGtag:s,gtagCore:a}=bL(zl,uy,cy,pd,JL);hS=s,hy=a,fy=!0}return zl[n]=YL(t,uy,cy,e,hy,pd,r),new QL(t)}function t6(t=Hm()){t=Zr(t);const e=ya(t,of);return e.isInitialized()?e.getImmediate():r6(t)}function r6(t,e={}){const r=ya(t,of);if(r.isInitialized()){const i=r.getImmediate();if(gu(e,r.getOptions()))return i;throw qr.create("already-initialized")}return r.initialize({options:e})}function n6(t,e,r,n){t=Zr(t),qL(hS,zl[t.app.options.appId],e,r,n).catch(i=>Fr.error(i))}const dy="@firebase/analytics",py="0.10.8";function i6(){Gn(new Rn(of,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return e6(n,i,r)},"PUBLIC")),Gn(new Rn("analytics-internal",t,"PRIVATE")),un(dy,py),un(dy,py,"esm2017");function t(e){try{const r=e.getProvider(of).getImmediate();return{logEvent:(n,i,s)=>n6(r,n,i,s)}}catch(r){throw qr.create("interop-component-reg-failed",{reason:r})}}}i6();const s6={apiKey:"AIzaSyAf6iJ4hNdJijF-4sWWt7Y-akXhT9mKCFE",authDomain:"qtholidays-app-a9595.firebaseapp.com",projectId:"qtholidays-app-a9595",storageBucket:"qtholidays-app-a9595.firebasestorage.app",messagingSenderId:"492855809684",appId:"1:492855809684:web:5927cefca2f046552e8681",measurementId:"G-MZP2YFKF8C"},Rg=Hw(s6),Pg=ND(Rg),Ng=SF(Rg);typeof window<"u"&&t6(Rg);const a6=async(t,e)=>{try{return{user:(await gN(Pg,t,e)).user,error:null}}catch(r){return console.error("Error signing in:",r),{user:null,error:r}}},o6=async()=>{try{return await xN(Pg),{success:!0,error:null}}catch(t){return console.error("Error signing out:",t),{success:!1,error:t}}},l6=t=>yN(Pg,t),fS=ee.createContext(void 0),u6=({children:t})=>{const[e,r]=ee.useState(null),[n,i]=ee.useState(!0);ee.useEffect(()=>{const l=l6(u=>{r(u?{uid:u.uid,email:u.email||"",displayName:u.displayName||void 0}:null),i(!1)});return()=>l()},[]);const o={user:e,loading:n,signIn:async(l,u)=>{const h=await a6(l,u);return h.user?{user:{uid:h.user.uid,email:h.user.email||"",displayName:h.user.displayName||void 0},error:null}:h},signOut:async()=>o6()};return x.jsx(fS.Provider,{value:o,children:t})},l0=()=>{const t=ee.useContext(fS);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},c6=async(t,e)=>{try{const r=V2(Ng,t,e);return await bF(r),{success:!0,error:null}}catch(r){return console.error(`Error deleting document from ${t}:`,r),{success:!1,error:r}}},h6=async t=>{try{return{documents:(await MF(TF(Ng,t))).docs.map(n=>({id:n.id,...n.data()})),error:null}}catch(e){return console.error(`Error getting documents from ${t}:`,e),{documents:[],error:e}}},f6=async(t,e)=>{try{const r=V2(Ng,t,e),n=await LF(r);return n.exists()?{document:{id:n.id,...n.data()},error:null}:{document:null,error:new Error("Document not found")}}catch(r){return console.error(`Error getting document from ${t}:`,r),{document:null,error:r}}},my={flight:"flightBookings",hotel:"hotelReservations",car:"carRentals",visa:"visaApplications",foreignExchange:"foreignExchanges",tourPackage:"tourPackages",train:"trainBookings",vajabhat:"vajabhats"},dS=ee.createContext(void 0),d6=({children:t})=>{const{user:e}=l0(),[r,n]=ee.useState(!0),[i,s]=ee.useState(null),[a,o]=ee.useState({flight:[],hotel:[],car:[],visa:[],foreignExchange:[],tourPackage:[],train:[],vajabhat:[]}),l=f=>my[f],u=async()=>{if(e){n(!0);try{const f=Object.entries(my).map(async([y,g])=>{const{documents:v}=await h6(g);return{type:y,documents:v}}),d=await Promise.all(f),m={...a};d.forEach(({type:y,documents:g})=>{m[y]=g}),o(m),h(m)}catch(f){console.error("Error refreshing services:",f)}finally{n(!1)}}},h=f=>{let d=0,m=0,y=0;const g={flight:0,hotel:0,car:0,visa:0,foreignExchange:0,tourPackage:0,train:0,vajabhat:0};Object.entries(f).forEach(([S,E])=>{const I=S;g[I]=E.length,d+=E.length,E.forEach(V=>{m+=Number(V.customerAmount)||0,y+=Number(V.supplierAmount)||0})});const v={totalServices:d,totalCustomerAmount:m,totalSupplierAmount:y,totalProfit:m-y,serviceBreakdown:g};s(v)};return ee.useEffect(()=>{e&&u()},[e]),x.jsx(dS.Provider,{value:{services:a,loading:r,refreshServices:u,summary:i,getServiceCollection:l},children:t})},fn=()=>{const t=ee.useContext(dS);if(t===void 0)throw new Error("useServices must be used within a ServiceProvider");return t},p6=({children:t})=>{const{user:e,loading:r}=l0();return r?x.jsx("div",{className:"min-h-screen flex justify-center items-center",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e?x.jsx(x.Fragment,{children:t}):x.jsx(Dw,{to:"/login",replace:!0})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var m6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),st=(t,e)=>{const r=ee.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...u},h)=>ee.createElement("svg",{ref:h,...m6,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${g6(t)}`,o].join(" "),...u},[...e.map(([f,d])=>ee.createElement(f,d)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=st("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=st("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=st("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=st("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=st("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=st("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=st("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=st("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S6=st("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=st("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=st("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=st("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=st("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=st("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=st("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=st("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=st("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=st("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=st("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D6=st("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=st("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F6=st("Stamp",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M19.27 13.73A2.5 2.5 0 0 0 17.5 13h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-1.5c0-.66-.26-1.3-.73-1.77Z",key:"1sy9ra"}],["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-3-3c-1.66 0-3 1-3 3s1 2 1 3.5V13",key:"cnxgux"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=st("TramFront",[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h0",key:"q9eq1f"}],["path",{d:"M16 15h0",key:"pzrbjg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=st("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=st("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=st("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=st("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);let B6={data:""},U6=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||B6,j6=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,$6=/\/\*[^]*?\*\/|  +/g,yy=/\n+/g,Yi=(t,e)=>{let r="",n="",i="";for(let s in t){let a=t[s];s[0]=="@"?s[1]=="i"?r=s+" "+a+";":n+=s[1]=="f"?Yi(a,s):s+"{"+Yi(a,s[1]=="k"?"":e)+"}":typeof a=="object"?n+=Yi(a,e?e.replace(/([^,])+/g,o=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Yi.p?Yi.p(s,a):s+":"+a+";")}return r+(e&&i?e+"{"+i+"}":i)+n},ri={},mS=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+mS(t[r]);return e}return t},z6=(t,e,r,n,i)=>{let s=mS(t),a=ri[s]||(ri[s]=(l=>{let u=0,h=11;for(;u<l.length;)h=101*h+l.charCodeAt(u++)>>>0;return"go"+h})(s));if(!ri[a]){let l=s!==t?t:(u=>{let h,f,d=[{}];for(;h=j6.exec(u.replace($6,""));)h[4]?d.shift():h[3]?(f=h[3].replace(yy," ").trim(),d.unshift(d[0][f]=d[0][f]||{})):d[0][h[1]]=h[2].replace(yy," ").trim();return d[0]})(t);ri[a]=Yi(i?{["@keyframes "+a]:l}:l,r?"":"."+a)}let o=r&&ri.g?ri.g:null;return r&&(ri.g=ri[a]),((l,u,h,f)=>{f?u.data=u.data.replace(f,l):u.data.indexOf(l)===-1&&(u.data=h?l+u.data:u.data+l)})(ri[a],e,n,o),a},W6=(t,e,r)=>t.reduce((n,i,s)=>{let a=e[s];if(a&&a.call){let o=a(r),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":Yi(o,""):o===!1?"":o}return n+i+(a??"")},"");function u0(t){let e=this||{},r=t.call?t(e.p):t;return z6(r.unshift?r.raw?W6(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,U6(e.target),e.g,e.o,e.k)}let gS,zp,Wp;u0.bind({g:1});let Ii=u0.bind({k:1});function H6(t,e,r,n){Yi.p=e,gS=t,zp=r,Wp=n}function ks(t,e){let r=this||{};return function(){let n=arguments;function i(s,a){let o=Object.assign({},s),l=o.className||i.className;r.p=Object.assign({theme:zp&&zp()},o),r.o=/ *go\d+/.test(l),o.className=u0.apply(r,n)+(l?" "+l:"");let u=t;return t[0]&&(u=o.as||t,delete o.as),Wp&&u[0]&&Wp(o),gS(u,o)}return i}}var G6=t=>typeof t=="function",lf=(t,e)=>G6(t)?t(e):t,K6=(()=>{let t=0;return()=>(++t).toString()})(),vS=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),q6=20,_S=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,q6)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return _S(t,{type:t.toasts.find(s=>s.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},yh=[],Xs={toasts:[],pausedAt:void 0},wa=t=>{Xs=_S(Xs,t),yh.forEach(e=>{e(Xs)})},X6={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Y6=(t={})=>{let[e,r]=ee.useState(Xs),n=ee.useRef(Xs);ee.useEffect(()=>(n.current!==Xs&&r(Xs),yh.push(r),()=>{let s=yh.indexOf(r);s>-1&&yh.splice(s,1)}),[]);let i=e.toasts.map(s=>{var a,o,l;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((a=t[s.type])==null?void 0:a.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((o=t[s.type])==null?void 0:o.duration)||(t==null?void 0:t.duration)||X6[s.type],style:{...t.style,...(l=t[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:i}},Q6=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||K6()}),Yu=t=>(e,r)=>{let n=Q6(e,t,r);return wa({type:2,toast:n}),n.id},wr=(t,e)=>Yu("blank")(t,e);wr.error=Yu("error");wr.success=Yu("success");wr.loading=Yu("loading");wr.custom=Yu("custom");wr.dismiss=t=>{wa({type:3,toastId:t})};wr.remove=t=>wa({type:4,toastId:t});wr.promise=(t,e,r)=>{let n=wr.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?lf(e.success,i):void 0;return s?wr.success(s,{id:n,...r,...r==null?void 0:r.success}):wr.dismiss(n),i}).catch(i=>{let s=e.error?lf(e.error,i):void 0;s?wr.error(s,{id:n,...r,...r==null?void 0:r.error}):wr.dismiss(n)}),t};var J6=(t,e)=>{wa({type:1,toast:{id:t,height:e}})},Z6=()=>{wa({type:5,time:Date.now()})},Wl=new Map,eM=1e3,tM=(t,e=eM)=>{if(Wl.has(t))return;let r=setTimeout(()=>{Wl.delete(t),wa({type:4,toastId:t})},e);Wl.set(t,r)},rM=t=>{let{toasts:e,pausedAt:r}=Y6(t);ee.useEffect(()=>{if(r)return;let s=Date.now(),a=e.map(o=>{if(o.duration===1/0)return;let l=(o.duration||0)+o.pauseDuration-(s-o.createdAt);if(l<0){o.visible&&wr.dismiss(o.id);return}return setTimeout(()=>wr.dismiss(o.id),l)});return()=>{a.forEach(o=>o&&clearTimeout(o))}},[e,r]);let n=ee.useCallback(()=>{r&&wa({type:6,time:Date.now()})},[r]),i=ee.useCallback((s,a)=>{let{reverseOrder:o=!1,gutter:l=8,defaultPosition:u}=a||{},h=e.filter(m=>(m.position||u)===(s.position||u)&&m.height),f=h.findIndex(m=>m.id===s.id),d=h.filter((m,y)=>y<f&&m.visible).length;return h.filter(m=>m.visible).slice(...o?[d+1]:[0,d]).reduce((m,y)=>m+(y.height||0)+l,0)},[e]);return ee.useEffect(()=>{e.forEach(s=>{if(s.dismissed)tM(s.id,s.removeDelay);else{let a=Wl.get(s.id);a&&(clearTimeout(a),Wl.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:J6,startPause:Z6,endPause:n,calculateOffset:i}}},nM=Ii`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,iM=Ii`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,sM=Ii`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,aM=ks("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${nM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${iM} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${sM} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,oM=Ii`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,lM=ks("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${oM} 1s linear infinite;
`,uM=Ii`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,cM=Ii`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,hM=ks("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${uM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${cM} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,fM=ks("div")`
  position: absolute;
`,dM=ks("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,pM=Ii`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,mM=ks("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${pM} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,gM=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?ee.createElement(mM,null,e):e:r==="blank"?null:ee.createElement(dM,null,ee.createElement(lM,{...n}),r!=="loading"&&ee.createElement(fM,null,r==="error"?ee.createElement(aM,{...n}):ee.createElement(hM,{...n})))},vM=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,_M=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,yM="0%{opacity:0;} 100%{opacity:1;}",xM="0%{opacity:1;} 100%{opacity:0;}",EM=ks("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,wM=ks("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,TM=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=vS()?[yM,xM]:[vM(r),_M(r)];return{animation:e?`${Ii(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ii(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},SM=ee.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?TM(t.position||e||"top-center",t.visible):{opacity:0},s=ee.createElement(gM,{toast:t}),a=ee.createElement(wM,{...t.ariaProps},lf(t.message,t));return ee.createElement(EM,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:s,message:a}):ee.createElement(ee.Fragment,null,s,a))});H6(ee.createElement);var AM=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let s=ee.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;n(t,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return ee.createElement("div",{ref:s,className:e,style:r},i)},IM=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:vS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},CM=u0`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,zc=16,kM=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,containerStyle:s,containerClassName:a})=>{let{toasts:o,handlers:l}=rM(r);return ee.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:zc,left:zc,right:zc,bottom:zc,pointerEvents:"none",...s},className:a,onMouseEnter:l.startPause,onMouseLeave:l.endPause},o.map(u=>{let h=u.position||e,f=l.calculateOffset(u,{reverseOrder:t,gutter:n,defaultPosition:e}),d=IM(h,f);return ee.createElement(AM,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?CM:"",style:d},u.type==="custom"?lf(u.message,u):i?i(u):ee.createElement(SM,{toast:u,position:h}))}))},bn=wr;const RM=()=>{const{user:t,signOut:e}=l0(),r=va(),n=Uf(),[i,s]=ee.useState(!1),[a,o]=ee.useState(!1),l=async()=>{await e(),r("/login")},u=()=>{s(!i)},h=()=>{o(!a)},f=y=>n.pathname===y,d=[{name:"Flight Booking",path:"/services/flight"},{name:"Hotel Reservation",path:"/services/hotel"},{name:"Car Rental",path:"/services/car"},{name:"Visa",path:"/services/visa"},{name:"Foreign Exchange",path:"/services/foreign-exchange"},{name:"Tour Packages",path:"/services/tour-package"},{name:"Train Booking",path:"/services/train"},{name:"Vajabhat",path:"/services/vajabhat"}],m=d.some(y=>n.pathname===y.path);return x.jsxs("div",{className:"min-h-screen flex flex-col",children:[x.jsx(kM,{position:"top-right"}),x.jsx("header",{className:"bg-white shadow-sm border-b border-slate-200",children:x.jsx("div",{className:"container-custom py-4",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center space-x-2",children:[x.jsx("img",{src:"/logo.svg",alt:"QT Holidays",className:"h-8 w-8"}),x.jsx("h1",{className:"text-xl font-bold text-blue-600",children:"QT Holidays"})]}),t&&x.jsxs("div",{className:"hidden md:flex items-center space-x-1",children:[x.jsxs("button",{onClick:()=>r("/"),className:`nav-link ${f("/")?"nav-link-active":""}`,children:[x.jsx(vy,{className:"h-4 w-4 mr-1 inline"}),"Dashboard"]}),x.jsxs("div",{className:"relative",children:[x.jsxs("button",{onClick:h,className:`nav-link flex items-center ${m?"nav-link-active":""}`,children:["Services",x.jsx(gy,{className:`ml-1 h-4 w-4 transition-transform ${a?"rotate-180":""}`})]}),a&&x.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg py-2 border border-slate-200 z-10 animate-fade-in",children:d.map(y=>x.jsx("button",{onClick:()=>{r(y.path),o(!1)},className:`block w-full text-left px-4 py-2 text-sm hover:bg-slate-50 ${f(y.path)?"text-blue-600 bg-blue-50":"text-slate-700"}`,children:y.name},y.path))})]}),x.jsxs("button",{onClick:()=>r("/summary"),className:`nav-link ${f("/summary")?"nav-link-active":""}`,children:[x.jsx($p,{className:"h-4 w-4 mr-1 inline"}),"Summary"]}),x.jsxs("button",{onClick:l,className:"btn btn-outline ml-2",children:[x.jsx(_y,{className:"h-4 w-4"}),x.jsx("span",{children:"Sign Out"})]})]}),x.jsx("div",{className:"md:hidden",children:x.jsx("button",{onClick:u,className:"p-2 rounded-lg text-slate-600 hover:bg-slate-100",children:i?x.jsx(V6,{className:"h-6 w-6"}):x.jsx(k6,{className:"h-6 w-6"})})})]})})}),i&&t&&x.jsx("div",{className:"md:hidden bg-white border-b border-slate-200 animate-slide-down",children:x.jsxs("div",{className:"py-2 px-4 space-y-1",children:[x.jsxs("button",{onClick:()=>{r("/"),s(!1)},className:`w-full text-left py-2 px-3 rounded-lg ${f("/")?"bg-blue-50 text-blue-600":"text-slate-700"}`,children:[x.jsx(vy,{className:"h-4 w-4 mr-2 inline"}),"Dashboard"]}),x.jsxs("div",{className:"py-2",children:[x.jsxs("button",{onClick:h,className:"w-full flex items-center justify-between px-3 py-2 text-slate-700 rounded-lg",children:[x.jsx("span",{children:"Services"}),x.jsx(gy,{className:`h-4 w-4 transition-transform ${a?"rotate-180":""}`})]}),a&&x.jsx("div",{className:"mt-1 pl-4 border-l-2 border-slate-200 ml-3 space-y-1",children:d.map(y=>x.jsx("button",{onClick:()=>{r(y.path),s(!1)},className:`w-full text-left py-2 px-3 rounded-lg ${f(y.path)?"text-blue-600":"text-slate-600"}`,children:y.name},y.path))})]}),x.jsxs("button",{onClick:()=>{r("/summary"),s(!1)},className:`w-full text-left py-2 px-3 rounded-lg ${f("/summary")?"bg-blue-50 text-blue-600":"text-slate-700"}`,children:[x.jsx($p,{className:"h-4 w-4 mr-2 inline"}),"Summary"]}),x.jsxs("button",{onClick:l,className:"w-full text-left py-2 px-3 rounded-lg text-red-600 hover:bg-red-50",children:[x.jsx(_y,{className:"h-4 w-4 mr-2 inline"}),"Sign Out"]})]})}),x.jsx("main",{className:"flex-1 py-6",children:x.jsx("div",{className:"container-custom",children:x.jsx(Lk,{})})}),x.jsx("footer",{className:"bg-white border-t border-slate-200 py-4",children:x.jsx("div",{className:"container-custom",children:x.jsxs("div",{className:"text-center text-sm text-slate-500",children:[" ",new Date().getFullYear()," QT Holidays. All rights reserved."]})})})]})},PM=()=>{const[t,e]=ee.useState(""),[r,n]=ee.useState(""),[i,s]=ee.useState(!1),{signIn:a,user:o}=l0(),l=va();ee.useEffect(()=>{o&&l("/")},[o,l]);const u=async h=>{var f;h.preventDefault(),s(!0);try{const d=await a(t,r);if(d.user)bn.success("Login successful!"),l("/");else if(d.error)switch((f=d.error)==null?void 0:f.code){case"auth/invalid-credential":bn.error("Invalid email or password");break;case"auth/user-not-found":bn.error("No account found with this email");break;case"auth/wrong-password":bn.error("Incorrect password");break;case"auth/too-many-requests":bn.error("Too many failed attempts. Please try again later");break;default:bn.error("Login failed. Please try again")}}catch(d){console.error("Login error:",d),bn.error("An unexpected error occurred. Please try again")}finally{s(!1)}};return x.jsx("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-slate-100 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:x.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-sm border border-slate-200 animate-scale-in",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"flex justify-center",children:x.jsx("div",{className:"h-16 w-16 rounded-full bg-blue-100 flex items-center justify-center",children:x.jsx(C6,{className:"h-8 w-8 text-blue-600"})})}),x.jsx("h2",{className:"mt-6 text-3xl font-bold text-slate-800",children:"QT Holidays"}),x.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Sign in to your account to continue"})]}),x.jsxs("form",{className:"mt-8 space-y-6",onSubmit:u,children:[x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"email",className:"input-label",children:"Email Address"}),x.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:h=>e(h.target.value),className:"input-field",placeholder:"Enter your email"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"password",className:"input-label",children:"Password"}),x.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:r,onChange:h=>n(h.target.value),className:"input-field",placeholder:"Enter your password"})]})]}),x.jsx("div",{children:x.jsxs("button",{type:"submit",className:"btn btn-primary w-full flex items-center justify-center",disabled:i,children:[x.jsx(I6,{className:"h-4 w-4 mr-2"}),i?"Signing in...":"Sign in"]})})]})]})})},NM=({title:t,value:e,icon:r,color:n,onClick:i})=>x.jsx("div",{className:`card hover:shadow-md cursor-pointer transition-all duration-300 ${i?"hover:translate-y-[-2px]":""}`,onClick:i,children:x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium text-slate-500",children:t}),x.jsx("p",{className:"text-2xl font-semibold mt-1",children:e})]}),x.jsx("div",{className:`p-3 rounded-full bg-opacity-10 ${n}`,children:x.jsx(r,{className:`h-6 w-6 ${n.replace("bg-","text-")}`})})]})}),ts=({title:t,value:e,previousValue:r,change:n,positive:i})=>x.jsx("div",{className:"card hover:shadow-md",children:x.jsxs("div",{className:"space-y-2",children:[x.jsx("p",{className:"text-sm font-medium text-slate-500",children:t}),x.jsx("p",{className:"text-2xl font-semibold",children:e}),r&&n!==void 0&&x.jsxs("div",{className:"flex items-center mt-2",children:[x.jsxs("div",{className:`flex items-center ${i?"text-green-600":"text-red-600"}`,children:[i?x.jsx(pS,{className:"h-4 w-4 mr-1"}):x.jsx(b6,{className:"h-4 w-4 mr-1"}),x.jsxs("span",{className:"text-sm font-medium",children:[n,"%"]})]}),x.jsxs("span",{className:"text-sm text-slate-500 ml-2",children:["vs ",r]})]})]})}),DM=()=>{const{services:t,summary:e}=fn(),r=va(),n=s=>s==null?"N/A":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(s),i=[{title:"Flight Bookings",value:t.flight.length,icon:R6,color:"bg-blue-500",path:"/services/flight"},{title:"Hotel Reservations",value:t.hotel.length,icon:x6,color:"bg-amber-500",path:"/services/hotel"},{title:"Car Rentals",value:t.car.length,icon:w6,color:"bg-emerald-500",path:"/services/car"},{title:"Visa Applications",value:t.visa.length,icon:F6,color:"bg-red-500",path:"/services/visa"},{title:"Foreign Exchange",value:t.foreignExchange.length,icon:_6,color:"bg-purple-500",path:"/services/foreign-exchange"},{title:"Tour Packages",value:t.tourPackage.length,icon:A6,color:"bg-teal-500",path:"/services/tour-package"},{title:"Train Bookings",value:t.train.length,icon:L6,color:"bg-indigo-500",path:"/services/train"},{title:"Vajabhat",value:t.vajabhat.length,icon:N6,color:"bg-pink-500",path:"/services/vajabhat"}];return x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Dashboard"}),x.jsx("p",{className:"text-slate-500 mt-1",children:"Welcome to QT Holidays Management System"})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[x.jsx(ts,{title:"Total Services (This Month)",value:(e==null?void 0:e.totalServices)||0}),x.jsx(ts,{title:"Revenue",value:n((e==null?void 0:e.totalCustomerAmount)||0)}),x.jsx(ts,{title:"Expenses",value:n((e==null?void 0:e.totalSupplierAmount)||0)}),x.jsx(ts,{title:"Profit",value:n((e==null?void 0:e.totalProfit)||0),positive:!0})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"flex items-center mb-4",children:[x.jsx(pS,{className:"h-5 w-5 text-slate-700 mr-2"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Services"})]}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:i.map((s,a)=>x.jsx(NM,{title:s.title,value:s.value,icon:s.icon,color:s.color,onClick:()=>r(s.path)},a))})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var uf={};uf.version="0.18.5";var yS=1252,OM=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],xS=function(t){OM.indexOf(t)!=-1&&(yS=t)};function FM(){xS(1252)}var Iu=function(t){xS(t)};function LM(){Iu(1200),FM()}var Wc=function(e){return String.fromCharCode(e)},xy=function(e){return String.fromCharCode(e)},$s,rs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Cu(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0,u=0;u<t.length;)r=t.charCodeAt(u++),s=r>>2,n=t.charCodeAt(u++),a=(r&3)<<4|n>>4,i=t.charCodeAt(u++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=rs.charAt(s)+rs.charAt(a)+rs.charAt(o)+rs.charAt(l);return e}function Ci(t){var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)s=rs.indexOf(t.charAt(u++)),a=rs.indexOf(t.charAt(u++)),r=s<<2|a>>4,e+=String.fromCharCode(r),o=rs.indexOf(t.charAt(u++)),n=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=rs.indexOf(t.charAt(u++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var Ke=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ni=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function fa(t){return Ke?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function Ey(t){return Ke?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Tn=function(e){return Ke?Ni(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function c0(t){if(typeof ArrayBuffer>"u")return Tn(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function Qu(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function MM(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Qt=Ke?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Ni(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function bM(t){for(var e=[],r=0,n=t.length+250,i=fa(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[r++]=a;else if(a<2048)i[r++]=192|a>>6&31,i[r++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[r++]=240|a>>8&7,i[r++]=128|a>>2&63,i[r++]=128|o>>6&15|(a&3)<<4,i[r++]=128|o&63}else i[r++]=224|a>>12&15,i[r++]=128|a>>6&63,i[r++]=128|a&63;r>n&&(e.push(i.slice(0,r)),r=0,i=fa(65535),n=65530)}return e.push(i.slice(0,r)),Qt(e)}var Hl=/\u0000/g,Hc=/[\u0001-\u0006]/g;function po(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Sn(t,e){var r=""+t;return r.length>=e?r:wt("0",e-r.length)+r}function Dg(t,e){var r=""+t;return r.length>=e?r:wt(" ",e-r.length)+r}function cf(t,e){var r=""+t;return r.length>=e?r:r+wt(" ",e-r.length)}function VM(t,e){var r=""+Math.round(t);return r.length>=e?r:wt("0",e-r.length)+r}function BM(t,e){var r=""+t;return r.length>=e?r:wt("0",e-r.length)+r}var wy=Math.pow(2,32);function Ma(t,e){if(t>wy||t<-wy)return VM(t,e);var r=Math.round(t);return BM(r,e)}function hf(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var Ty=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],md=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function UM(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Tt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Sy={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},jM={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function ff(t,e,r){for(var n=t<0?-1:1,i=t*n,s=0,a=1,o=0,l=1,u=0,h=0,f=Math.floor(i);u<e&&(f=Math.floor(i),o=f*a+s,h=f*u+l,!(i-f<5e-8));)i=1/(i-f),s=a,a=o,l=u,u=h;if(h>e&&(u>e?(h=l,o=s):(h=u,o=a)),!r)return[0,n*o,h];var d=Math.floor(n*o/h);return[d,n*o-d*h,h]}function Gc(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),s=0,a=[],o={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)a=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=qM(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var ES=new Date(1899,11,31,0,0,0),$M=ES.getTime(),zM=new Date(1900,2,1,0,0,0);function wS(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=zM&&(r+=24*60*60*1e3),(r-($M+(t.getTimezoneOffset()-ES.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Og(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function WM(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function HM(t){var e=t<0?12:11,r=Og(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function GM(t){var e=Og(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function KM(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=HM(t):e===10?r=t.toFixed(10).substr(0,12):r=GM(t),Og(WM(r.toUpperCase()))}function Hp(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):KM(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Es(14,wS(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function qM(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function XM(t,e,r,n){var i="",s=0,a=0,o=r.y,l,u=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,u=e.length;break;case 3:return md[r.m-1][1];case 5:return md[r.m-1][0];default:return md[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,u=e.length;break;case 3:return Ty[r.q][0];default:return Ty[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Sn(r.S,e.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(r.S+r.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=Sn(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:l=o,u=1;break}var h=u>0?Sn(l,u):"";return h}function ns(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var TS=/%/g;function YM(t,e,r){var n=e.replace(TS,""),i=e.length-n.length;return mi(t,n,r*Math.pow(10,2*i))+wt("%",i)}function QM(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return mi(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function SS(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+SS(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,h){return l+u+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var AS=/# (\?+)( ?)\/( ?)(\d+)/;function JM(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),s=Math.floor(i/n),a=i-s*n,o=n;return r+(s===0?"":""+s)+" "+(a===0?wt(" ",t[1].length+1+t[4].length):Dg(a,t[1].length)+t[2]+"/"+t[3]+Sn(o,t[4].length))}function ZM(t,e,r){return r+(e===0?"":""+e)+wt(" ",t[1].length+2+t[4].length)}var IS=/^#*0*\.([0#]+)/,CS=/\).*[0#]/,kS=/\(###\) ###\\?-####/;function xr(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function Ay(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function Iy(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function e5(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function t5(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function rn(t,e,r){if(t.charCodeAt(0)===40&&!e.match(CS)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?rn("n",n,r):"("+rn("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return QM(t,e,r);if(e.indexOf("%")!==-1)return YM(t,e,r);if(e.indexOf("E")!==-1)return SS(e,r);if(e.charCodeAt(0)===36)return"$"+rn(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+Ma(l,e.length);if(e.match(/^[#?]+$/))return i=Ma(r,0),i==="0"&&(i=""),i.length>e.length?i:xr(e.substr(0,e.length-i.length))+i;if(s=e.match(AS))return JM(s,l,u);if(e.match(/^#+0+$/))return u+Ma(l,e.length-e.indexOf("0"));if(s=e.match(IS))return i=Ay(r,s[1].length).replace(/^([^\.]+)$/,"$1."+xr(s[1])).replace(/\.$/,"."+xr(s[1])).replace(/\.(\d*)$/,function(y,g){return"."+g+wt("0",xr(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+Ay(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+ns(Ma(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+rn(t,e,-r):ns(""+(Math.floor(r)+e5(r,s[1].length)))+"."+Sn(Iy(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return rn(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=po(rn(t,e.replace(/[\\-]/g,""),r)),a=0,po(po(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return a<i.length?i.charAt(a++):y==="0"?"0":""}));if(e.match(kS))return i=rn(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=ff(l,Math.pow(10,a)-1,!1),i=""+u,h=mi("n",s[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=cf(o[2],a),h.length<s[4].length&&(h=xr(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=ff(l,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Dg(o[1],a)+s[2]+"/"+s[3]+cf(o[2],a):wt(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Ma(r,0),e.length<=i.length?i:xr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,d=e.length-i.length-f;return xr(e.substr(0,f)+i+e.substr(e.length-d))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=Iy(r,s[1].length),r<0?"-"+rn(t,e,-r):ns(t5(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Sn(0,3-y.length):"")+y})+"."+Sn(a,s[1].length);switch(e){case"###,##0.00":return rn(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=ns(Ma(l,0));return m!=="0"?u+m:"";case"###,###.00":return rn(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return rn(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function r5(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return mi(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function n5(t,e,r){var n=e.replace(TS,""),i=e.length-n.length;return mi(t,n,r*Math.pow(10,2*i))+wt("%",i)}function RS(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+RS(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,h){return l+u+h.substr(0,(i+s)%i)+"."+h.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Fn(t,e,r){if(t.charCodeAt(0)===40&&!e.match(CS)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Fn("n",n,r):"("+Fn("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return r5(t,e,r);if(e.indexOf("%")!==-1)return n5(t,e,r);if(e.indexOf("E")!==-1)return RS(e,r);if(e.charCodeAt(0)===36)return"$"+Fn(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+Sn(l,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:xr(e.substr(0,e.length-i.length))+i;if(s=e.match(AS))return ZM(s,l,u);if(e.match(/^#+0+$/))return u+Sn(l,e.length-e.indexOf("0"));if(s=e.match(IS))return i=(""+r).replace(/^([^\.]+)$/,"$1."+xr(s[1])).replace(/\.$/,"."+xr(s[1])),i=i.replace(/\.(\d*)$/,function(y,g){return"."+g+wt("0",xr(s[1]).length-g.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+ns(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Fn(t,e,-r):ns(""+r)+"."+wt("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Fn(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=po(Fn(t,e.replace(/[\\-]/g,""),r)),a=0,po(po(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return a<i.length?i.charAt(a++):y==="0"?"0":""}));if(e.match(kS))return i=Fn(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=ff(l,Math.pow(10,a)-1,!1),i=""+u,h=mi("n",s[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+s[2]+"/"+s[3],h=cf(o[2],a),h.length<s[4].length&&(h=xr(s[4].substr(s[4].length-h.length))+h),i+=h,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=ff(l,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Dg(o[1],a)+s[2]+"/"+s[3]+cf(o[2],a):wt(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:xr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,d=e.length-i.length-f;return xr(e.substr(0,f)+i+e.substr(e.length-d))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Fn(t,e,-r):ns(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Sn(0,3-y.length):"")+y})+"."+Sn(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var m=ns(""+l);return m!=="0"?u+m:"";default:if(e.match(/\.[0#?]*$/))return Fn(t,e.slice(0,e.lastIndexOf(".")),r)+xr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function mi(t,e,r){return(r|0)===r?Fn(t,e,r):rn(t,e,r)}function i5(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var PS=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function NS(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":hf(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(PS))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function s5(t,e,r,n){for(var i=[],s="",a=0,o="",l="t",u,h,f,d="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!hf(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(f=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(f);i[i.length]={t:"t",v:s},++a;break;case"\\":var m=t.charAt(++a),y=m==="("||m===")"?m:"t";i[i.length]={t:y,v:m},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(u==null&&(u=Gc(e,r,t.charAt(a+1)==="2"),u==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=Gc(e,r),u==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=d),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var g={t:o,v:o};if(u==null&&(u=Gc(e,r)),t.substr(a,3).toUpperCase()==="A/P"?(u!=null&&(g.v=u.H>=12?"P":"A"),g.t="T",d="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(u!=null&&(g.v=u.H>=12?"PM":"AM"),g.t="T",a+=5,d="h"):t.substr(a,5).toUpperCase()==="/"?(u!=null&&(g.v=u.H>=12?"":""),g.t="T",a+=5,d="h"):(g.t="t",++a),u==null&&g.t==="T")return"";i[i.length]=g,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(PS)){if(u==null&&(u=Gc(e,r),u==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",NS(t)||(i[i.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var v=0,S=0,E;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=d,l="h",v<1&&(v=1);break;case"s":(E=i[a].v.match(/\.0+$/))&&(S=Math.max(S,E[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&i[a].v.match(/[Hh]/)&&(v=1),v<2&&i[a].v.match(/[Mm]/)&&(v=2),v<3&&i[a].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var I="",V;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=XM(i[a].t.charCodeAt(0),i[a].v,u,S),i[a].t="t";break;case"n":case"?":for(V=a+1;i[V]!=null&&((o=i[V].t)==="?"||o==="D"||(o===" "||o==="t")&&i[V+1]!=null&&(i[V+1].t==="?"||i[V+1].t==="t"&&i[V+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[V].v==="/"||i[V].v===" "&&i[V+1]!=null&&i[V+1].t=="?"));)i[a].v+=i[V].v,i[V]={v:"",t:";"},++V;I+=i[a].v,a=V-1;break;case"G":i[a].t="t",i[a].v=Hp(e,r);break}var z="",X,T;if(I.length>0){I.charCodeAt(0)==40?(X=e<0&&I.charCodeAt(0)===45?-e:e,T=mi("n",I,X)):(X=e<0&&n>1?-e:e,T=mi("n",I,X),X<0&&i[0]&&i[0].t=="t"&&(T=T.substr(1),i[0].v="-"+i[0].v)),V=T.length-1;var w=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){w=a;break}var A=i.length;if(w===i.length&&T.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(V>=i[a].v.length-1?(V-=i[a].v.length,i[a].v=T.substr(V+1,i[a].v.length)):V<0?i[a].v="":(i[a].v=T.substr(0,V+1),V=-1),i[a].t="t",A=a);V>=0&&A<i.length&&(i[A].v=T.substr(0,V+1)+i[A].v)}else if(w!==i.length&&T.indexOf("E")===-1){for(V=T.indexOf(".")-1,a=w;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(h=i[a].v.indexOf(".")>-1&&a===w?i[a].v.indexOf(".")-1:i[a].v.length-1,z=i[a].v.substr(h+1);h>=0;--h)V>=0&&(i[a].v.charAt(h)==="0"||i[a].v.charAt(h)==="#")&&(z=T.charAt(V--)+z);i[a].v=z,i[a].t="t",A=a}for(V>=0&&A<i.length&&(i[A].v=T.substr(0,V+1)+i[A].v),V=T.indexOf(".")+1,a=w;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==w)){for(h=i[a].v.indexOf(".")>-1&&a===w?i[a].v.indexOf(".")+1:0,z=i[a].v.substr(0,h);h<i[a].v.length;++h)V<T.length&&(z+=T.charAt(V++));i[a].v=z,i[a].t="t",A=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(X=n>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=mi(i[a].t,i[a].v,X),i[a].t="t");var k="";for(a=0;a!==i.length;++a)i[a]!=null&&(k+=i[a].v);return k}var Cy=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function ky(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function a5(t,e){var r=i5(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var a=r[0].match(Cy),o=r[1].match(Cy);return ky(e,a)?[n,r[0]]:ky(e,o)?[n,r[1]]:[n,r[a!=null&&o!=null?2:1]]}return[n,s]}function Es(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Tt)[t],n==null&&(n=r.table&&r.table[Sy[t]]||Tt[Sy[t]]),n==null&&(n=jM[t]||"General");break}if(hf(n,0))return Hp(e,r);e instanceof Date&&(e=wS(e,r.date1904));var i=a5(n,e);if(hf(i[1]))return Hp(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return s5(i[1],e,r,i[0])}function DS(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Tt[r]==null){e<0&&(e=r);continue}if(Tt[r]==t){e=r;break}}e<0&&(e=391)}return Tt[e]=t,e}function h0(t){for(var e=0;e!=392;++e)t[e]!==void 0&&DS(t[e],e)}function f0(){Tt=UM()}var OS=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function o5(t){var e=typeof t=="number"?Tt[t]:t;return e=e.replace(OS,"(\\d+)"),new RegExp("^"+e+"$")}function l5(t,e,r){var n=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(OS)||[]).forEach(function(f,d){var m=parseInt(r[d+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":a=m;break;case"s":l=m;break;case"m":a>=0?o=m:i=m;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var h=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?u:n==-1&&i==-1&&s==-1?h:u+"T"+h}var u5=function(){var t={};t.version="1.2.0";function e(){for(var T=0,w=new Array(256),A=0;A!=256;++A)T=A,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,w[A]=T;return typeof Int32Array<"u"?new Int32Array(w):w}var r=e();function n(T){var w=0,A=0,k=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(k=0;k!=256;++k)O[k]=T[k];for(k=0;k!=256;++k)for(A=T[k],w=256+k;w<4096;w+=256)A=O[w]=A>>>8^T[A&255];var b=[];for(k=1;k!=16;++k)b[k-1]=typeof Int32Array<"u"?O.subarray(k*256,k*256+256):O.slice(k*256,k*256+256);return b}var i=n(r),s=i[0],a=i[1],o=i[2],l=i[3],u=i[4],h=i[5],f=i[6],d=i[7],m=i[8],y=i[9],g=i[10],v=i[11],S=i[12],E=i[13],I=i[14];function V(T,w){for(var A=w^-1,k=0,O=T.length;k<O;)A=A>>>8^r[(A^T.charCodeAt(k++))&255];return~A}function z(T,w){for(var A=w^-1,k=T.length-15,O=0;O<k;)A=I[T[O++]^A&255]^E[T[O++]^A>>8&255]^S[T[O++]^A>>16&255]^v[T[O++]^A>>>24]^g[T[O++]]^y[T[O++]]^m[T[O++]]^d[T[O++]]^f[T[O++]]^h[T[O++]]^u[T[O++]]^l[T[O++]]^o[T[O++]]^a[T[O++]]^s[T[O++]]^r[T[O++]];for(k+=15;O<k;)A=A>>>8^r[(A^T[O++])&255];return~A}function X(T,w){for(var A=w^-1,k=0,O=T.length,b=0,N=0;k<O;)b=T.charCodeAt(k++),b<128?A=A>>>8^r[(A^b)&255]:b<2048?(A=A>>>8^r[(A^(192|b>>6&31))&255],A=A>>>8^r[(A^(128|b&63))&255]):b>=55296&&b<57344?(b=(b&1023)+64,N=T.charCodeAt(k++)&1023,A=A>>>8^r[(A^(240|b>>8&7))&255],A=A>>>8^r[(A^(128|b>>2&63))&255],A=A>>>8^r[(A^(128|N>>6&15|(b&3)<<4))&255],A=A>>>8^r[(A^(128|N&63))&255]):(A=A>>>8^r[(A^(224|b>>12&15))&255],A=A>>>8^r[(A^(128|b>>6&63))&255],A=A>>>8^r[(A^(128|b&63))&255]);return~A}return t.table=r,t.bstr=V,t.buf=z,t.str=X,t}(),rt=function(){var e={};e.version="1.2.1";function r(C,F){for(var P=C.split("/"),D=F.split("/"),L=0,M=0,G=Math.min(P.length,D.length);L<G;++L){if(M=P[L].length-D[L].length)return M;if(P[L]!=D[L])return P[L]<D[L]?-1:1}return P.length-D.length}function n(C){if(C.charAt(C.length-1)=="/")return C.slice(0,-1).indexOf("/")===-1?C:n(C.slice(0,-1));var F=C.lastIndexOf("/");return F===-1?C:C.slice(0,F+1)}function i(C){if(C.charAt(C.length-1)=="/")return i(C.slice(0,-1));var F=C.lastIndexOf("/");return F===-1?C:C.slice(F+1)}function s(C,F){typeof F=="string"&&(F=new Date(F));var P=F.getHours();P=P<<6|F.getMinutes(),P=P<<5|F.getSeconds()>>>1,C.write_shift(2,P);var D=F.getFullYear()-1980;D=D<<4|F.getMonth()+1,D=D<<5|F.getDate(),C.write_shift(2,D)}function a(C){var F=C.read_shift(2)&65535,P=C.read_shift(2)&65535,D=new Date,L=P&31;P>>>=5;var M=P&15;P>>>=4,D.setMilliseconds(0),D.setFullYear(P+1980),D.setMonth(M-1),D.setDate(L);var G=F&31;F>>>=5;var J=F&63;return F>>>=6,D.setHours(F),D.setMinutes(J),D.setSeconds(G<<1),D}function o(C){zr(C,0);for(var F={},P=0;C.l<=C.length-4;){var D=C.read_shift(2),L=C.read_shift(2),M=C.l+L,G={};switch(D){case 21589:P=C.read_shift(1),P&1&&(G.mtime=C.read_shift(4)),L>5&&(P&2&&(G.atime=C.read_shift(4)),P&4&&(G.ctime=C.read_shift(4))),G.mtime&&(G.mt=new Date(G.mtime*1e3));break}C.l=M,F[D]=G}return F}var l;function u(){return l||(l={})}function h(C,F){if(C[0]==80&&C[1]==75)return Zo(C,F);if((C[0]|32)==109&&(C[1]|32)==105)return lc(C,F);if(C.length<512)throw new Error("CFB file size "+C.length+" < 512");var P=3,D=512,L=0,M=0,G=0,J=0,K=0,q=[],Y=C.slice(0,512);zr(Y,0);var se=f(Y);switch(P=se[0],P){case 3:D=512;break;case 4:D=4096;break;case 0:if(se[1]==0)return Zo(C,F);default:throw new Error("Major Version: Expected 3 or 4 saw "+P)}D!==512&&(Y=C.slice(0,D),zr(Y,28));var he=C.slice(0,D);d(Y,P);var me=Y.read_shift(4,"i");if(P===3&&me!==0)throw new Error("# Directory Sectors: Expected 0 saw "+me);Y.l+=4,G=Y.read_shift(4,"i"),Y.l+=4,Y.chk("00100000","Mini Stream Cutoff Size: "),J=Y.read_shift(4,"i"),L=Y.read_shift(4,"i"),K=Y.read_shift(4,"i"),M=Y.read_shift(4,"i");for(var oe=-1,pe=0;pe<109&&(oe=Y.read_shift(4,"i"),!(oe<0));++pe)q[pe]=oe;var ke=m(C,D);v(K,M,ke,D,q);var nt=E(ke,G,q,D);nt[G].name="!Directory",L>0&&J!==N&&(nt[J].name="!MiniFAT"),nt[q[0]].name="!FAT",nt.fat_addrs=q,nt.ssz=D;var Xe={},ft=[],Zn=[],Ms=[];I(G,nt,ke,ft,L,Xe,Zn,J),y(Zn,Ms,ft),ft.shift();var Fi={FileIndex:Zn,FullPaths:Ms};return F&&F.raw&&(Fi.raw={header:he,sectors:ke}),Fi}function f(C){if(C[C.l]==80&&C[C.l+1]==75)return[0,0];C.chk(De,"Header Signature: "),C.l+=16;var F=C.read_shift(2,"u");return[C.read_shift(2,"u"),F]}function d(C,F){var P=9;switch(C.l+=2,P=C.read_shift(2)){case 9:if(F!=3)throw new Error("Sector Shift: Expected 9 saw "+P);break;case 12:if(F!=4)throw new Error("Sector Shift: Expected 12 saw "+P);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+P)}C.chk("0600","Mini Sector Shift: "),C.chk("000000000000","Reserved: ")}function m(C,F){for(var P=Math.ceil(C.length/F)-1,D=[],L=1;L<P;++L)D[L-1]=C.slice(L*F,(L+1)*F);return D[P-1]=C.slice(P*F),D}function y(C,F,P){for(var D=0,L=0,M=0,G=0,J=0,K=P.length,q=[],Y=[];D<K;++D)q[D]=Y[D]=D,F[D]=P[D];for(;J<Y.length;++J)D=Y[J],L=C[D].L,M=C[D].R,G=C[D].C,q[D]===D&&(L!==-1&&q[L]!==L&&(q[D]=q[L]),M!==-1&&q[M]!==M&&(q[D]=q[M])),G!==-1&&(q[G]=D),L!==-1&&D!=q[D]&&(q[L]=q[D],Y.lastIndexOf(L)<J&&Y.push(L)),M!==-1&&D!=q[D]&&(q[M]=q[D],Y.lastIndexOf(M)<J&&Y.push(M));for(D=1;D<K;++D)q[D]===D&&(M!==-1&&q[M]!==M?q[D]=q[M]:L!==-1&&q[L]!==L&&(q[D]=q[L]));for(D=1;D<K;++D)if(C[D].type!==0){if(J=D,J!=q[J])do J=q[J],F[D]=F[J]+"/"+F[D];while(J!==0&&q[J]!==-1&&J!=q[J]);q[D]=-1}for(F[0]+="/",D=1;D<K;++D)C[D].type!==2&&(F[D]+="/")}function g(C,F,P){for(var D=C.start,L=C.size,M=[],G=D;P&&L>0&&G>=0;)M.push(F.slice(G*b,G*b+b)),L-=b,G=zs(P,G*4);return M.length===0?Z(0):Qt(M).slice(0,C.size)}function v(C,F,P,D,L){var M=N;if(C===N){if(F!==0)throw new Error("DIFAT chain shorter than expected")}else if(C!==-1){var G=P[C],J=(D>>>2)-1;if(!G)return;for(var K=0;K<J&&(M=zs(G,K*4))!==N;++K)L.push(M);v(zs(G,D-4),F-1,P,D,L)}}function S(C,F,P,D,L){var M=[],G=[];L||(L=[]);var J=D-1,K=0,q=0;for(K=F;K>=0;){L[K]=!0,M[M.length]=K,G.push(C[K]);var Y=P[Math.floor(K*4/D)];if(q=K*4&J,D<4+q)throw new Error("FAT boundary crossed: "+K+" 4 "+D);if(!C[Y])break;K=zs(C[Y],q)}return{nodes:M,data:My([G])}}function E(C,F,P,D){var L=C.length,M=[],G=[],J=[],K=[],q=D-1,Y=0,se=0,he=0,me=0;for(Y=0;Y<L;++Y)if(J=[],he=Y+F,he>=L&&(he-=L),!G[he]){K=[];var oe=[];for(se=he;se>=0;){oe[se]=!0,G[se]=!0,J[J.length]=se,K.push(C[se]);var pe=P[Math.floor(se*4/D)];if(me=se*4&q,D<4+me)throw new Error("FAT boundary crossed: "+se+" 4 "+D);if(!C[pe]||(se=zs(C[pe],me),oe[se]))break}M[he]={nodes:J,data:My([K])}}return M}function I(C,F,P,D,L,M,G,J){for(var K=0,q=D.length?2:0,Y=F[C].data,se=0,he=0,me;se<Y.length;se+=128){var oe=Y.slice(se,se+128);zr(oe,64),he=oe.read_shift(2),me=Vg(oe,0,he-q),D.push(me);var pe={name:me,type:oe.read_shift(1),color:oe.read_shift(1),L:oe.read_shift(4,"i"),R:oe.read_shift(4,"i"),C:oe.read_shift(4,"i"),clsid:oe.read_shift(16),state:oe.read_shift(4,"i"),start:0,size:0},ke=oe.read_shift(2)+oe.read_shift(2)+oe.read_shift(2)+oe.read_shift(2);ke!==0&&(pe.ct=V(oe,oe.l-8));var nt=oe.read_shift(2)+oe.read_shift(2)+oe.read_shift(2)+oe.read_shift(2);nt!==0&&(pe.mt=V(oe,oe.l-8)),pe.start=oe.read_shift(4,"i"),pe.size=oe.read_shift(4,"i"),pe.size<0&&pe.start<0&&(pe.size=pe.type=0,pe.start=N,pe.name=""),pe.type===5?(K=pe.start,L>0&&K!==N&&(F[K].name="!StreamData")):pe.size>=4096?(pe.storage="fat",F[pe.start]===void 0&&(F[pe.start]=S(P,pe.start,F.fat_addrs,F.ssz)),F[pe.start].name=pe.name,pe.content=F[pe.start].data.slice(0,pe.size)):(pe.storage="minifat",pe.size<0?pe.size=0:K!==N&&pe.start!==N&&F[K]&&(pe.content=g(pe,F[K].data,(F[J]||{}).data))),pe.content&&zr(pe.content,0),M[me]=pe,G.push(pe)}}function V(C,F){return new Date((Hr(C,F+4)/1e7*Math.pow(2,32)+Hr(C,F)/1e7-11644473600)*1e3)}function z(C,F){return u(),h(l.readFileSync(C),F)}function X(C,F){var P=F&&F.type;switch(P||Ke&&Buffer.isBuffer(C)&&(P="buffer"),P||"base64"){case"file":return z(C,F);case"base64":return h(Tn(Ci(C)),F);case"binary":return h(Tn(C),F)}return h(C,F)}function T(C,F){var P=F||{},D=P.root||"Root Entry";if(C.FullPaths||(C.FullPaths=[]),C.FileIndex||(C.FileIndex=[]),C.FullPaths.length!==C.FileIndex.length)throw new Error("inconsistent CFB structure");C.FullPaths.length===0&&(C.FullPaths[0]=D+"/",C.FileIndex[0]={name:D,type:5}),P.CLSID&&(C.FileIndex[0].clsid=P.CLSID),w(C)}function w(C){var F="Sh33tJ5";if(!rt.find(C,"/"+F)){var P=Z(4);P[0]=55,P[1]=P[3]=50,P[2]=54,C.FileIndex.push({name:F,type:2,content:P,size:4,L:69,R:69,C:69}),C.FullPaths.push(C.FullPaths[0]+F),A(C)}}function A(C,F){T(C);for(var P=!1,D=!1,L=C.FullPaths.length-1;L>=0;--L){var M=C.FileIndex[L];switch(M.type){case 0:D?P=!0:(C.FileIndex.pop(),C.FullPaths.pop());break;case 1:case 2:case 5:D=!0,isNaN(M.R*M.L*M.C)&&(P=!0),M.R>-1&&M.L>-1&&M.R==M.L&&(P=!0);break;default:P=!0;break}}if(!(!P&&!F)){var G=new Date(1987,1,19),J=0,K=Object.create?Object.create(null):{},q=[];for(L=0;L<C.FullPaths.length;++L)K[C.FullPaths[L]]=!0,C.FileIndex[L].type!==0&&q.push([C.FullPaths[L],C.FileIndex[L]]);for(L=0;L<q.length;++L){var Y=n(q[L][0]);D=K[Y],D||(q.push([Y,{name:i(Y).replace("/",""),type:1,clsid:mt,ct:G,mt:G,content:null}]),K[Y]=!0)}for(q.sort(function(me,oe){return r(me[0],oe[0])}),C.FullPaths=[],C.FileIndex=[],L=0;L<q.length;++L)C.FullPaths[L]=q[L][0],C.FileIndex[L]=q[L][1];for(L=0;L<q.length;++L){var se=C.FileIndex[L],he=C.FullPaths[L];if(se.name=i(he).replace("/",""),se.L=se.R=se.C=-(se.color=1),se.size=se.content?se.content.length:0,se.start=0,se.clsid=se.clsid||mt,L===0)se.C=q.length>1?1:-1,se.size=0,se.type=5;else if(he.slice(-1)=="/"){for(J=L+1;J<q.length&&n(C.FullPaths[J])!=he;++J);for(se.C=J>=q.length?-1:J,J=L+1;J<q.length&&n(C.FullPaths[J])!=n(he);++J);se.R=J>=q.length?-1:J,se.type=1}else n(C.FullPaths[L+1]||"")==n(he)&&(se.R=L+1),se.type=2}}}function k(C,F){var P=F||{};if(P.fileType=="mad")return Ht(C,P);switch(A(C),P.fileType){case"zip":return el(C,P)}var D=function(me){for(var oe=0,pe=0,ke=0;ke<me.FileIndex.length;++ke){var nt=me.FileIndex[ke];if(nt.content){var Xe=nt.content.length;Xe>0&&(Xe<4096?oe+=Xe+63>>6:pe+=Xe+511>>9)}}for(var ft=me.FullPaths.length+3>>2,Zn=oe+7>>3,Ms=oe+127>>7,Fi=Zn+pe+ft+Ms,Dn=Fi+127>>7,Na=Dn<=109?0:Math.ceil((Dn-109)/127);Fi+Dn+Na+127>>7>Dn;)Na=++Dn<=109?0:Math.ceil((Dn-109)/127);var Br=[1,Na,Dn,Ms,ft,pe,oe,0];return me.FileIndex[0].size=oe<<6,Br[7]=(me.FileIndex[0].start=Br[0]+Br[1]+Br[2]+Br[3]+Br[4]+Br[5])+(Br[6]+7>>3),Br}(C),L=Z(D[7]<<9),M=0,G=0;{for(M=0;M<8;++M)L.write_shift(1,Ie[M]);for(M=0;M<8;++M)L.write_shift(2,0);for(L.write_shift(2,62),L.write_shift(2,3),L.write_shift(2,65534),L.write_shift(2,9),L.write_shift(2,6),M=0;M<3;++M)L.write_shift(2,0);for(L.write_shift(4,0),L.write_shift(4,D[2]),L.write_shift(4,D[0]+D[1]+D[2]+D[3]-1),L.write_shift(4,0),L.write_shift(4,4096),L.write_shift(4,D[3]?D[0]+D[1]+D[2]-1:N),L.write_shift(4,D[3]),L.write_shift(-4,D[1]?D[0]-1:N),L.write_shift(4,D[1]),M=0;M<109;++M)L.write_shift(-4,M<D[2]?D[1]+M:-1)}if(D[1])for(G=0;G<D[1];++G){for(;M<236+G*127;++M)L.write_shift(-4,M<D[2]?D[1]+M:-1);L.write_shift(-4,G===D[1]-1?N:G+1)}var J=function(me){for(G+=me;M<G-1;++M)L.write_shift(-4,M+1);me&&(++M,L.write_shift(-4,N))};for(G=M=0,G+=D[1];M<G;++M)L.write_shift(-4,Ge.DIFSECT);for(G+=D[2];M<G;++M)L.write_shift(-4,Ge.FATSECT);J(D[3]),J(D[4]);for(var K=0,q=0,Y=C.FileIndex[0];K<C.FileIndex.length;++K)Y=C.FileIndex[K],Y.content&&(q=Y.content.length,!(q<4096)&&(Y.start=G,J(q+511>>9)));for(J(D[6]+7>>3);L.l&511;)L.write_shift(-4,Ge.ENDOFCHAIN);for(G=M=0,K=0;K<C.FileIndex.length;++K)Y=C.FileIndex[K],Y.content&&(q=Y.content.length,!(!q||q>=4096)&&(Y.start=G,J(q+63>>6)));for(;L.l&511;)L.write_shift(-4,Ge.ENDOFCHAIN);for(M=0;M<D[4]<<2;++M){var se=C.FullPaths[M];if(!se||se.length===0){for(K=0;K<17;++K)L.write_shift(4,0);for(K=0;K<3;++K)L.write_shift(4,-1);for(K=0;K<12;++K)L.write_shift(4,0);continue}Y=C.FileIndex[M],M===0&&(Y.start=Y.size?Y.start-1:N);var he=M===0&&P.root||Y.name;if(q=2*(he.length+1),L.write_shift(64,he,"utf16le"),L.write_shift(2,q),L.write_shift(1,Y.type),L.write_shift(1,Y.color),L.write_shift(-4,Y.L),L.write_shift(-4,Y.R),L.write_shift(-4,Y.C),Y.clsid)L.write_shift(16,Y.clsid,"hex");else for(K=0;K<4;++K)L.write_shift(4,0);L.write_shift(4,Y.state||0),L.write_shift(4,0),L.write_shift(4,0),L.write_shift(4,0),L.write_shift(4,0),L.write_shift(4,Y.start),L.write_shift(4,Y.size),L.write_shift(4,0)}for(M=1;M<C.FileIndex.length;++M)if(Y=C.FileIndex[M],Y.size>=4096)if(L.l=Y.start+1<<9,Ke&&Buffer.isBuffer(Y.content))Y.content.copy(L,L.l,0,Y.size),L.l+=Y.size+511&-512;else{for(K=0;K<Y.size;++K)L.write_shift(1,Y.content[K]);for(;K&511;++K)L.write_shift(1,0)}for(M=1;M<C.FileIndex.length;++M)if(Y=C.FileIndex[M],Y.size>0&&Y.size<4096)if(Ke&&Buffer.isBuffer(Y.content))Y.content.copy(L,L.l,0,Y.size),L.l+=Y.size+63&-64;else{for(K=0;K<Y.size;++K)L.write_shift(1,Y.content[K]);for(;K&63;++K)L.write_shift(1,0)}if(Ke)L.l=L.length;else for(;L.l<L.length;)L.write_shift(1,0);return L}function O(C,F){var P=C.FullPaths.map(function(K){return K.toUpperCase()}),D=P.map(function(K){var q=K.split("/");return q[q.length-(K.slice(-1)=="/"?2:1)]}),L=!1;F.charCodeAt(0)===47?(L=!0,F=P[0].slice(0,-1)+F):L=F.indexOf("/")!==-1;var M=F.toUpperCase(),G=L===!0?P.indexOf(M):D.indexOf(M);if(G!==-1)return C.FileIndex[G];var J=!M.match(Hc);for(M=M.replace(Hl,""),J&&(M=M.replace(Hc,"!")),G=0;G<P.length;++G)if((J?P[G].replace(Hc,"!"):P[G]).replace(Hl,"")==M||(J?D[G].replace(Hc,"!"):D[G]).replace(Hl,"")==M)return C.FileIndex[G];return null}var b=64,N=-2,De="d0cf11e0a1b11ae1",Ie=[208,207,17,224,161,177,26,225],mt="00000000000000000000000000000000",Ge={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:N,FREESECT:-1,HEADER_SIGNATURE:De,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:mt,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ce(C,F,P){u();var D=k(C,P);l.writeFileSync(F,D)}function ye(C){for(var F=new Array(C.length),P=0;P<C.length;++P)F[P]=String.fromCharCode(C[P]);return F.join("")}function Se(C,F){var P=k(C,F);switch(F&&F.type||"buffer"){case"file":return u(),l.writeFileSync(F.filename,P),P;case"binary":return typeof P=="string"?P:ye(P);case"base64":return Cu(typeof P=="string"?P:ye(P));case"buffer":if(Ke)return Buffer.isBuffer(P)?P:Ni(P);case"array":return typeof P=="string"?Tn(P):P}return P}var Fe;function B(C){try{var F=C.InflateRaw,P=new F;if(P._processChunk(new Uint8Array([3,0]),P._finishFlushFlag),P.bytesRead)Fe=C;else throw new Error("zlib does not expose bytesRead")}catch(D){console.error("cannot use native zlib: "+(D.message||D))}}function H(C,F){if(!Fe)return Ra(C,F);var P=Fe.InflateRaw,D=new P,L=D._processChunk(C.slice(C.l),D._finishFlushFlag);return C.l+=D.bytesRead,L}function j(C){return Fe?Fe.deflateRawSync(C):Xo(C)}var U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ge=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function we(C){var F=(C<<1|C<<11)&139536|(C<<5|C<<15)&558144;return(F>>16|F>>8|F)&255}for(var xe=typeof Uint8Array<"u",de=xe?new Uint8Array(256):[],$e=0;$e<256;++$e)de[$e]=we($e);function Le(C,F){var P=de[C&255];return F<=8?P>>>8-F:(P=P<<8|de[C>>8&255],F<=16?P>>>16-F:(P=P<<8|de[C>>16&255],P>>>24-F))}function Ot(C,F){var P=F&7,D=F>>>3;return(C[D]|(P<=6?0:C[D+1]<<8))>>>P&3}function Be(C,F){var P=F&7,D=F>>>3;return(C[D]|(P<=5?0:C[D+1]<<8))>>>P&7}function Vr(C,F){var P=F&7,D=F>>>3;return(C[D]|(P<=4?0:C[D+1]<<8))>>>P&15}function ot(C,F){var P=F&7,D=F>>>3;return(C[D]|(P<=3?0:C[D+1]<<8))>>>P&31}function _e(C,F){var P=F&7,D=F>>>3;return(C[D]|(P<=1?0:C[D+1]<<8))>>>P&127}function Cr(C,F,P){var D=F&7,L=F>>>3,M=(1<<P)-1,G=C[L]>>>D;return P<8-D||(G|=C[L+1]<<8-D,P<16-D)||(G|=C[L+2]<<16-D,P<24-D)||(G|=C[L+3]<<24-D),G&M}function en(C,F,P){var D=F&7,L=F>>>3;return D<=5?C[L]|=(P&7)<<D:(C[L]|=P<<D&255,C[L+1]=(P&7)>>8-D),F+3}function pn(C,F,P){var D=F&7,L=F>>>3;return P=(P&1)<<D,C[L]|=P,F+1}function Yn(C,F,P){var D=F&7,L=F>>>3;return P<<=D,C[L]|=P&255,P>>>=8,C[L+1]=P,F+8}function nc(C,F,P){var D=F&7,L=F>>>3;return P<<=D,C[L]|=P&255,P>>>=8,C[L+1]=P&255,C[L+2]=P>>>8,F+16}function Ns(C,F){var P=C.length,D=2*P>F?2*P:F+5,L=0;if(P>=F)return C;if(Ke){var M=Ey(D);if(C.copy)C.copy(M);else for(;L<C.length;++L)M[L]=C[L];return M}else if(xe){var G=new Uint8Array(D);if(G.set)G.set(C);else for(;L<P;++L)G[L]=C[L];return G}return C.length=D,C}function kr(C){for(var F=new Array(C),P=0;P<C;++P)F[P]=0;return F}function Ds(C,F,P){var D=1,L=0,M=0,G=0,J=0,K=C.length,q=xe?new Uint16Array(32):kr(32);for(M=0;M<32;++M)q[M]=0;for(M=K;M<P;++M)C[M]=0;K=C.length;var Y=xe?new Uint16Array(K):kr(K);for(M=0;M<K;++M)q[L=C[M]]++,D<L&&(D=L),Y[M]=0;for(q[0]=0,M=1;M<=D;++M)q[M+16]=J=J+q[M-1]<<1;for(M=0;M<K;++M)J=C[M],J!=0&&(Y[M]=q[J+16]++);var se=0;for(M=0;M<K;++M)if(se=C[M],se!=0)for(J=Le(Y[M],D)>>D-se,G=(1<<D+4-se)-1;G>=0;--G)F[J|G<<se]=se&15|M<<4;return D}var It=xe?new Uint16Array(512):kr(512),Ft=xe?new Uint16Array(32):kr(32);if(!xe){for(var tn=0;tn<512;++tn)It[tn]=0;for(tn=0;tn<32;++tn)Ft[tn]=0}(function(){for(var C=[],F=0;F<32;F++)C.push(5);Ds(C,Ft,32);var P=[];for(F=0;F<=143;F++)P.push(8);for(;F<=255;F++)P.push(9);for(;F<=279;F++)P.push(7);for(;F<=287;F++)P.push(8);Ds(P,It,288)})();var ic=function(){for(var F=xe?new Uint8Array(32768):[],P=0,D=0;P<ge.length-1;++P)for(;D<ge[P+1];++D)F[D]=P;for(;D<32768;++D)F[D]=29;var L=xe?new Uint8Array(259):[];for(P=0,D=0;P<te.length-1;++P)for(;D<te[P+1];++D)L[D]=P;function M(J,K){for(var q=0;q<J.length;){var Y=Math.min(65535,J.length-q),se=q+Y==J.length;for(K.write_shift(1,+se),K.write_shift(2,Y),K.write_shift(2,~Y&65535);Y-- >0;)K[K.l++]=J[q++]}return K.l}function G(J,K){for(var q=0,Y=0,se=xe?new Uint16Array(32768):[];Y<J.length;){var he=Math.min(65535,J.length-Y);if(he<10){for(q=en(K,q,+(Y+he==J.length)),q&7&&(q+=8-(q&7)),K.l=q/8|0,K.write_shift(2,he),K.write_shift(2,~he&65535);he-- >0;)K[K.l++]=J[Y++];q=K.l*8;continue}q=en(K,q,+(Y+he==J.length)+2);for(var me=0;he-- >0;){var oe=J[Y];me=(me<<5^oe)&32767;var pe=-1,ke=0;if((pe=se[me])&&(pe|=Y&-32768,pe>Y&&(pe-=32768),pe<Y))for(;J[pe+ke]==J[Y+ke]&&ke<250;)++ke;if(ke>2){oe=L[ke],oe<=22?q=Yn(K,q,de[oe+1]>>1)-1:(Yn(K,q,3),q+=5,Yn(K,q,de[oe-23]>>5),q+=3);var nt=oe<8?0:oe-4>>2;nt>0&&(nc(K,q,ke-te[oe]),q+=nt),oe=F[Y-pe],q=Yn(K,q,de[oe]>>3),q-=3;var Xe=oe<4?0:oe-2>>1;Xe>0&&(nc(K,q,Y-pe-ge[oe]),q+=Xe);for(var ft=0;ft<ke;++ft)se[me]=Y&32767,me=(me<<5^J[Y])&32767,++Y;he-=ke-1}else oe<=143?oe=oe+48:q=pn(K,q,1),q=Yn(K,q,de[oe]),se[me]=Y&32767,++Y}q=Yn(K,q,0)-1}return K.l=(q+7)/8|0,K.l}return function(K,q){return K.length<8?M(K,q):G(K,q)}}();function Xo(C){var F=Z(50+Math.floor(C.length*1.1)),P=ic(C,F);return F.slice(0,P)}var sc=xe?new Uint16Array(32768):kr(32768),Di=xe?new Uint16Array(32768):kr(32768),Yo=xe?new Uint16Array(128):kr(128),Qo=1,ka=1;function _0(C,F){var P=ot(C,F)+257;F+=5;var D=ot(C,F)+1;F+=5;var L=Vr(C,F)+4;F+=4;for(var M=0,G=xe?new Uint8Array(19):kr(19),J=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],K=1,q=xe?new Uint8Array(8):kr(8),Y=xe?new Uint8Array(8):kr(8),se=G.length,he=0;he<L;++he)G[U[he]]=M=Be(C,F),K<M&&(K=M),q[M]++,F+=3;var me=0;for(q[0]=0,he=1;he<=K;++he)Y[he]=me=me+q[he-1]<<1;for(he=0;he<se;++he)(me=G[he])!=0&&(J[he]=Y[me]++);var oe=0;for(he=0;he<se;++he)if(oe=G[he],oe!=0){me=de[J[he]]>>8-oe;for(var pe=(1<<7-oe)-1;pe>=0;--pe)Yo[me|pe<<oe]=oe&7|he<<3}var ke=[];for(K=1;ke.length<P+D;)switch(me=Yo[_e(C,F)],F+=me&7,me>>>=3){case 16:for(M=3+Ot(C,F),F+=2,me=ke[ke.length-1];M-- >0;)ke.push(me);break;case 17:for(M=3+Be(C,F),F+=3;M-- >0;)ke.push(0);break;case 18:for(M=11+_e(C,F),F+=7;M-- >0;)ke.push(0);break;default:ke.push(me),K<me&&(K=me);break}var nt=ke.slice(0,P),Xe=ke.slice(P);for(he=P;he<286;++he)nt[he]=0;for(he=D;he<30;++he)Xe[he]=0;return Qo=Ds(nt,sc,286),ka=Ds(Xe,Di,30),F}function y0(C,F){if(C[0]==3&&!(C[1]&3))return[fa(F),2];for(var P=0,D=0,L=Ey(F||1<<18),M=0,G=L.length>>>0,J=0,K=0;!(D&1);){if(D=Be(C,P),P+=3,D>>>1)D>>1==1?(J=9,K=5):(P=_0(C,P),J=Qo,K=ka);else{P&7&&(P+=8-(P&7));var q=C[P>>>3]|C[(P>>>3)+1]<<8;if(P+=32,q>0)for(!F&&G<M+q&&(L=Ns(L,M+q),G=L.length);q-- >0;)L[M++]=C[P>>>3],P+=8;continue}for(;;){!F&&G<M+32767&&(L=Ns(L,M+32767),G=L.length);var Y=Cr(C,P,J),se=D>>>1==1?It[Y]:sc[Y];if(P+=se&15,se>>>=4,!(se>>>8&255))L[M++]=se;else{if(se==256)break;se-=257;var he=se<8?0:se-4>>2;he>5&&(he=0);var me=M+te[se];he>0&&(me+=Cr(C,P,he),P+=he),Y=Cr(C,P,K),se=D>>>1==1?Ft[Y]:Di[Y],P+=se&15,se>>>=4;var oe=se<4?0:se-2>>1,pe=ge[se];for(oe>0&&(pe+=Cr(C,P,oe),P+=oe),!F&&G<me&&(L=Ns(L,me+100),G=L.length);M<me;)L[M]=L[M-pe],++M}}}return F?[L,P+7>>>3]:[L.slice(0,M),P+7>>>3]}function Ra(C,F){var P=C.slice(C.l||0),D=y0(P,F);return C.l+=D[1],D[0]}function Jo(C,F){if(C)typeof console<"u"&&console.error(F);else throw new Error(F)}function Zo(C,F){var P=C;zr(P,0);var D=[],L=[],M={FileIndex:D,FullPaths:L};T(M,{root:F.root});for(var G=P.length-4;(P[G]!=80||P[G+1]!=75||P[G+2]!=5||P[G+3]!=6)&&G>=0;)--G;P.l=G+4,P.l+=4;var J=P.read_shift(2);P.l+=6;var K=P.read_shift(4);for(P.l=K,G=0;G<J;++G){P.l+=20;var q=P.read_shift(4),Y=P.read_shift(4),se=P.read_shift(2),he=P.read_shift(2),me=P.read_shift(2);P.l+=8;var oe=P.read_shift(4),pe=o(P.slice(P.l+se,P.l+se+he));P.l+=se+he+me;var ke=P.l;P.l=oe+4,Os(P,q,Y,M,pe),P.l=ke}return M}function Os(C,F,P,D,L){C.l+=2;var M=C.read_shift(2),G=C.read_shift(2),J=a(C);if(M&8257)throw new Error("Unsupported ZIP encryption");for(var K=C.read_shift(4),q=C.read_shift(4),Y=C.read_shift(4),se=C.read_shift(2),he=C.read_shift(2),me="",oe=0;oe<se;++oe)me+=String.fromCharCode(C[C.l++]);if(he){var pe=o(C.slice(C.l,C.l+he));(pe[21589]||{}).mt&&(J=pe[21589].mt),((L||{})[21589]||{}).mt&&(J=L[21589].mt)}C.l+=he;var ke=C.slice(C.l,C.l+q);switch(G){case 8:ke=H(C,Y);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+G)}var nt=!1;M&8&&(K=C.read_shift(4),K==134695760&&(K=C.read_shift(4),nt=!0),q=C.read_shift(4),Y=C.read_shift(4)),q!=F&&Jo(nt,"Bad compressed size: "+F+" != "+q),Y!=P&&Jo(nt,"Bad uncompressed size: "+P+" != "+Y),Jn(D,me,ke,{unsafe:!0,mt:J})}function el(C,F){var P=F||{},D=[],L=[],M=Z(1),G=P.compression?8:0,J=0,K=0,q=0,Y=0,se=0,he=C.FullPaths[0],me=he,oe=C.FileIndex[0],pe=[],ke=0;for(K=1;K<C.FullPaths.length;++K)if(me=C.FullPaths[K].slice(he.length),oe=C.FileIndex[K],!(!oe.size||!oe.content||me=="Sh33tJ5")){var nt=Y,Xe=Z(me.length);for(q=0;q<me.length;++q)Xe.write_shift(1,me.charCodeAt(q)&127);Xe=Xe.slice(0,Xe.l),pe[se]=u5.buf(oe.content,0);var ft=oe.content;G==8&&(ft=j(ft)),M=Z(30),M.write_shift(4,67324752),M.write_shift(2,20),M.write_shift(2,J),M.write_shift(2,G),oe.mt?s(M,oe.mt):M.write_shift(4,0),M.write_shift(-4,pe[se]),M.write_shift(4,ft.length),M.write_shift(4,oe.content.length),M.write_shift(2,Xe.length),M.write_shift(2,0),Y+=M.length,D.push(M),Y+=Xe.length,D.push(Xe),Y+=ft.length,D.push(ft),M=Z(46),M.write_shift(4,33639248),M.write_shift(2,0),M.write_shift(2,20),M.write_shift(2,J),M.write_shift(2,G),M.write_shift(4,0),M.write_shift(-4,pe[se]),M.write_shift(4,ft.length),M.write_shift(4,oe.content.length),M.write_shift(2,Xe.length),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(4,0),M.write_shift(4,nt),ke+=M.l,L.push(M),ke+=Xe.length,L.push(Xe),++se}return M=Z(22),M.write_shift(4,101010256),M.write_shift(2,0),M.write_shift(2,0),M.write_shift(2,se),M.write_shift(2,se),M.write_shift(4,ke),M.write_shift(4,Y),M.write_shift(2,0),Qt([Qt(D),Qt(L),M])}var Oi={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Qn(C,F){if(C.ctype)return C.ctype;var P=C.name||"",D=P.match(/\.([^\.]+)$/);return D&&Oi[D[1]]||F&&(D=(P=F).match(/[\.\\]([^\.\\])+$/),D&&Oi[D[1]])?Oi[D[1]]:"application/octet-stream"}function ac(C){for(var F=Cu(C),P=[],D=0;D<F.length;D+=76)P.push(F.slice(D,D+76));return P.join(`\r
`)+`\r
`}function Pa(C){var F=C.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(q){var Y=q.charCodeAt(0).toString(16).toUpperCase();return"="+(Y.length==1?"0"+Y:Y)});F=F.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),F.charAt(0)==`
`&&(F="=0D"+F.slice(1)),F=F.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var P=[],D=F.split(`\r
`),L=0;L<D.length;++L){var M=D[L];if(M.length==0){P.push("");continue}for(var G=0;G<M.length;){var J=76,K=M.slice(G,G+J);K.charAt(J-1)=="="?J--:K.charAt(J-2)=="="?J-=2:K.charAt(J-3)=="="&&(J-=3),K=M.slice(G,G+J),G+=J,G<M.length&&(K+="="),P.push(K)}}return P.join(`\r
`)}function oc(C){for(var F=[],P=0;P<C.length;++P){for(var D=C[P];P<=C.length&&D.charAt(D.length-1)=="=";)D=D.slice(0,D.length-1)+C[++P];F.push(D)}for(var L=0;L<F.length;++L)F[L]=F[L].replace(/[=][0-9A-Fa-f]{2}/g,function(M){return String.fromCharCode(parseInt(M.slice(1),16))});return Tn(F.join(`\r
`))}function Fs(C,F,P){for(var D="",L="",M="",G,J=0;J<10;++J){var K=F[J];if(!K||K.match(/^\s*$/))break;var q=K.match(/^(.*?):\s*([^\s].*)$/);if(q)switch(q[1].toLowerCase()){case"content-location":D=q[2].trim();break;case"content-type":M=q[2].trim();break;case"content-transfer-encoding":L=q[2].trim();break}}switch(++J,L.toLowerCase()){case"base64":G=Tn(Ci(F.slice(J).join("")));break;case"quoted-printable":G=oc(F.slice(J));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+L)}var Y=Jn(C,D.slice(P.length),G,{unsafe:!0});M&&(Y.ctype=M)}function lc(C,F){if(ye(C.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var P=F&&F.root||"",D=(Ke&&Buffer.isBuffer(C)?C.toString("binary"):ye(C)).split(`\r
`),L=0,M="";for(L=0;L<D.length;++L)if(M=D[L],!!/^Content-Location:/i.test(M)&&(M=M.slice(M.indexOf("file")),P||(P=M.slice(0,M.lastIndexOf("/")+1)),M.slice(0,P.length)!=P))for(;P.length>0&&(P=P.slice(0,P.length-1),P=P.slice(0,P.lastIndexOf("/")+1),M.slice(0,P.length)!=P););var G=(D[1]||"").match(/boundary="(.*?)"/);if(!G)throw new Error("MAD cannot find boundary");var J="--"+(G[1]||""),K=[],q=[],Y={FileIndex:K,FullPaths:q};T(Y);var se,he=0;for(L=0;L<D.length;++L){var me=D[L];me!==J&&me!==J+"--"||(he++&&Fs(Y,D.slice(se,L),P),se=L)}return Y}function Ht(C,F){var P=F||{},D=P.boundary||"SheetJS";D="------="+D;for(var L=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+D.slice(2)+'"',"","",""],M=C.FullPaths[0],G=M,J=C.FileIndex[0],K=1;K<C.FullPaths.length;++K)if(G=C.FullPaths[K].slice(M.length),J=C.FileIndex[K],!(!J.size||!J.content||G=="Sh33tJ5")){G=G.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ke){return"_x"+ke.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ke){return"_u"+ke.charCodeAt(0).toString(16)+"_"});for(var q=J.content,Y=Ke&&Buffer.isBuffer(q)?q.toString("binary"):ye(q),se=0,he=Math.min(1024,Y.length),me=0,oe=0;oe<=he;++oe)(me=Y.charCodeAt(oe))>=32&&me<128&&++se;var pe=se>=he*4/5;L.push(D),L.push("Content-Location: "+(P.root||"file:///C:/SheetJS/")+G),L.push("Content-Transfer-Encoding: "+(pe?"quoted-printable":"base64")),L.push("Content-Type: "+Qn(J,G)),L.push(""),L.push(pe?Pa(Y):ac(Y))}return L.push(D+`--\r
`),L.join(`\r
`)}function uc(C){var F={};return T(F,C),F}function Jn(C,F,P,D){var L=D&&D.unsafe;L||T(C);var M=!L&&rt.find(C,F);if(!M){var G=C.FullPaths[0];F.slice(0,G.length)==G?G=F:(G.slice(-1)!="/"&&(G+="/"),G=(G+F).replace("//","/")),M={name:i(F),type:2},C.FileIndex.push(M),C.FullPaths.push(G),L||rt.utils.cfb_gc(C)}return M.content=P,M.size=P?P.length:0,D&&(D.CLSID&&(M.clsid=D.CLSID),D.mt&&(M.mt=D.mt),D.ct&&(M.ct=D.ct)),M}function Ls(C,F){T(C);var P=rt.find(C,F);if(P){for(var D=0;D<C.FileIndex.length;++D)if(C.FileIndex[D]==P)return C.FileIndex.splice(D,1),C.FullPaths.splice(D,1),!0}return!1}function x0(C,F,P){T(C);var D=rt.find(C,F);if(D){for(var L=0;L<C.FileIndex.length;++L)if(C.FileIndex[L]==D)return C.FileIndex[L].name=i(P),C.FullPaths[L]=P,!0}return!1}function E0(C){A(C,!0)}return e.find=O,e.read=X,e.parse=h,e.write=Se,e.writeFile=ce,e.utils={cfb_new:uc,cfb_add:Jn,cfb_del:Ls,cfb_mov:x0,cfb_gc:E0,ReadShift:Kl,CheckField:QS,prep_blob:zr,bconcat:Qt,use_zlib:B,_deflateRaw:Xo,_inflateRaw:Ra,consts:Ge},e}();function c5(t){return typeof t=="string"?c0(t):Array.isArray(t)?MM(t):t}function Ju(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=c0(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?Ru(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([c5(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=Qu(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function ir(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function Ry(t,e){for(var r=[],n=ir(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function Fg(t){for(var e=[],r=ir(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function d0(t){for(var e=[],r=ir(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function h5(t){for(var e=[],r=ir(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var df=new Date(1899,11,30,0,0,0);function Mr(t,e){var r=t.getTime(),n=df.getTime()+(t.getTimezoneOffset()-df.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var FS=new Date,f5=df.getTime()+(FS.getTimezoneOffset()-df.getTimezoneOffset())*6e4,Py=FS.getTimezoneOffset();function LS(t){var e=new Date;return e.setTime(t*24*60*60*1e3+f5),e.getTimezoneOffset()!==Py&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Py)*6e4),e}var Ny=new Date("2017-02-19T19:06:09.000Z"),MS=isNaN(Ny.getFullYear())?new Date("2/19/17"):Ny,d5=MS.getFullYear()==2017;function Sr(t,e){var r=new Date(t);if(d5)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(MS.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function p0(t,e){if(Ke&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function br(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=br(t[r]));return e}function wt(t,e){for(var r="";r.length<e;)r+=t;return r}function gi(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var p5=["january","february","march","april","may","june","july","august","september","october","november","december"];function ku(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&p5.indexOf(a)==-1)return r}else if(a.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function Oe(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return Ke?n=Ni(r):n=bM(r),rt.utils.cfb_add(t,e,n)}rt.utils.cfb_add(t,e,r)}else t.file(e,r)}function Lg(){return rt.utils.cfb_new()}var Dt=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,m5={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Mg=Fg(m5),bg=/[&<>'"]/g,g5=/[\u0000-\u0008\u000b-\u001f]/g;function Je(t){var e=t+"";return e.replace(bg,function(r){return Mg[r]}).replace(g5,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Dy(t){return Je(t).replace(/ /g,"_x0020_")}var bS=/[\u0000-\u001f]/g;function v5(t){var e=t+"";return e.replace(bg,function(r){return Mg[r]}).replace(/\n/g,"<br/>").replace(bS,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function _5(t){var e=t+"";return e.replace(bg,function(r){return Mg[r]}).replace(bS,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function y5(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function x5(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function gd(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){a=(n&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function Oy(t){var e=fa(2*t.length),r,n,i=1,s=0,a=0,o;for(n=0;n<t.length;n+=i)i=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,a=55296+(r>>>10&1023),r=56320+(r&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function Fy(t){return Ni(t,"binary").toString("utf8")}var Kc="foo bar baz",Gl=Ke&&(Fy(Kc)==gd(Kc)&&Fy||Oy(Kc)==gd(Kc)&&Oy)||gd,Ru=Ke?function(t){return Ni(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},E5=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}}(),VS=/(^\s|\s$|\n)/;function Jt(t,e){return"<"+t+(e.match(VS)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Pu(t){return ir(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function le(t,e,r){return"<"+t+(r!=null?Pu(r):"")+(e!=null?(e.match(VS)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function Gp(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function w5(t,e){switch(typeof t){case"string":var r=le("vt:lpwstr",Je(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return le((t|0)==t?"vt:i4":"vt:r8",Je(String(t)));case"boolean":return le("vt:bool",t?"true":"false")}if(t instanceof Date)return le("vt:filetime",Gp(t));throw new Error("Unable to serialize "+t)}var jt={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Ho=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Wr={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function T5(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function S5(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=n?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[r+o]=s&255;t[r+6]=(i&15)<<4|s&15,t[r+7]=i>>4|n}var Ly=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,s=t[0][n].length;i<s;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},My=Ke?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Ni(e)})):Ly(t)}:Ly,by=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(kl(t,i)));return n.join("").replace(Hl,"")},Vg=Ke?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Hl,""):by(t,e,r)}:by,Vy=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},BS=Ke?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):Vy(t,e,r)}:Vy,By=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode($a(t,i)));return n.join("")},Zu=Ke?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):By(e,r,n)}:By,US=function(t,e){var r=Hr(t,e);return r>0?Zu(t,e+4,e+4+r-1):""},jS=US,$S=function(t,e){var r=Hr(t,e);return r>0?Zu(t,e+4,e+4+r-1):""},zS=$S,WS=function(t,e){var r=2*Hr(t,e);return r>0?Zu(t,e+4,e+4+r-1):""},HS=WS,GS=function(e,r){var n=Hr(e,r);return n>0?Vg(e,r+4,r+4+n):""},KS=GS,qS=function(t,e){var r=Hr(t,e);return r>0?Zu(t,e+4,e+4+r):""},XS=qS,YS=function(t,e){return T5(t,e)},pf=YS,Bg=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Ke&&(jS=function(e,r){if(!Buffer.isBuffer(e))return US(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},zS=function(e,r){if(!Buffer.isBuffer(e))return $S(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},HS=function(e,r){if(!Buffer.isBuffer(e))return WS(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},KS=function(e,r){if(!Buffer.isBuffer(e))return GS(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},XS=function(e,r){if(!Buffer.isBuffer(e))return qS(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},pf=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):YS(e,r)},Bg=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var $a=function(t,e){return t[e]},kl=function(t,e){return t[e+1]*256+t[e]},A5=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Hr=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},zs=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},I5=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Kl(t,e){var r="",n,i,s=[],a,o,l,u;switch(e){case"dbcs":if(u=this.l,Ke&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(kl(this,u)),u+=2;t*=2;break;case"utf8":r=Zu(this,this.l,this.l+t);break;case"utf16le":t*=2,r=Vg(this,this.l,this.l+t);break;case"wstr":return Kl.call(this,t,"dbcs");case"lpstr-ansi":r=jS(this,this.l),t=4+Hr(this,this.l);break;case"lpstr-cp":r=zS(this,this.l),t=4+Hr(this,this.l);break;case"lpwstr":r=HS(this,this.l),t=4+2*Hr(this,this.l);break;case"lpp4":t=4+Hr(this,this.l),r=KS(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Hr(this,this.l),r=XS(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(a=$a(this,this.l+t++))!==0;)s.push(Wc(a));r=s.join("");break;case"_wstr":for(t=0,r="";(a=kl(this,this.l+t))!==0;)s.push(Wc(a)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return a=$a(this,u),this.l=u+1,o=Kl.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Wc(kl(this,u))),u+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return a=$a(this,u),this.l=u+1,o=Kl.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Wc($a(this,u))),u+=1}r=s.join("");break;default:switch(t){case 1:return n=$a(this,this.l),this.l++,n;case 2:return n=(e==="i"?A5:kl)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?zs:I5)(this,this.l),this.l+=4,n):(i=Hr(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=pf(this,this.l):i=pf([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=BS(this,this.l,t);break}}return this.l+=t,r}var C5=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},k5=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},R5=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function P5(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)R5(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,C5(this,e,this.l);break;case 8:if(n=8,r==="f"){S5(this,e,this.l);break}case 16:break;case-4:n=4,k5(this,e,this.l);break}return this.l+=n,this}function QS(t,e){var r=BS(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function zr(t,e){t.l=e,t.read_shift=Kl,t.chk=QS,t.write_shift=P5}function Xn(t,e){t.l+=e}function Z(t){var e=fa(t);return zr(e,0),e}function Lr(){var t=[],e=Ke?256:2048,r=function(u){var h=Z(u);return zr(h,0),h},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,e)))},a=function(){return i(),Qt(t)},o=function(u){i(),n=u,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function re(t,e,r,n){var i=+e,s;if(!isNaN(i)){n||(n=T7[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)a.write_shift(1,(n&127)+128),n>>=7;else{a.write_shift(1,n);break}n>0&&Bg(r)&&t.push(r)}}function ql(t,e,r){var n=br(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function Uy(t,e,r){var n=br(t);return n.s=ql(n.s,e.s,r),n.e=ql(n.e,e.s,r),n}function Xl(t,e){if(t.cRel&&t.c<0)for(t=br(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=br(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=tt(t);return!t.cRel&&t.cRel!=null&&(r=O5(r)),!t.rRel&&t.rRel!=null&&(r=N5(r)),r}function vd(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+mr(t.s.c)+":"+(t.e.cRel?"":"$")+mr(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+tr(t.s.r)+":"+(t.e.rRel?"":"$")+tr(t.e.r):Xl(t.s,e.biff)+":"+Xl(t.e,e.biff)}function Ug(t){return parseInt(D5(t),10)-1}function tr(t){return""+(t+1)}function N5(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function D5(t){return t.replace(/\$(\d+)$/,"$1")}function jg(t){for(var e=F5(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function mr(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function O5(t){return t.replace(/^([A-Z])/,"$$$1")}function F5(t){return t.replace(/^\$([A-Z])/,"$1")}function L5(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function $t(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function tt(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Yr(t){var e=t.indexOf(":");return e==-1?{s:$t(t),e:$t(t)}:{s:$t(t.slice(0,e)),e:$t(t.slice(e+1))}}function Nt(t,e){return typeof e>"u"||typeof e=="number"?Nt(t.s,t.e):(typeof t!="string"&&(t=tt(t)),typeof e!="string"&&(e=tt(e)),t==e?t:t+":"+e)}function ht(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=t.length;for(r=0;n<s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function jy(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Es(t.z,r?Mr(e):e)}catch{}try{return t.w=Es((t.XF||{}).numFmtId||(r?14:0),r?Mr(e):e)}catch{return""+e}}function ki(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?ec[t.v]||t.v:e==null?jy(t,t.v):jy(t,e))}function Ta(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function JS(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?$t(n.origin):n.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var h=ht(s["!ref"]);u.s.c=h.s.c,u.s.r=h.s.r,u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),a==-1&&(u.e.r=a=h.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=e[f].length;++d)if(!(typeof e[f][d]>"u")){var m={v:e[f][d]},y=a+f,g=o+d;if(u.s.r>y&&(u.s.r=y),u.s.c>g&&(u.s.c=g),u.e.r<y&&(u.e.r=y),u.e.c<g&&(u.e.c=g),e[f][d]&&typeof e[f][d]=="object"&&!Array.isArray(e[f][d])&&!(e[f][d]instanceof Date))m=e[f][d];else if(Array.isArray(m.v)&&(m.f=e[f][d][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||Tt[14],n.cellDates?(m.t="d",m.w=Es(m.z,Mr(m.v))):(m.t="n",m.v=Mr(m.v),m.w=Es(m.z,m.v))):m.t="s";if(i)s[y]||(s[y]=[]),s[y][g]&&s[y][g].z&&(m.z=s[y][g].z),s[y][g]=m;else{var v=tt({c:g,r:y});s[v]&&s[v].z&&(m.z=s[v].z),s[v]=m}}}return u.s.c<1e7&&(s["!ref"]=Nt(u)),s}function Go(t,e){return JS(null,t,e)}function M5(t){return t.read_shift(4,"i")}function Cn(t,e){return e||(e=Z(4)),e.write_shift(4,t),e}function gr(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function zt(t,e){var r=!1;return e==null&&(r=!0,e=Z(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function b5(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function V5(t,e){return e||(e=Z(4)),e.write_shift(2,0),e.write_shift(2,0),e}function $g(t,e){var r=t.l,n=t.read_shift(1),i=gr(t),s=[],a={t:i,h:i};if(n&1){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(b5(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=r+e,a}function B5(t,e){var r=!1;return e==null&&(r=!0,e=Z(15+4*t.t.length)),e.write_shift(1,0),zt(t.t,e),r?e.slice(0,e.l):e}var U5=$g;function j5(t,e){var r=!1;return e==null&&(r=!0,e=Z(23+4*t.t.length)),e.write_shift(1,1),zt(t.t,e),e.write_shift(4,1),V5({ich:0,ifnt:0},e),r?e.slice(0,e.l):e}function dn(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Sa(t,e){return e==null&&(e=Z(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Aa(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Ia(t,e){return e==null&&(e=Z(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var $5=gr,ZS=zt;function zg(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function mf(t,e){var r=!1;return e==null&&(r=!0,e=Z(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var z5=gr,Kp=zg,Wg=mf;function eA(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?pf([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):zs(e,0)>>2;return r?i/100:i}function tA(t,e){e==null&&(e=Z(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-(1<<29)&&t<1<<29?n=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function rA(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function W5(t,e){return e||(e=Z(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Ca=rA,Ko=W5;function qo(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function da(t,e){return(e||Z(8)).write_shift(8,t,"f")}function H5(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var u=e8[i];u&&(e.rgb=Jy(u));break;case 2:e.rgb=Jy([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function gf(t,e){if(e||(e=Z(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function G5(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function K5(t,e){e||(e=Z(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var nA=2,jr=3,qc=11,vf=19,Xc=64,q5=65,X5=71,Y5=4108,Q5=4126,Xt=80,$y={1:{n:"CodePage",t:nA},2:{n:"Category",t:Xt},3:{n:"PresentationFormat",t:Xt},4:{n:"ByteCount",t:jr},5:{n:"LineCount",t:jr},6:{n:"ParagraphCount",t:jr},7:{n:"SlideCount",t:jr},8:{n:"NoteCount",t:jr},9:{n:"HiddenCount",t:jr},10:{n:"MultimediaClipCount",t:jr},11:{n:"ScaleCrop",t:qc},12:{n:"HeadingPairs",t:Y5},13:{n:"TitlesOfParts",t:Q5},14:{n:"Manager",t:Xt},15:{n:"Company",t:Xt},16:{n:"LinksUpToDate",t:qc},17:{n:"CharacterCount",t:jr},19:{n:"SharedDoc",t:qc},22:{n:"HyperlinksChanged",t:qc},23:{n:"AppVersion",t:jr,p:"version"},24:{n:"DigSig",t:q5},26:{n:"ContentType",t:Xt},27:{n:"ContentStatus",t:Xt},28:{n:"Language",t:Xt},29:{n:"Version",t:Xt},255:{},2147483648:{n:"Locale",t:vf},2147483651:{n:"Behavior",t:vf},1919054434:{}},zy={1:{n:"CodePage",t:nA},2:{n:"Title",t:Xt},3:{n:"Subject",t:Xt},4:{n:"Author",t:Xt},5:{n:"Keywords",t:Xt},6:{n:"Comments",t:Xt},7:{n:"Template",t:Xt},8:{n:"LastAuthor",t:Xt},9:{n:"RevNumber",t:Xt},10:{n:"EditTime",t:Xc},11:{n:"LastPrinted",t:Xc},12:{n:"CreatedDate",t:Xc},13:{n:"ModifiedDate",t:Xc},14:{n:"PageCount",t:jr},15:{n:"WordCount",t:jr},16:{n:"CharCount",t:jr},17:{n:"Thumbnail",t:X5},18:{n:"Application",t:Xt},19:{n:"DocSecurity",t:jr},255:{},2147483648:{n:"Locale",t:vf},2147483651:{n:"Behavior",t:vf},1919054434:{}};function J5(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var Z5=J5([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e8=br(Z5),ec={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},t8={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Yc={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function iA(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function sA(t,e){var r=h5(t8),n=[],i;n[n.length]=Dt,n[n.length]=le("Types",null,{xmlns:jt.CT,"xmlns:xsd":jt.xsd,"xmlns:xsi":jt.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return le("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],n[n.length]=le("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Yc[l][e.bookType]||Yc[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(u){n[n.length]=le("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Yc[l][e.bookType]||Yc[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(u){n[n.length]=le("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var We={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function aA(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function mo(t){var e=[Dt,le("Relationships",null,{xmlns:jt.RELS})];return ir(t["!id"]).forEach(function(r){e[e.length]=le("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Qe(t,e,r,n,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[We.HLINK,We.XPATH,We.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function r8(t){var e=[Dt];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function Wy(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function n8(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function i8(t){var e=[Dt];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(Wy(t[r][0],t[r][1])),e.push(n8("",t[r][0]));return e.push(Wy("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function oA(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+uf.version+"</meta:generator></office:meta></office:document-meta>"}var ea=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function _d(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=Je(e),n[n.length]=r?le(t,e,r):Jt(t,e))}function lA(t,e){var r=e||{},n=[Dt,le("cp:coreProperties",null,{"xmlns:cp":jt.CORE_PROPS,"xmlns:dc":jt.dc,"xmlns:dcterms":jt.dcterms,"xmlns:dcmitype":jt.dcmitype,"xmlns:xsi":jt.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&_d("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:Gp(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&_d("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:Gp(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=ea.length;++s){var a=ea[s],o=r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&_d(a[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var go=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],uA=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function cA(t){var e=[],r=le;return t||(t={}),t.Application="SheetJS",e[e.length]=Dt,e[e.length]=le("Properties",null,{xmlns:jt.EXT_PROPS,"xmlns:vt":jt.vt}),go.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=Je(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+Je(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function hA(t){var e=[Dt,le("Properties",null,{xmlns:jt.CUST_PROPS,"xmlns:vt":jt.vt})];if(!t)return e.join("");var r=1;return ir(t).forEach(function(i){++r,e[e.length]=le("property",w5(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Je(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var Hy={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function s8(t,e){var r=[];return ir(Hy).map(function(n){for(var i=0;i<ea.length;++i)if(ea[i][1]==n)return ea[i];for(i=0;i<go.length;++i)if(go[i][1]==n)return go[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(Jt(Hy[n[1]]||n[1],i))}}),le("DocumentProperties",r.join(""),{xmlns:Wr.o})}function a8(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&ir(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<ea.length;++a)if(s==ea[a][1])return;for(a=0;a<go.length;++a)if(s==go[a][1])return;for(a=0;a<r.length;++a)if(s==r[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(le(Dy(s),o,{"dt:dt":l}))}}),e&&ir(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(le(Dy(s),a,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Wr.o+'">'+i.join("")+"</"+n+">"}function o8(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var a=Z(8);return a.write_shift(4,n),a.write_shift(4,i),a}function Gy(t,e){var r=Z(4),n=Z(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=Z(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=o8(e);break;case 31:case 80:for(n=Z(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Qt([r,n])}var fA=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function l8(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function Ky(t,e,r){var n=Z(8),i=[],s=[],a=8,o=0,l=Z(8),u=Z(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),s.push(l),i.push(u),a+=8+l.length,!e){u=Z(8),u.write_shift(4,0),i.unshift(u);var h=[Z(4)];for(h[0].write_shift(4,t.length),o=0;o<t.length;++o){var f=t[o][0];for(l=Z(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);h.push(l)}l=Qt(h),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(fA.indexOf(t[o][0])>-1||uA.indexOf(t[o][0])>-1)&&t[o][1]!=null){var d=t[o][1],m=0;if(e){m=+e[t[o][0]];var y=r[m];if(y.p=="version"&&typeof d=="string"){var g=d.split(".");d=(+g[0]<<16)+(+g[1]||0)}l=Gy(y.t,d)}else{var v=l8(d);v==-1&&(v=31,d=String(d)),l=Gy(v,d)}s.push(l),u=Z(8),u.write_shift(4,e?m:2+o),i.push(u),a+=8+l.length}var S=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,S),S+=s[o].length;return n.write_shift(4,a),n.write_shift(4,s.length),Qt([n].concat(i).concat(s))}function qy(t,e,r,n,i,s){var a=Z(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,rt.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=Ky(t,r,n);if(o.push(l),i){var u=Ky(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(u)}return Qt(o)}function u8(t,e){e||(e=Z(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function c8(t,e){return t.read_shift(e)===1}function Er(t,e){return e||(e=Z(2)),e.write_shift(2,+!!t),e}function dA(t){return t.read_shift(2,"u")}function nn(t,e){return e||(e=Z(2)),e.write_shift(2,t),e}function pA(t,e,r){return r||(r=Z(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function mA(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var a=n?t.read_shift(n,i):"";return a}function h8(t){var e=t.t||"",r=Z(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=Z(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return Qt(i)}function f8(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function d8(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):f8(t,n,r)}function p8(t,e,r){if(r.biff>5)return d8(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function gA(t,e,r){return r||(r=Z(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function Xy(t,e){e||(e=Z(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function m8(t){var e=Z(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(r=0;r<a.length;++r)e.write_shift(4,a[r]);if(s==28)n=n.slice(1),Xy(n,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));var o=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),s&8&&Xy(i>-1?n.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function pa(t,e,r,n){return n||(n=Z(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function g8(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),s=t.read_shift(n,"i"),a=t.read_shift(n,"i");return[i,s,a]}function v8(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function vA(t,e){return e||(e=Z(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function Hg(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Z(i);return s.write_shift(2,n),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function _8(t,e){var r=!e||e.biff==8,n=Z(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function y8(t,e){var r=!e||e.biff>=8?2:1,n=Z(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function x8(t,e){var r=Z(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=h8(t[i]);var s=Qt([r].concat(n));return s.parts=[r.length].concat(n.map(function(a){return a.length})),s}function E8(){var t=Z(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function w8(t){var e=Z(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function T8(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,s=Z(i);return s.write_shift(2,(t.sz||12)*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function S8(t,e,r,n){var i=Z(10);return pa(t,e,n,i),i.write_shift(4,r),i}function A8(t,e,r,n,i){var s=!i||i.biff==8,a=Z(8+ +s+(1+s)*r.length);return pa(t,e,n,a),a.write_shift(2,r.length),s&&a.write_shift(1,1),a.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),a}function I8(t,e,r,n){var i=r&&r.biff==5;n||(n=Z(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function C8(t,e){var r=e.biff==8||!e.biff?4:2,n=Z(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function Yy(t,e,r,n){var i=r&&r.biff==5;n||(n=Z(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function k8(t){var e=Z(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function R8(t,e,r,n,i,s){var a=Z(8);return pa(t,e,n,a),pA(r,s,a),a}function P8(t,e,r,n){var i=Z(14);return pa(t,e,n,i),da(r,i),i}function N8(t,e,r){if(r.biff<8)return D8(t,e,r);for(var n=[],i=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(g8(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function D8(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=mA(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function O8(t){var e=Z(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)vA(t[r],e);return e}function F8(t){var e=Z(24),r=$t(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return Qt([e,m8(t[1])])}function L8(t){var e=t[1].Tooltip,r=Z(10+2*(e.length+1));r.write_shift(2,2048);var n=$t(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function M8(t){return t||(t=Z(4)),t.write_shift(2,1),t.write_shift(2,1),t}function b8(t,e,r){if(!r.cellStyles)return Xn(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),s=t.read_shift(n),a=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var u={s:i,e:s,w:a,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function V8(t,e){var r=Z(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function B8(t){for(var e=Z(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function U8(t,e,r){var n=Z(15);return rc(n,t,e),n.write_shift(8,r,"f"),n}function j8(t,e,r){var n=Z(9);return rc(n,t,e),n.write_shift(2,r),n}var $8=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Fg({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var u=[],h=fa(1);switch(l.type){case"base64":h=Tn(Ci(o));break;case"binary":h=Tn(o);break;case"buffer":case"array":h=o;break}zr(h,0);var f=h.read_shift(1),d=!!(f&136),m=!1,y=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,d=!0;break;case 49:m=!0,d=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,v=521;f==2&&(g=h.read_shift(2)),h.l+=3,f!=2&&(g=h.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(v=h.read_shift(2));var S=h.read_shift(2),E=l.codepage||1252;f!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(E=t[h[h.l]]),h.l+=1,h.l+=2),y&&(h.l+=36);for(var I=[],V={},z=Math.min(h.length,f==2?521:v-10-(m?264:0)),X=y?32:11;h.l<z&&h[h.l]!=13;)switch(V={},V.name=$s.utils.decode(E,h.slice(h.l,h.l+X)).replace(/[\u0000\r\n].*$/g,""),h.l+=X,V.type=String.fromCharCode(h.read_shift(1)),f!=2&&!y&&(V.offset=h.read_shift(4)),V.len=h.read_shift(1),f==2&&(V.offset=h.read_shift(2)),V.dec=h.read_shift(1),V.name.length&&I.push(V),f!=2&&(h.l+=y?13:14),V.type){case"B":(!m||V.len!=8)&&l.WTF&&console.log("Skipping "+V.name+":"+V.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+V.name+":"+V.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+V.type)}if(h[h.l]!==13&&(h.l=v-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=v;var T=0,w=0;for(u[0]=[],w=0;w!=I.length;++w)u[0][w]=I[w].name;for(;g-- >0;){if(h[h.l]===42){h.l+=S;continue}for(++h.l,u[++T]=[],w=0,w=0;w!=I.length;++w){var A=h.slice(h.l,h.l+I[w].len);h.l+=I[w].len,zr(A,0);var k=$s.utils.decode(E,A);switch(I[w].type){case"C":k.trim().length&&(u[T][w]=k.replace(/\s+$/,""));break;case"D":k.length===8?u[T][w]=new Date(+k.slice(0,4),+k.slice(4,6)-1,+k.slice(6,8)):u[T][w]=k;break;case"F":u[T][w]=parseFloat(k.trim());break;case"+":case"I":u[T][w]=y?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(k.trim().toUpperCase()){case"Y":case"T":u[T][w]=!0;break;case"N":case"F":u[T][w]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+k+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[T][w]="##MEMO##"+(y?parseInt(k.trim(),10):A.read_shift(4));break;case"N":k=k.replace(/\u0000/g,"").trim(),k&&k!="."&&(u[T][w]=+k||0);break;case"@":u[T][w]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":u[T][w]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":u[T][w]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[T][w]=-A.read_shift(-8,"f");break;case"B":if(m&&I[w].len==8){u[T][w]=A.read_shift(8,"f");break}case"G":case"P":A.l+=I[w].len;break;case"0":if(I[w].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+I[w].type)}}}if(f!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=I,u}function n(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var h=Go(r(o,u),u);return h["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,h}function i(o,l){try{return Ta(n(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var u=l||{};if(+u.codepage>=0&&Iu(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var h=Lr(),f=wf(o,{header:1,raw:!0,cellDates:!0}),d=f[0],m=f.slice(1),y=o["!cols"]||[],g=0,v=0,S=0,E=1;for(g=0;g<d.length;++g){if(((y[g]||{}).DBF||{}).name){d[g]=y[g].DBF.name,++S;continue}if(d[g]!=null){if(++S,typeof d[g]=="number"&&(d[g]=d[g].toString(10)),typeof d[g]!="string")throw new Error("DBF Invalid column name "+d[g]+" |"+typeof d[g]+"|");if(d.indexOf(d[g])!==g){for(v=0;v<1024;++v)if(d.indexOf(d[g]+"_"+v)==-1){d[g]+="_"+v;break}}}}var I=ht(o["!ref"]),V=[],z=[],X=[];for(g=0;g<=I.e.c-I.s.c;++g){var T="",w="",A=0,k=[];for(v=0;v<m.length;++v)m[v][g]!=null&&k.push(m[v][g]);if(k.length==0||d[g]==null){V[g]="?";continue}for(v=0;v<k.length;++v){switch(typeof k[v]){case"number":w="B";break;case"string":w="C";break;case"boolean":w="L";break;case"object":w=k[v]instanceof Date?"D":"C";break;default:w="C"}A=Math.max(A,String(k[v]).length),T=T&&T!=w?"C":w}A>250&&(A=250),w=((y[g]||{}).DBF||{}).type,w=="C"&&y[g].DBF.len>A&&(A=y[g].DBF.len),T=="B"&&w=="N"&&(T="N",X[g]=y[g].DBF.dec,A=y[g].DBF.len),z[g]=T=="C"||w=="N"?A:s[T]||0,E+=z[g],V[g]=T}var O=h.next(32);for(O.write_shift(4,318902576),O.write_shift(4,m.length),O.write_shift(2,296+32*S),O.write_shift(2,E),g=0;g<4;++g)O.write_shift(4,0);for(O.write_shift(4,0|(+e[yS]||3)<<8),g=0,v=0;g<d.length;++g)if(d[g]!=null){var b=h.next(32),N=(d[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);b.write_shift(1,N,"sbcs"),b.write_shift(1,V[g]=="?"?"C":V[g],"sbcs"),b.write_shift(4,v),b.write_shift(1,z[g]||s[V[g]]||0),b.write_shift(1,X[g]||0),b.write_shift(1,2),b.write_shift(4,0),b.write_shift(1,0),b.write_shift(4,0),b.write_shift(4,0),v+=z[g]||s[V[g]]||0}var De=h.next(264);for(De.write_shift(4,13),g=0;g<65;++g)De.write_shift(4,0);for(g=0;g<m.length;++g){var Ie=h.next(E);for(Ie.write_shift(1,0),v=0;v<d.length;++v)if(d[v]!=null)switch(V[v]){case"L":Ie.write_shift(1,m[g][v]==null?63:m[g][v]?84:70);break;case"B":Ie.write_shift(8,m[g][v]||0,"f");break;case"N":var mt="0";for(typeof m[g][v]=="number"&&(mt=m[g][v].toFixed(X[v]||0)),S=0;S<z[v]-mt.length;++S)Ie.write_shift(1,32);Ie.write_shift(1,mt,"sbcs");break;case"D":m[g][v]?(Ie.write_shift(4,("0000"+m[g][v].getFullYear()).slice(-4),"sbcs"),Ie.write_shift(2,("00"+(m[g][v].getMonth()+1)).slice(-2),"sbcs"),Ie.write_shift(2,("00"+m[g][v].getDate()).slice(-2),"sbcs")):Ie.write_shift(8,"00000000","sbcs");break;case"C":var Ge=String(m[g][v]!=null?m[g][v]:"").slice(0,z[v]);for(Ie.write_shift(1,Ge,"sbcs"),S=0;S<z[v]-Ge.length;++S)Ie.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}}(),z8=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+ir(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(d,m){var y=t[m];return typeof y=="number"?xy(y):y},n=function(d,m,y){var g=m.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return g==59?d:xy(g)};t["|"]=254;function i(d,m){switch(m.type){case"base64":return s(Ci(d),m);case"binary":return s(d,m);case"buffer":return s(Ke&&Buffer.isBuffer(d)?d.toString("binary"):Qu(d),m);case"array":return s(p0(d),m)}throw new Error("Unrecognized type "+m.type)}function s(d,m){var y=d.split(/[\n\r]+/),g=-1,v=-1,S=0,E=0,I=[],V=[],z=null,X={},T=[],w=[],A=[],k=0,O;for(+m.codepage>=0&&Iu(+m.codepage);S!==y.length;++S){k=0;var b=y[S].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),N=b.replace(/;;/g,"\0").split(";").map(function(U){return U.replace(/\u0000/g,";")}),De=N[0],Ie;if(b.length>0)switch(De){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":N[1].charAt(0)=="P"&&V.push(b.slice(3).replace(/;;/g,";"));break;case"C":var mt=!1,Ge=!1,ce=!1,ye=!1,Se=-1,Fe=-1;for(E=1;E<N.length;++E)switch(N[E].charAt(0)){case"A":break;case"X":v=parseInt(N[E].slice(1))-1,Ge=!0;break;case"Y":for(g=parseInt(N[E].slice(1))-1,Ge||(v=0),O=I.length;O<=g;++O)I[O]=[];break;case"K":Ie=N[E].slice(1),Ie.charAt(0)==='"'?Ie=Ie.slice(1,Ie.length-1):Ie==="TRUE"?Ie=!0:Ie==="FALSE"?Ie=!1:isNaN(gi(Ie))?isNaN(ku(Ie).getDate())||(Ie=Sr(Ie)):(Ie=gi(Ie),z!==null&&NS(z)&&(Ie=LS(Ie))),mt=!0;break;case"E":ye=!0;var B=jb(N[E].slice(1),{r:g,c:v});I[g][v]=[I[g][v],B];break;case"S":ce=!0,I[g][v]=[I[g][v],"S5S"];break;case"G":break;case"R":Se=parseInt(N[E].slice(1))-1;break;case"C":Fe=parseInt(N[E].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+b)}if(mt&&(I[g][v]&&I[g][v].length==2?I[g][v][0]=Ie:I[g][v]=Ie,z=null),ce){if(ye)throw new Error("SYLK shared formula cannot have own formula");var H=Se>-1&&I[Se][Fe];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");I[g][v][1]=$b(H[1],{r:g-Se,c:v-Fe})}break;case"F":var j=0;for(E=1;E<N.length;++E)switch(N[E].charAt(0)){case"X":v=parseInt(N[E].slice(1))-1,++j;break;case"Y":for(g=parseInt(N[E].slice(1))-1,O=I.length;O<=g;++O)I[O]=[];break;case"M":k=parseInt(N[E].slice(1))/20;break;case"F":break;case"G":break;case"P":z=V[parseInt(N[E].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=N[E].slice(1).split(" "),O=parseInt(A[0],10);O<=parseInt(A[1],10);++O)k=parseInt(A[2],10),w[O-1]=k===0?{hidden:!0}:{wch:k},Gg(w[O-1]);break;case"C":v=parseInt(N[E].slice(1))-1,w[v]||(w[v]={});break;case"R":g=parseInt(N[E].slice(1))-1,T[g]||(T[g]={}),k>0?(T[g].hpt=k,T[g].hpx=wA(k)):k===0&&(T[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+b)}j<1&&(z=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+b)}}return T.length>0&&(X["!rows"]=T),w.length>0&&(X["!cols"]=w),m&&m.sheetRows&&(I=I.slice(0,m.sheetRows)),[I,X]}function a(d,m){var y=i(d,m),g=y[0],v=y[1],S=Go(g,m);return ir(v).forEach(function(E){S[E]=v[E]}),S}function o(d,m){return Ta(a(d,m),m)}function l(d,m,y,g){var v="C;Y"+(y+1)+";X"+(g+1)+";K";switch(d.t){case"n":v+=d.v||0,d.f&&!d.F&&(v+=";E"+qg(d.f,{r:y,c:g}));break;case"b":v+=d.v?"TRUE":"FALSE";break;case"e":v+=d.w||d.v;break;case"d":v+='"'+(d.w||d.v)+'"';break;case"s":v+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(d,m){m.forEach(function(y,g){var v="F;W"+(g+1)+" "+(g+1)+" ";y.hidden?v+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=_f(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=yf(y.wpx)),typeof y.wch=="number"&&(v+=Math.round(y.wch))),v.charAt(v.length-1)!=" "&&d.push(v)})}function h(d,m){m.forEach(function(y,g){var v="F;";y.hidden?v+="M0;":y.hpt?v+="M"+20*y.hpt+";":y.hpx&&(v+="M"+20*xf(y.hpx)+";"),v.length>2&&d.push(v+"R"+(g+1))})}function f(d,m){var y=["ID;PWXL;N;E"],g=[],v=ht(d["!ref"]),S,E=Array.isArray(d),I=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),d["!cols"]&&u(y,d["!cols"]),d["!rows"]&&h(y,d["!rows"]),y.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var V=v.s.r;V<=v.e.r;++V)for(var z=v.s.c;z<=v.e.c;++z){var X=tt({r:V,c:z});S=E?(d[V]||[])[z]:d[X],!(!S||S.v==null&&(!S.f||S.F))&&g.push(l(S,d,V,z))}return y.join(I)+I+g.join(I)+I+"E"+I}return{to_workbook:o,to_sheet:a,from_sheet:f}}(),W8=function(){function t(s,a){switch(a.type){case"base64":return e(Ci(s),a);case"binary":return e(s,a);case"buffer":return e(Ke&&Buffer.isBuffer(s)?s.toString("binary"):Qu(s),a);case"array":return e(p0(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,u=-1,h=0,f=[];h!==o.length;++h){if(o[h].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var d=o[h].trim().split(","),m=d[0],y=d[1];++h;for(var g=o[h]||"";(g.match(/["]/g)||[]).length&1&&h<o.length-1;)g+=`
`+o[++h];switch(g=g.trim(),+m){case-1:if(g==="BOT"){f[++l]=[],u=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[l][u]=!0:g==="FALSE"?f[l][u]=!1:isNaN(gi(y))?isNaN(ku(y).getDate())?f[l][u]=y:f[l][u]=Sr(y):f[l][u]=gi(y),++u;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[l][u++]=g!==""?g:null;break}if(g==="EOD")break}}return a&&a.sheetRows&&(f=f.slice(0,a.sheetRows)),f}function r(s,a){return Go(t(s,a),a)}function n(s,a){return Ta(r(s,a),a)}var i=function(){var s=function(l,u,h,f,d){l.push(u),l.push(h+","+f),l.push('"'+d.replace(/"/g,'""')+'"')},a=function(l,u,h,f){l.push(u+","+h),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],h=ht(l["!ref"]),f,d=Array.isArray(l);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,h.e.r-h.s.r+1,""),s(u,"TUPLES",0,h.e.c-h.s.c+1,""),s(u,"DATA",0,0,"");for(var m=h.s.r;m<=h.e.r;++m){a(u,-1,0,"BOT");for(var y=h.s.c;y<=h.e.c;++y){var g=tt({r:m,c:y});if(f=d?(l[m]||[])[y]:l[g],!f){a(u,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?a(u,1,0,"="+f.f):a(u,1,0,""):a(u,0,v,"V");break;case"b":a(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":a(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Es(f.z||Tt[14],Mr(Sr(f.v)))),a(u,0,f.w,"V");break;default:a(u,1,0,"")}}}a(u,-1,0,"EOD");var S=`\r
`,E=u.join(S);return E}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),_A=function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,d){for(var m=f.split(`
`),y=-1,g=-1,v=0,S=[];v!==m.length;++v){var E=m[v].trim().split(":");if(E[0]==="cell"){var I=$t(E[1]);if(S.length<=I.r)for(y=S.length;y<=I.r;++y)S[y]||(S[y]=[]);switch(y=I.r,g=I.c,E[2]){case"t":S[y][g]=t(E[3]);break;case"v":S[y][g]=+E[3];break;case"vtf":var V=E[E.length-1];case"vtc":switch(E[3]){case"nl":S[y][g]=!!+E[4];break;default:S[y][g]=+E[4];break}E[2]=="vtf"&&(S[y][g]=[S[y][g],V])}}}return d&&d.sheetRows&&(S=S.slice(0,d.sheetRows)),S}function n(f,d){return Go(r(f,d),d)}function i(f,d){return Ta(n(f,d),d)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var d=[],m=[],y,g="",v=Yr(f["!ref"]),S=Array.isArray(f),E=v.s.r;E<=v.e.r;++E)for(var I=v.s.c;I<=v.e.c;++I)if(g=tt({r:E,c:I}),y=S?(f[E]||[])[I]:f[g],!(!y||y.v==null||y.t==="z")){switch(m=["cell",g,"t"],y.t){case"s":case"str":m.push(e(y.v));break;case"n":y.f?(m[2]="vtf",m[3]="n",m[4]=y.v,m[5]=e(y.f)):(m[2]="v",m[3]=y.v);break;case"b":m[2]="vt"+(y.f?"f":"c"),m[3]="nl",m[4]=y.v?"1":"0",m[5]=e(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var V=Mr(Sr(y.v));m[2]="vtc",m[3]="nd",m[4]=""+V,m[5]=y.w||Es(y.z||Tt[14],V);break;case"e":continue}d.push(m.join(":"))}return d.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function h(f){return[s,a,o,a,u(f),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:h}}(),H8=function(){function t(h,f,d,m,y){y.raw?f[d][m]=h:h===""||(h==="TRUE"?f[d][m]=!0:h==="FALSE"?f[d][m]=!1:isNaN(gi(h))?isNaN(ku(h).getDate())?f[d][m]=h:f[d][m]=Sr(h):f[d][m]=gi(h))}function e(h,f){var d=f||{},m=[];if(!h||h.length===0)return m;for(var y=h.split(/[\r\n]/),g=y.length-1;g>=0&&y[g].length===0;)--g;for(var v=10,S=0,E=0;E<=g;++E)S=y[E].indexOf(" "),S==-1?S=y[E].length:S++,v=Math.max(v,S);for(E=0;E<=g;++E){m[E]=[];var I=0;for(t(y[E].slice(0,v).trim(),m,E,I,d),I=1;I<=(y[E].length-v)/10+1;++I)t(y[E].slice(v+(I-1)*10,v+I*10).trim(),m,E,I,d)}return d.sheetRows&&(m=m.slice(0,d.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(h){for(var f={},d=!1,m=0,y=0;m<h.length;++m)(y=h.charCodeAt(m))==34?d=!d:!d&&y in r&&(f[y]=(f[y]||0)+1);y=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&y.push([f[m],m]);if(!y.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&y.push([f[m],m])}return y.sort(function(g,v){return g[0]-v[0]||n[g[1]]-n[v[1]]}),r[y.pop()[1]]||44}function s(h,f){var d=f||{},m="",y=d.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(m=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(m=h.charAt(4),h=h.slice(6)):m=i(h.slice(0,1024)):d&&d.FS?m=d.FS:m=i(h.slice(0,1024));var v=0,S=0,E=0,I=0,V=0,z=m.charCodeAt(0),X=!1,T=0,w=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var A=d.dateNF!=null?o5(d.dateNF):null;function k(){var O=h.slice(I,V),b={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)b.t="z";else if(d.raw)b.t="s",b.v=O;else if(O.trim().length===0)b.t="s",b.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(b.t="s",b.v=O.slice(2,-1).replace(/""/g,'"')):zb(O)?(b.t="n",b.f=O.slice(1)):(b.t="s",b.v=O);else if(O=="TRUE")b.t="b",b.v=!0;else if(O=="FALSE")b.t="b",b.v=!1;else if(!isNaN(E=gi(O)))b.t="n",d.cellText!==!1&&(b.w=O),b.v=E;else if(!isNaN(ku(O).getDate())||A&&O.match(A)){b.z=d.dateNF||Tt[14];var N=0;A&&O.match(A)&&(O=l5(O,d.dateNF,O.match(A)||[]),N=1),d.cellDates?(b.t="d",b.v=Sr(O,N)):(b.t="n",b.v=Mr(Sr(O,N))),d.cellText!==!1&&(b.w=Es(b.z,b.v instanceof Date?Mr(b.v):b.v)),d.cellNF||delete b.z}else b.t="s",b.v=O;if(b.t=="z"||(d.dense?(y[v]||(y[v]=[]),y[v][S]=b):y[tt({c:S,r:v})]=b),I=V+1,w=h.charCodeAt(I),g.e.c<S&&(g.e.c=S),g.e.r<v&&(g.e.r=v),T==z)++S;else if(S=0,++v,d.sheetRows&&d.sheetRows<=v)return!0}e:for(;V<h.length;++V)switch(T=h.charCodeAt(V)){case 34:w===34&&(X=!X);break;case z:case 10:case 13:if(!X&&k())break e;break}return V-I>0&&k(),y["!ref"]=Nt(g),y}function a(h,f){return!(f&&f.PRN)||f.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?s(h,f):Go(e(h,f),f)}function o(h,f){var d="",m=f.type=="string"?[0,0,0,0]:nU(h,f);switch(f.type){case"base64":d=Ci(h);break;case"binary":d=h;break;case"buffer":f.codepage==65001?d=h.toString("utf8"):f.codepage&&typeof $s<"u"?d=$s.utils.decode(f.codepage,h):d=Ke&&Buffer.isBuffer(h)?h.toString("binary"):Qu(h);break;case"array":d=p0(h);break;case"string":d=h;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?d=Gl(d.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?d=Gl(d):f.type=="binary"&&typeof $s<"u"&&f.codepage&&(d=$s.utils.decode(f.codepage,$s.utils.encode(28591,d))),d.slice(0,19)=="socialcalc:version:"?_A.to_sheet(f.type=="string"?d:Gl(d),f):a(d,f)}function l(h,f){return Ta(o(h,f),f)}function u(h){for(var f=[],d=ht(h["!ref"]),m,y=Array.isArray(h),g=d.s.r;g<=d.e.r;++g){for(var v=[],S=d.s.c;S<=d.e.c;++S){var E=tt({r:g,c:S});if(m=y?(h[g]||[])[S]:h[E],!m||m.v==null){v.push("          ");continue}for(var I=(m.w||(ki(m),m.w)||"").slice(0,10);I.length<10;)I+=" ";v.push(I+(S===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}}(),Qy=function(){function t(B,H,j){if(B){zr(B,B.l||0);for(var U=j.Enum||Se;B.l<B.length;){var te=B.read_shift(2),ge=U[te]||U[65535],we=B.read_shift(2),xe=B.l+we,de=ge.f&&ge.f(B,we,j);if(B.l=xe,H(de,ge,te))return}}}function e(B,H){switch(H.type){case"base64":return r(Tn(Ci(B)),H);case"binary":return r(Tn(B),H);case"buffer":case"array":return r(B,H)}throw"Unsupported type "+H.type}function r(B,H){if(!B)return B;var j=H||{},U=j.dense?[]:{},te="Sheet1",ge="",we=0,xe={},de=[],$e=[],Le={s:{r:0,c:0},e:{r:0,c:0}},Ot=j.sheetRows||0;if(B[2]==0&&(B[3]==8||B[3]==9)&&B.length>=16&&B[14]==5&&B[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(B[2]==2)j.Enum=Se,t(B,function(_e,Cr,en){switch(en){case 0:j.vers=_e,_e>=4096&&(j.qpro=!0);break;case 6:Le=_e;break;case 204:_e&&(ge=_e);break;case 222:ge=_e;break;case 15:case 51:j.qpro||(_e[1].v=_e[1].v.slice(1));case 13:case 14:case 16:en==14&&(_e[2]&112)==112&&(_e[2]&15)>1&&(_e[2]&15)<15&&(_e[1].z=j.dateNF||Tt[14],j.cellDates&&(_e[1].t="d",_e[1].v=LS(_e[1].v))),j.qpro&&_e[3]>we&&(U["!ref"]=Nt(Le),xe[te]=U,de.push(te),U=j.dense?[]:{},Le={s:{r:0,c:0},e:{r:0,c:0}},we=_e[3],te=ge||"Sheet"+(we+1),ge="");var pn=j.dense?(U[_e[0].r]||[])[_e[0].c]:U[tt(_e[0])];if(pn){pn.t=_e[1].t,pn.v=_e[1].v,_e[1].z!=null&&(pn.z=_e[1].z),_e[1].f!=null&&(pn.f=_e[1].f);break}j.dense?(U[_e[0].r]||(U[_e[0].r]=[]),U[_e[0].r][_e[0].c]=_e[1]):U[tt(_e[0])]=_e[1];break}},j);else if(B[2]==26||B[2]==14)j.Enum=Fe,B[2]==14&&(j.qpro=!0,B.l=0),t(B,function(_e,Cr,en){switch(en){case 204:te=_e;break;case 22:_e[1].v=_e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(_e[3]>we&&(U["!ref"]=Nt(Le),xe[te]=U,de.push(te),U=j.dense?[]:{},Le={s:{r:0,c:0},e:{r:0,c:0}},we=_e[3],te="Sheet"+(we+1)),Ot>0&&_e[0].r>=Ot)break;j.dense?(U[_e[0].r]||(U[_e[0].r]=[]),U[_e[0].r][_e[0].c]=_e[1]):U[tt(_e[0])]=_e[1],Le.e.c<_e[0].c&&(Le.e.c=_e[0].c),Le.e.r<_e[0].r&&(Le.e.r=_e[0].r);break;case 27:_e[14e3]&&($e[_e[14e3][0]]=_e[14e3][1]);break;case 1537:$e[_e[0]]=_e[1],_e[0]==we&&(te=_e[1]);break}},j);else throw new Error("Unrecognized LOTUS BOF "+B[2]);if(U["!ref"]=Nt(Le),xe[ge||te]=U,de.push(ge||te),!$e.length)return{SheetNames:de,Sheets:xe};for(var Be={},Vr=[],ot=0;ot<$e.length;++ot)xe[de[ot]]?(Vr.push($e[ot]||de[ot]),Be[$e[ot]]=xe[$e[ot]]||xe[de[ot]]):(Vr.push($e[ot]),Be[$e[ot]]={"!ref":"A1"});return{SheetNames:Vr,Sheets:Be}}function n(B,H){var j=H||{};if(+j.codepage>=0&&Iu(+j.codepage),j.type=="string")throw new Error("Cannot write WK1 to JS string");var U=Lr(),te=ht(B["!ref"]),ge=Array.isArray(B),we=[];ue(U,0,s(1030)),ue(U,6,l(te));for(var xe=Math.min(te.e.r,8191),de=te.s.r;de<=xe;++de)for(var $e=tr(de),Le=te.s.c;Le<=te.e.c;++Le){de===te.s.r&&(we[Le]=mr(Le));var Ot=we[Le]+$e,Be=ge?(B[de]||[])[Le]:B[Ot];if(!(!Be||Be.t=="z"))if(Be.t=="n")(Be.v|0)==Be.v&&Be.v>=-32768&&Be.v<=32767?ue(U,13,m(de,Le,Be.v)):ue(U,14,g(de,Le,Be.v));else{var Vr=ki(Be);ue(U,15,f(de,Le,Vr.slice(0,239)))}}return ue(U,1),U.end()}function i(B,H){var j=H||{};if(+j.codepage>=0&&Iu(+j.codepage),j.type=="string")throw new Error("Cannot write WK3 to JS string");var U=Lr();ue(U,0,a(B));for(var te=0,ge=0;te<B.SheetNames.length;++te)(B.Sheets[B.SheetNames[te]]||{})["!ref"]&&ue(U,27,ye(B.SheetNames[te],ge++));var we=0;for(te=0;te<B.SheetNames.length;++te){var xe=B.Sheets[B.SheetNames[te]];if(!(!xe||!xe["!ref"])){for(var de=ht(xe["!ref"]),$e=Array.isArray(xe),Le=[],Ot=Math.min(de.e.r,8191),Be=de.s.r;Be<=Ot;++Be)for(var Vr=tr(Be),ot=de.s.c;ot<=de.e.c;++ot){Be===de.s.r&&(Le[ot]=mr(ot));var _e=Le[ot]+Vr,Cr=$e?(xe[Be]||[])[ot]:xe[_e];if(!(!Cr||Cr.t=="z"))if(Cr.t=="n")ue(U,23,k(Be,ot,we,Cr.v));else{var en=ki(Cr);ue(U,22,T(Be,ot,we,en.slice(0,239)))}}++we}}return ue(U,1),U.end()}function s(B){var H=Z(2);return H.write_shift(2,B),H}function a(B){var H=Z(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var j=0,U=0,te=0,ge=0;ge<B.SheetNames.length;++ge){var we=B.SheetNames[ge],xe=B.Sheets[we];if(!(!xe||!xe["!ref"])){++te;var de=Yr(xe["!ref"]);j<de.e.r&&(j=de.e.r),U<de.e.c&&(U=de.e.c)}}return j>8191&&(j=8191),H.write_shift(2,j),H.write_shift(1,te),H.write_shift(1,U),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function o(B,H,j){var U={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&j.qpro?(U.s.c=B.read_shift(1),B.l++,U.s.r=B.read_shift(2),U.e.c=B.read_shift(1),B.l++,U.e.r=B.read_shift(2),U):(U.s.c=B.read_shift(2),U.s.r=B.read_shift(2),H==12&&j.qpro&&(B.l+=2),U.e.c=B.read_shift(2),U.e.r=B.read_shift(2),H==12&&j.qpro&&(B.l+=2),U.s.c==65535&&(U.s.c=U.e.c=U.s.r=U.e.r=0),U)}function l(B){var H=Z(8);return H.write_shift(2,B.s.c),H.write_shift(2,B.s.r),H.write_shift(2,B.e.c),H.write_shift(2,B.e.r),H}function u(B,H,j){var U=[{c:0,r:0},{t:"n",v:0},0,0];return j.qpro&&j.vers!=20768?(U[0].c=B.read_shift(1),U[3]=B.read_shift(1),U[0].r=B.read_shift(2),B.l+=2):(U[2]=B.read_shift(1),U[0].c=B.read_shift(2),U[0].r=B.read_shift(2)),U}function h(B,H,j){var U=B.l+H,te=u(B,H,j);if(te[1].t="s",j.vers==20768){B.l++;var ge=B.read_shift(1);return te[1].v=B.read_shift(ge,"utf8"),te}return j.qpro&&B.l++,te[1].v=B.read_shift(U-B.l,"cstr"),te}function f(B,H,j){var U=Z(7+j.length);U.write_shift(1,255),U.write_shift(2,H),U.write_shift(2,B),U.write_shift(1,39);for(var te=0;te<U.length;++te){var ge=j.charCodeAt(te);U.write_shift(1,ge>=128?95:ge)}return U.write_shift(1,0),U}function d(B,H,j){var U=u(B,H,j);return U[1].v=B.read_shift(2,"i"),U}function m(B,H,j){var U=Z(7);return U.write_shift(1,255),U.write_shift(2,H),U.write_shift(2,B),U.write_shift(2,j,"i"),U}function y(B,H,j){var U=u(B,H,j);return U[1].v=B.read_shift(8,"f"),U}function g(B,H,j){var U=Z(13);return U.write_shift(1,255),U.write_shift(2,H),U.write_shift(2,B),U.write_shift(8,j,"f"),U}function v(B,H,j){var U=B.l+H,te=u(B,H,j);if(te[1].v=B.read_shift(8,"f"),j.qpro)B.l=U;else{var ge=B.read_shift(2);V(B.slice(B.l,B.l+ge),te),B.l+=ge}return te}function S(B,H,j){var U=H&32768;return H&=-32769,H=(U?B:0)+(H>=8192?H-16384:H),(U?"":"$")+(j?mr(H):tr(H))}var E={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},I=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function V(B,H){zr(B,0);for(var j=[],U=0,te="",ge="",we="",xe="";B.l<B.length;){var de=B[B.l++];switch(de){case 0:j.push(B.read_shift(8,"f"));break;case 1:ge=S(H[0].c,B.read_shift(2),!0),te=S(H[0].r,B.read_shift(2),!1),j.push(ge+te);break;case 2:{var $e=S(H[0].c,B.read_shift(2),!0),Le=S(H[0].r,B.read_shift(2),!1);ge=S(H[0].c,B.read_shift(2),!0),te=S(H[0].r,B.read_shift(2),!1),j.push($e+Le+":"+ge+te)}break;case 3:if(B.l<B.length){console.error("WK1 premature formula end");return}break;case 4:j.push("("+j.pop()+")");break;case 5:j.push(B.read_shift(2));break;case 6:{for(var Ot="";de=B[B.l++];)Ot+=String.fromCharCode(de);j.push('"'+Ot.replace(/"/g,'""')+'"')}break;case 8:j.push("-"+j.pop());break;case 23:j.push("+"+j.pop());break;case 22:j.push("NOT("+j.pop()+")");break;case 20:case 21:xe=j.pop(),we=j.pop(),j.push(["AND","OR"][de-20]+"("+we+","+xe+")");break;default:if(de<32&&I[de])xe=j.pop(),we=j.pop(),j.push(we+I[de]+xe);else if(E[de]){if(U=E[de][1],U==69&&(U=B[B.l++]),U>j.length){console.error("WK1 bad formula parse 0x"+de.toString(16)+":|"+j.join("|")+"|");return}var Be=j.slice(-U);j.length-=U,j.push(E[de][0]+"("+Be.join(",")+")")}else return de<=7?console.error("WK1 invalid opcode "+de.toString(16)):de<=24?console.error("WK1 unsupported op "+de.toString(16)):de<=30?console.error("WK1 invalid opcode "+de.toString(16)):de<=115?console.error("WK1 unsupported function opcode "+de.toString(16)):console.error("WK1 unrecognized opcode "+de.toString(16))}}j.length==1?H[1].f=""+j[0]:console.error("WK1 bad formula parse |"+j.join("|")+"|")}function z(B){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=B.read_shift(2),H[3]=B[B.l++],H[0].c=B[B.l++],H}function X(B,H){var j=z(B);return j[1].t="s",j[1].v=B.read_shift(H-4,"cstr"),j}function T(B,H,j,U){var te=Z(6+U.length);te.write_shift(2,B),te.write_shift(1,j),te.write_shift(1,H),te.write_shift(1,39);for(var ge=0;ge<U.length;++ge){var we=U.charCodeAt(ge);te.write_shift(1,we>=128?95:we)}return te.write_shift(1,0),te}function w(B,H){var j=z(B);j[1].v=B.read_shift(2);var U=j[1].v>>1;if(j[1].v&1)switch(U&7){case 0:U=(U>>3)*5e3;break;case 1:U=(U>>3)*500;break;case 2:U=(U>>3)/20;break;case 3:U=(U>>3)/200;break;case 4:U=(U>>3)/2e3;break;case 5:U=(U>>3)/2e4;break;case 6:U=(U>>3)/16;break;case 7:U=(U>>3)/64;break}return j[1].v=U,j}function A(B,H){var j=z(B),U=B.read_shift(4),te=B.read_shift(4),ge=B.read_shift(2);if(ge==65535)return U===0&&te===3221225472?(j[1].t="e",j[1].v=15):U===0&&te===3489660928?(j[1].t="e",j[1].v=42):j[1].v=0,j;var we=ge&32768;return ge=(ge&32767)-16446,j[1].v=(1-we*2)*(te*Math.pow(2,ge+32)+U*Math.pow(2,ge)),j}function k(B,H,j,U){var te=Z(14);if(te.write_shift(2,B),te.write_shift(1,j),te.write_shift(1,H),U==0)return te.write_shift(4,0),te.write_shift(4,0),te.write_shift(2,65535),te;var ge=0,we=0,xe=0,de=0;return U<0&&(ge=1,U=-U),we=Math.log2(U)|0,U/=Math.pow(2,we-31),de=U>>>0,de&2147483648||(U/=2,++we,de=U>>>0),U-=de,de|=2147483648,de>>>=0,U*=Math.pow(2,32),xe=U>>>0,te.write_shift(4,xe),te.write_shift(4,de),we+=16383+(ge?32768:0),te.write_shift(2,we),te}function O(B,H){var j=A(B);return B.l+=H-14,j}function b(B,H){var j=z(B),U=B.read_shift(4);return j[1].v=U>>6,j}function N(B,H){var j=z(B),U=B.read_shift(8,"f");return j[1].v=U,j}function De(B,H){var j=N(B);return B.l+=H-10,j}function Ie(B,H){return B[B.l+H-1]==0?B.read_shift(H,"cstr"):""}function mt(B,H){var j=B[B.l++];j>H-1&&(j=H-1);for(var U="";U.length<j;)U+=String.fromCharCode(B[B.l++]);return U}function Ge(B,H,j){if(!(!j.qpro||H<21)){var U=B.read_shift(1);B.l+=17,B.l+=1,B.l+=2;var te=B.read_shift(H-21,"cstr");return[U,te]}}function ce(B,H){for(var j={},U=B.l+H;B.l<U;){var te=B.read_shift(2);if(te==14e3){for(j[te]=[0,""],j[te][0]=B.read_shift(2);B[B.l];)j[te][1]+=String.fromCharCode(B[B.l]),B.l++;B.l++}}return j}function ye(B,H){var j=Z(5+B.length);j.write_shift(2,14e3),j.write_shift(2,H);for(var U=0;U<B.length;++U){var te=B.charCodeAt(U);j[j.l++]=te>127?95:te}return j[j.l++]=0,j}var Se={0:{n:"BOF",f:dA},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ie},222:{n:"SHEETNAMELP",f:mt},65535:{n:""}},Fe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:X},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:w},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ce},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:b},38:{n:"??"},39:{n:"NUMBER27",f:N},40:{n:"FORMULA28",f:De},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ie},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Ge},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}(),G8=/^\s|\s$|[\t\n\r]/;function yA(t,e){if(!e.bookSST)return"";var r=[Dt];r[r.length]=le("sst",null,{xmlns:Ho[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(G8)&&(s+=' xml:space="preserve"'),s+=">"+Je(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function K8(t){return[t.read_shift(4),t.read_shift(4)]}function q8(t,e){return e||(e=Z(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var X8=B5;function Y8(t){var e=Lr();re(e,159,q8(t));for(var r=0;r<t.length;++r)re(e,19,X8(t[r]));return re(e,160),e.end()}function Q8(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function xA(t){var e=0,r,n=Q8(t),i=n.length+1,s,a,o,l,u;for(r=fa(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)a=r[s],o=e&16384?1:0,l=e<<1&32767,u=o|l,e=u^a;return e^52811}var J8=function(){function t(i,s){switch(s.type){case"base64":return e(Ci(i),s);case"binary":return e(i,s);case"buffer":return e(Ke&&Buffer.isBuffer(i)?i.toString("binary"):Qu(i),s);case"array":return e(p0(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(h,f){Array.isArray(o)&&(o[f]=[]);for(var d=/\\\w+\b/g,m=0,y,g=-1;y=d.exec(h);){switch(y[0]){case"\\cell":var v=h.slice(m,d.lastIndex-y[0].length);if(v[0]==" "&&(v=v.slice(1)),++g,v.length){var S={v,t:"s"};Array.isArray(o)?o[f][g]=S:o[tt({r:f,c:g})]=S}break}m=d.lastIndex}g>u.e.c&&(u.e.c=g)}),o["!ref"]=Nt(u),o}function r(i,s){return Ta(t(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=ht(i["!ref"]),o,l=Array.isArray(i),u=a.s.r;u<=a.e.r;++u){s.push("\\trowd\\trautofit1");for(var h=a.s.c;h<=a.e.c;++h)s.push("\\cellx"+(h+1));for(s.push("\\pard\\intbl"),h=a.s.c;h<=a.e.c;++h){var f=tt({r:u,c:h});o=l?(i[u]||[])[h]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(ki(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function Jy(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var Z8=6,vi=Z8;function _f(t){return Math.floor((t+Math.round(128/vi)/256)*vi)}function yf(t){return Math.floor((t-5)/vi*100+.5)/100}function qp(t){return Math.round((t*vi+5)/vi*256)/256}function Gg(t){t.width?(t.wpx=_f(t.width),t.wch=yf(t.wpx),t.MDW=vi):t.wpx?(t.wch=yf(t.wpx),t.width=qp(t.wch),t.MDW=vi):typeof t.wch=="number"&&(t.width=qp(t.wch),t.wpx=_f(t.width),t.MDW=vi),t.customWidth&&delete t.customWidth}var eb=96,EA=eb;function xf(t){return t*96/EA}function wA(t){return t*EA/96}function tb(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=le("numFmt",null,{numFmtId:n,formatCode:Je(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=le("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function rb(t){var e=[];return e[e.length]=le("cellXfs",null),t.forEach(function(r){e[e.length]=le("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=le("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function TA(t,e){var r=[Dt,le("styleSheet",null,{xmlns:Ho[0],"xmlns:vt":jt.vt})],n;return t.SSF&&(n=tb(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=rb(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function nb(t,e){var r=t.read_shift(2),n=gr(t);return[r,n]}function ib(t,e,r){r||(r=Z(6+4*e.length)),r.write_shift(2,t),zt(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function sb(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=G5(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(n.underline=a);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=H5(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=gr(t),n}function ab(t,e){e||(e=Z(25+4*32)),e.write_shift(2,t.sz*20),K5(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),gf(t.color,e);var n=0;return t.scheme=="major"&&(n=1),t.scheme=="minor"&&(n=2),e.write_shift(1,n),zt(t.name,e),e.length>e.l?e.slice(0,e.l):e}var ob=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],yd,lb=Xn;function Zy(t,e){e||(e=Z(4*3+8*7+16*1)),yd||(yd=Fg(ob));var r=yd[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(gf({auto:1},e),gf({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function ub(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function SA(t,e,r){r||(r=Z(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function vl(t,e){return e||(e=Z(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var cb=Xn;function hb(t,e){return e||(e=Z(51)),e.write_shift(1,0),vl(null,e),vl(null,e),vl(null,e),vl(null,e),vl(null,e),e.length>e.l?e.slice(0,e.l):e}function fb(t,e){return e||(e=Z(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,+t.builtinId),e.write_shift(1,0),mf(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function db(t,e,r){var n=Z(2052);return n.write_shift(4,t),mf(e,n),mf(r,n),n.length>n.l?n.slice(0,n.l):n}function pb(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(re(t,615,Cn(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&re(t,44,ib(i,e[i]))}),re(t,616))}}function mb(t){var e=1;re(t,611,Cn(e)),re(t,43,ab({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),re(t,612)}function gb(t){var e=2;re(t,603,Cn(e)),re(t,45,Zy({patternType:"none"})),re(t,45,Zy({patternType:"gray125"})),re(t,604)}function vb(t){var e=1;re(t,613,Cn(e)),re(t,46,hb()),re(t,614)}function _b(t){var e=1;re(t,626,Cn(e)),re(t,47,SA({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),re(t,627)}function yb(t,e){re(t,617,Cn(e.length)),e.forEach(function(r){re(t,47,SA(r,0))}),re(t,618)}function xb(t){var e=1;re(t,619,Cn(e)),re(t,48,fb({xfId:0,builtinId:0,name:"Normal"})),re(t,620)}function Eb(t){var e=0;re(t,505,Cn(e)),re(t,506)}function wb(t){var e=0;re(t,508,db(e,"TableStyleMedium9","PivotStyleMedium4")),re(t,509)}function Tb(t,e){var r=Lr();return re(r,278),pb(r,t.SSF),mb(r),gb(r),vb(r),_b(r),yb(r,e.cellXfs),xb(r),Eb(r),wb(r),re(r,279),r.end()}function AA(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Dt];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Sb(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:gr(t)}}function Ab(t){var e=Z(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),zt(t.name,e),e.slice(0,e.l)}function Ib(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function Cb(t){var e=Z(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function kb(t,e){var r=Z(8+2*e.length);return r.write_shift(4,t),zt(e,r),r.slice(0,r.l)}function Rb(t){return t.l+=4,t.read_shift(4)!=0}function Pb(t,e){var r=Z(8);return r.write_shift(4,t),r.write_shift(4,1),r}function Nb(){var t=Lr();return re(t,332),re(t,334,Cn(1)),re(t,335,Ab({name:"XLDAPR",version:12e4,flags:3496657072})),re(t,336),re(t,339,kb(1,"XLDAPR")),re(t,52),re(t,35,Cn(514)),re(t,4096,Cn(0)),re(t,4097,nn(1)),re(t,36),re(t,53),re(t,340),re(t,337,Pb(1)),re(t,51,Cb([[1,0]])),re(t,338),re(t,333),t.end()}function IA(){var t=[Dt];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function Db(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=tt(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var ro=1024;function CA(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[le("xml",null,{"xmlns:v":Wr.v,"xmlns:o":Wr.o,"xmlns:x":Wr.x,"xmlns:mv":Wr.mv}).replace(/\/>/,">"),le("o:shapelayout",le("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),le("v:shapetype",[le("v:stroke",null,{joinstyle:"miter"}),le("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];ro<t*1e3;)ro+=1e3;return e.forEach(function(s){var a=$t(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?le("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=le("v:fill",l,o),h={on:"t",obscured:"t"};++ro,i=i.concat(["<v:shape"+Pu({id:"_x0000_s"+ro,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,le("v:shadow",null,h),le("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Jt("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),Jt("x:AutoFill","False"),Jt("x:Row",String(a.r)),Jt("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function kA(t){var e=[Dt,le("comments",null,{xmlns:Ho[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var s=Je(i.a);r.indexOf(s)==-1&&(r.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(Je(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(Jt("t",Je(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(Jt("t",Je(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function Ob(t,e,r){var n=[Dt,le("ThreadedComments",null,{xmlns:jt.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),n.push(le("threadedComment",Jt("text",a.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function Fb(t){var e=[Dt,le("personList",null,{xmlns:jt.TCMNT,"xmlns:x":Ho[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(le("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function Lb(t){var e={};e.iauthor=t.read_shift(4);var r=Ca(t);return e.rfx=r.s,e.ref=tt(r.s),t.l+=16,e}function Mb(t,e){return e==null&&(e=Z(36)),e.write_shift(4,t[1].iauthor),Ko(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var bb=gr;function Vb(t){return zt(t.slice(0,54))}function Bb(t){var e=Lr(),r=[];return re(e,628),re(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),re(e,632,Vb(i.a)))})}),re(e,631),re(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:$t(n[0]),e:$t(n[0])};re(e,635,Mb([s,i])),i.t&&i.t.length>0&&re(e,637,j5(i)),re(e,636),delete i.iauthor})}),re(e,634),re(e,629),e.end()}function Ub(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&rt.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var RA=["xlsb","xlsm","xlam","biff8","xla"],jb=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,h=a.length>0?parseInt(a,10)|0:0;return o?h+=e.c:--h,l?u+=e.r:--u,i+(o?"":"$")+mr(h)+(l?"":"$")+tr(u)}return function(i,s){return e=s,i.replace(t,r)}}(),Kg=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,qg=function(){return function(e,r){return e.replace(Kg,function(n,i,s,a,o,l){var u=jg(a)-(s?0:r.c),h=Ug(l)-(o?0:r.r),f=h==0?"":o?h+1:"["+h+"]",d=u==0?"":s?u+1:"["+u+"]";return i+"R"+f+"C"+d})}}();function $b(t,e){return t.replace(Kg,function(r,n,i,s,a,o){return n+(i=="$"?i+s:mr(jg(s)+e.c))+(a=="$"?a+o:tr(Ug(o)+e.r))})}function zb(t){return t.length!=1}function Ct(t){t.l+=1}function ws(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function PA(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return NA(t);r.biff==12&&(n=4)}var i=t.read_shift(n),s=t.read_shift(n),a=ws(t),o=ws(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function NA(t){var e=ws(t),r=ws(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function Wb(t,e,r){if(r.biff<8)return NA(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),s=ws(t),a=ws(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function DA(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return Hb(t);var n=t.read_shift(r&&r.biff==12?4:2),i=ws(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function Hb(t){var e=ws(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function Gb(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Kb(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return qb(t);var i=t.read_shift(n>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function qb(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function Xb(t,e,r){var n=(t[t.l++]&96)>>5,i=PA(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function Yb(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=PA(t,s,r);return[n,i,a]}function Qb(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Jb(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,i]}function Zb(t,e,r){var n=(t[t.l++]&96)>>5,i=Wb(t,e-1,r);return[n,i]}function e9(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function ex(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function t9(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function r9(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function n9(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function i9(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function s9(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function OA(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function a9(t){return t.read_shift(2),OA(t)}function o9(t){return t.read_shift(2),OA(t)}function l9(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=DA(t,0,r);return[n,i]}function u9(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=Kb(t,0,r);return[n,i]}function c9(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=DA(t,0,r);return[n,i,s]}function h9(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[hV[i],MA[i],n]}function f9(t,e,r){var n=t[t.l++],i=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:d9(t);return[i,(s[0]===0?MA:cV)[s[1]]]}function d9(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function p9(t,e,r){t.l+=r&&r.biff==2?3:4}function m9(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function g9(t){return t.l++,ec[t.read_shift(1)]}function v9(t){return t.l++,t.read_shift(2)}function _9(t){return t.l++,t.read_shift(1)!==0}function y9(t){return t.l++,qo(t)}function x9(t,e,r){return t.l++,mA(t,e-1,r)}function E9(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=c8(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=ec[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=qo(t);break;case 2:r[1]=p8(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function w9(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?Ca:v8)(t));return i}function T9(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=E9(t,r.biff);return a}function S9(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function A9(t,e,r){if(r.biff==5)return I9(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[n,i,s]}function I9(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function C9(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function k9(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function R9(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function P9(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,i]}var N9=Xn,D9=Xn,O9=Xn;function tc(t,e,r){return t.l+=2,[Gb(t)]}function Xg(t){return t.l+=6,[]}var F9=tc,L9=Xg,M9=Xg,b9=tc;function FA(t){return t.l+=2,[dA(t),t.read_shift(2)&1]}var V9=tc,B9=FA,U9=Xg,j9=tc,$9=tc,z9=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function W9(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=z9[r>>2&31];return{ixti:e,coltype:r&3,rt:a,idx:n,c:i,C:s}}function H9(t){return t.l+=2,[t.read_shift(4)]}function G9(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function K9(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function q9(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function X9(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function Y9(t){return t.l+=4,[0,0]}var tx={1:{n:"PtgExp",f:m9},2:{n:"PtgTbl",f:O9},3:{n:"PtgAdd",f:Ct},4:{n:"PtgSub",f:Ct},5:{n:"PtgMul",f:Ct},6:{n:"PtgDiv",f:Ct},7:{n:"PtgPower",f:Ct},8:{n:"PtgConcat",f:Ct},9:{n:"PtgLt",f:Ct},10:{n:"PtgLe",f:Ct},11:{n:"PtgEq",f:Ct},12:{n:"PtgGe",f:Ct},13:{n:"PtgGt",f:Ct},14:{n:"PtgNe",f:Ct},15:{n:"PtgIsect",f:Ct},16:{n:"PtgUnion",f:Ct},17:{n:"PtgRange",f:Ct},18:{n:"PtgUplus",f:Ct},19:{n:"PtgUminus",f:Ct},20:{n:"PtgPercent",f:Ct},21:{n:"PtgParen",f:Ct},22:{n:"PtgMissArg",f:Ct},23:{n:"PtgStr",f:x9},26:{n:"PtgSheet",f:G9},27:{n:"PtgEndSheet",f:K9},28:{n:"PtgErr",f:g9},29:{n:"PtgBool",f:_9},30:{n:"PtgInt",f:v9},31:{n:"PtgNum",f:y9},32:{n:"PtgArray",f:e9},33:{n:"PtgFunc",f:h9},34:{n:"PtgFuncVar",f:f9},35:{n:"PtgName",f:S9},36:{n:"PtgRef",f:l9},37:{n:"PtgArea",f:Xb},38:{n:"PtgMemArea",f:C9},39:{n:"PtgMemErr",f:N9},40:{n:"PtgMemNoMem",f:D9},41:{n:"PtgMemFunc",f:k9},42:{n:"PtgRefErr",f:R9},43:{n:"PtgAreaErr",f:Qb},44:{n:"PtgRefN",f:u9},45:{n:"PtgAreaN",f:Zb},46:{n:"PtgMemAreaN",f:q9},47:{n:"PtgMemNoMemN",f:X9},57:{n:"PtgNameX",f:A9},58:{n:"PtgRef3d",f:c9},59:{n:"PtgArea3d",f:Yb},60:{n:"PtgRefErr3d",f:P9},61:{n:"PtgAreaErr3d",f:Jb},255:{}},Q9={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},J9={1:{n:"PtgElfLel",f:FA},2:{n:"PtgElfRw",f:j9},3:{n:"PtgElfCol",f:F9},6:{n:"PtgElfRwV",f:$9},7:{n:"PtgElfColV",f:b9},10:{n:"PtgElfRadical",f:V9},11:{n:"PtgElfRadicalS",f:U9},13:{n:"PtgElfColS",f:L9},15:{n:"PtgElfColSV",f:M9},16:{n:"PtgElfRadicalLel",f:B9},25:{n:"PtgList",f:W9},29:{n:"PtgSxName",f:H9},255:{}},Z9={0:{n:"PtgAttrNoop",f:Y9},1:{n:"PtgAttrSemi",f:s9},2:{n:"PtgAttrIf",f:n9},4:{n:"PtgAttrChoose",f:t9},8:{n:"PtgAttrGoto",f:r9},16:{n:"PtgAttrSum",f:p9},32:{n:"PtgAttrBaxcel",f:ex},33:{n:"PtgAttrBaxcel",f:ex},64:{n:"PtgAttrSpace",f:a9},65:{n:"PtgAttrSpaceSemi",f:o9},128:{n:"PtgAttrIfError",f:i9},255:{}};function eV(t,e,r,n){if(n.biff<8)return Xn(t,e);for(var i=t.l+e,s=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=T9(t,0,n),s.push(r[a][1]);break;case"PtgMemArea":r[a][2]=w9(t,r[a][1],n),s.push(r[a][2]);break;case"PtgExp":n&&n.biff==12&&(r[a][1][1]=t.read_shift(4),s.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0]}return e=i-t.l,e!==0&&s.push(Xn(t,e)),s}function tV(t,e,r){for(var n=t.l+e,i,s,a=[];n!=t.l;)e=n-t.l,s=t[t.l],i=tx[s]||tx[Q9[s]],(s===24||s===25)&&(i=(s===24?J9:Z9)[t[t.l+1]]),!i||!i.f?Xn(t,e):a.push([i.n,i.f(t,e,r)]);return a}function rV(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var nV={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function iV(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function LA(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function rx(t,e,r){var n=LA(t,e,r);return n=="#REF"?n:iV(n,r)}function Oo(t,e,r,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,u,h,f=0,d=0,m,y="";if(!t[0]||!t[0][0])return"";for(var g=-1,v="",S=0,E=t[0].length;S<E;++S){var I=t[0][S];switch(I[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),g>=0){switch(t[0][g][1][0]){case 0:v=wt(" ",t[0][g][1][1]);break;case 1:v=wt("\r",t[0][g][1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}u=u+v,g=-1}o.push(u+nV[I[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=ql(I[1][1],a,i),o.push(Xl(h,s));break;case"PtgRefN":h=r?ql(I[1][1],r,i):I[1][1],o.push(Xl(h,s));break;case"PtgRef3d":f=I[1][1],h=ql(I[1][2],a,i),y=rx(n,f,i),o.push(y+"!"+Xl(h,s));break;case"PtgFunc":case"PtgFuncVar":var V=I[1][0],z=I[1][1];V||(V=0),V&=127;var X=V==0?[]:o.slice(-V);o.length-=V,z==="User"&&(z=X.shift()),o.push(z+"("+X.join(",")+")");break;case"PtgBool":o.push(I[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(I[1]);break;case"PtgNum":o.push(String(I[1]));break;case"PtgStr":o.push('"'+I[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(I[1]);break;case"PtgAreaN":m=Uy(I[1][1],r?{s:r}:a,i),o.push(vd(m,i));break;case"PtgArea":m=Uy(I[1][1],a,i),o.push(vd(m,i));break;case"PtgArea3d":f=I[1][1],m=I[1][2],y=rx(n,f,i),o.push(y+"!"+vd(m,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=I[1][2];var T=(n.names||[])[d-1]||(n[0]||[])[d],w=T?T.Name:"SH33TJSNAME"+String(d);w&&w.slice(0,6)=="_xlfn."&&!i.xlfn&&(w=w.slice(6)),o.push(w);break;case"PtgNameX":var A=I[1][1];d=I[1][2];var k;if(i.biff<=5)A<0&&(A=-A),n[A]&&(k=n[A][d]);else{var O="";if(((n[A]||[])[0]||[])[0]==14849||(((n[A]||[])[0]||[])[0]==1025?n[A][d]&&n[A][d].itab>0&&(O=n.SheetNames[n[A][d].itab-1]+"!"):O=n.SheetNames[d-1]+"!"),n[A]&&n[A][d])O+=n[A][d].Name;else if(n[0]&&n[0][d])O+=n[0][d].Name;else{var b=(LA(n,A,i)||"").split(";;");b[d-1]?O=b[d-1]:O+="SH33TJSERRX"}o.push(O);break}k||(k={Name:"SH33TJSERRY"}),o.push(k.Name);break;case"PtgParen":var N="(",De=")";if(g>=0){switch(v="",t[0][g][1][0]){case 2:N=wt(" ",t[0][g][1][1])+N;break;case 3:N=wt("\r",t[0][g][1][1])+N;break;case 4:De=wt(" ",t[0][g][1][1])+De;break;case 5:De=wt("\r",t[0][g][1][1])+De;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][g][1][0])}g=-1}o.push(N+o.pop()+De);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":h={c:I[1][1],r:I[1][0]};var Ie={c:r.c,r:r.r};if(n.sharedf[tt(h)]){var mt=n.sharedf[tt(h)];o.push(Oo(mt,a,Ie,n,i))}else{var Ge=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(h.c<u[0].s.c||h.c>u[0].e.c)&&!(h.r<u[0].s.r||h.r>u[0].e.r)){o.push(Oo(u[1],a,Ie,n,i)),Ge=!0;break}Ge||o.push(I[1])}break;case"PtgArray":o.push("{"+rV(I[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=S;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+I[1].idx+"[#"+I[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(I));default:throw new Error("Unrecognized Formula Token: "+String(I))}var ce=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&g>=0&&ce.indexOf(t[0][S][0])==-1){I=t[0][g];var ye=!0;switch(I[1][0]){case 4:ye=!1;case 0:v=wt(" ",I[1][1]);break;case 5:ye=!1;case 1:v=wt("\r",I[1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+I[1][0])}o.push((ye?v:"")+o.pop()+(ye?"":v)),g=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function sV(t){if(t==null){var e=Z(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return da(t);return da(0)}function aV(t,e,r,n,i){var s=pa(e,r,i),a=sV(t.v),o=Z(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var u=Z(t.bf.length),h=0;h<t.bf.length;++h)u[h]=t.bf[h];var f=Qt([s,a,o,u]);return f}function m0(t,e,r){var n=t.read_shift(4),i=tV(t,n,r),s=t.read_shift(4),a=s>0?eV(t,s,i,r):null;return[i,a]}var oV=m0,g0=m0,lV=m0,uV=m0,cV={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},MA={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},hV={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function fV(t){var e="of:="+t.replace(Kg,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function dV(t){return t.replace(/\./,"!")}var Yl=typeof Map<"u";function Yg(t,e,r){var n=0,i=t.length;if(r){if(Yl?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var s=Yl?r.get(e):r[e];n<s.length;++n)if(t[s[n]].t===e)return t.Count++,s[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(Yl?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function v0(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(vi=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=yf(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=qp(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function bA(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function Rs(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){DS(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===n)return i;return t[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function pV(t,e,r){if(t&&t["!ref"]){var n=ht(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function mV(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+Nt(t[r])+'"/>';return e+"</mergeCells>"}function gV(t,e,r,n,i){var s=!1,a={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}s=!0,a.codeName=Ru(Je(l))}if(t&&t["!outline"]){var u={summaryBelow:1,summaryRight:1};t["!outline"].above&&(u.summaryBelow=0),t["!outline"].left&&(u.summaryRight=0),o=(o||"")+le("outlinePr",null,u)}!s&&!o||(i[i.length]=le("sheetPr",o,a))}var vV=["objects","scenarios","selectLockedCells","selectUnlockedCells"],_V=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function yV(t){var e={sheet:1};return vV.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),_V.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=xA(t.password).toString(16).toUpperCase()),le("sheetProtection",null,e)}function xV(t){return bA(t),le("pageMargins",null,t)}function EV(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=le("col",null,v0(i,n)));return r[r.length]="</cols>",r.join("")}function wV(t,e,r,n){var i=typeof t.ref=="string"?t.ref:Nt(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,a=Yr(i);a.s.r==a.e.r&&(a.e.r=Yr(e["!ref"]).e.r,i=Nt(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),le("autoFilter",null,{ref:i})}function TV(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),le("sheetViews",le("sheetView",null,i),{})}function SV(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=ec[t.v];break;case"d":n&&n.cellDates?i=Sr(t.v,-1).toISOString():(t=br(t),t.t="n",i=""+(t.v=Mr(Sr(t.v)))),typeof t.z>"u"&&(t.z=Tt[14]);break;default:i=t.v;break}var o=Jt("v",Je(i)),l={r:e},u=Rs(n.cellXfs,t,n);switch(u!==0&&(l.s=u),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Jt("v",""+Yg(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var h=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=le("f",Je(t.f),h)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),le("c",o,l)}function AV(t,e,r,n){var i=[],s=[],a=ht(t["!ref"]),o="",l,u="",h=[],f=0,d=0,m=t["!rows"],y=Array.isArray(t),g={r:u},v,S=-1;for(d=a.s.c;d<=a.e.c;++d)h[d]=mr(d);for(f=a.s.r;f<=a.e.r;++f){for(s=[],u=tr(f),d=a.s.c;d<=a.e.c;++d){l=h[d]+u;var E=y?(t[f]||[])[d]:t[l];E!==void 0&&(o=SV(E,l,t,e))!=null&&s.push(o)}(s.length>0||m&&m[f])&&(g={r:u},m&&m[f]&&(v=m[f],v.hidden&&(g.hidden=1),S=-1,v.hpx?S=xf(v.hpx):v.hpt&&(S=v.hpt),S>-1&&(g.ht=S,g.customHeight=1),v.level&&(g.outlineLevel=v.level)),i[i.length]=le("row",s.join(""),g))}if(m)for(;f<m.length;++f)m&&m[f]&&(g={r:f+1},v=m[f],v.hidden&&(g.hidden=1),S=-1,v.hpx?S=xf(v.hpx):v.hpt&&(S=v.hpt),S>-1&&(g.ht=S,g.customHeight=1),v.level&&(g.outlineLevel=v.level),i[i.length]=le("row","",g));return i.join("")}function VA(t,e,r,n){var i=[Dt,le("worksheet",null,{xmlns:Ho[0],"xmlns:r":jt.r})],s=r.SheetNames[t],a=0,o="",l=r.Sheets[s];l==null&&(l={});var u=l["!ref"]||"A1",h=ht(u);if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575),u=Nt(h)}n||(n={}),l["!comments"]=[];var f=[];gV(l,r,t,e,i),i[i.length]=le("dimension",null,{ref:u}),i[i.length]=TV(l,e,t,r),e.sheetFormat&&(i[i.length]=le("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=EV(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=AV(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=yV(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=wV(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=mV(l["!merges"]));var d=-1,m,y=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(m={ref:g[0]},g[1].Target.charAt(0)!="#"&&(y=Qe(n,-1,Je(g[1].Target).replace(/#.*$/,""),We.HLINK),m["r:id"]="rId"+y),(d=g[1].Target.indexOf("#"))>-1&&(m.location=Je(g[1].Target.slice(d+1))),g[1].Tooltip&&(m.tooltip=Je(g[1].Tooltip)),i[i.length]=le("hyperlink",null,m))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=xV(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Jt("ignoredErrors",le("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(y=Qe(n,-1,"../drawings/drawing"+(t+1)+".xml",We.DRAW),i[i.length]=le("drawing",null,{"r:id":"rId"+y}),l["!drawing"]=f),l["!comments"].length>0&&(y=Qe(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",We.VML),i[i.length]=le("legacyDrawing",null,{"r:id":"rId"+y}),l["!legacy"]=y),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function IV(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function CV(t,e,r){var n=Z(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var s=320;i.hpx?s=xf(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var u={r:t,c:0},h=0;h<16;++h)if(!(e.s.c>h+1<<10||e.e.c<h<<10)){for(var f=-1,d=-1,m=h<<10;m<h+1<<10;++m){u.c=m;var y=Array.isArray(r)?(r[u.r]||[])[u.c]:r[tt(u)];y&&(f<0&&(f=m),d=m)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,d))}var g=n.l;return n.l=l,n.write_shift(4,o),n.l=g,n.length>n.l?n.slice(0,n.l):n}function kV(t,e,r,n){var i=CV(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&re(t,0,i)}var RV=Ca,PV=Ko;function NV(){}function DV(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=$5(t),r}function OV(t,e,r){r==null&&(r=Z(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return gf({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),ZS(t,r),r.slice(0,r.l)}function FV(t){var e=dn(t);return[e]}function LV(t,e,r){return r==null&&(r=Z(8)),Sa(e,r)}function MV(t){var e=Aa(t);return[e]}function bV(t,e,r){return r==null&&(r=Z(4)),Ia(e,r)}function VV(t){var e=dn(t),r=t.read_shift(1);return[e,r,"b"]}function BV(t,e,r){return r==null&&(r=Z(9)),Sa(e,r),r.write_shift(1,t.v?1:0),r}function UV(t){var e=Aa(t),r=t.read_shift(1);return[e,r,"b"]}function jV(t,e,r){return r==null&&(r=Z(5)),Ia(e,r),r.write_shift(1,t.v?1:0),r}function $V(t){var e=dn(t),r=t.read_shift(1);return[e,r,"e"]}function zV(t,e,r){return r==null&&(r=Z(9)),Sa(e,r),r.write_shift(1,t.v),r}function WV(t){var e=Aa(t),r=t.read_shift(1);return[e,r,"e"]}function HV(t,e,r){return r==null&&(r=Z(8)),Ia(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function GV(t){var e=dn(t),r=t.read_shift(4);return[e,r,"s"]}function KV(t,e,r){return r==null&&(r=Z(12)),Sa(e,r),r.write_shift(4,e.v),r}function qV(t){var e=Aa(t),r=t.read_shift(4);return[e,r,"s"]}function XV(t,e,r){return r==null&&(r=Z(8)),Ia(e,r),r.write_shift(4,e.v),r}function YV(t){var e=dn(t),r=qo(t);return[e,r,"n"]}function QV(t,e,r){return r==null&&(r=Z(16)),Sa(e,r),da(t.v,r),r}function JV(t){var e=Aa(t),r=qo(t);return[e,r,"n"]}function ZV(t,e,r){return r==null&&(r=Z(12)),Ia(e,r),da(t.v,r),r}function eB(t){var e=dn(t),r=eA(t);return[e,r,"n"]}function tB(t,e,r){return r==null&&(r=Z(12)),Sa(e,r),tA(t.v,r),r}function rB(t){var e=Aa(t),r=eA(t);return[e,r,"n"]}function nB(t,e,r){return r==null&&(r=Z(8)),Ia(e,r),tA(t.v,r),r}function iB(t){var e=dn(t),r=$g(t);return[e,r,"is"]}function sB(t){var e=dn(t),r=gr(t);return[e,r,"str"]}function aB(t,e,r){return r==null&&(r=Z(12+4*t.v.length)),Sa(e,r),zt(t.v,r),r.length>r.l?r.slice(0,r.l):r}function oB(t){var e=Aa(t),r=gr(t);return[e,r,"str"]}function lB(t,e,r){return r==null&&(r=Z(8+4*t.v.length)),Ia(e,r),zt(t.v,r),r.length>r.l?r.slice(0,r.l):r}function uB(t,e,r){var n=t.l+e,i=dn(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(r.cellFormula){t.l+=2;var o=g0(t,n-t.l,r);a[3]=Oo(o,null,i,r.supbooks,r)}else t.l=n;return a}function cB(t,e,r){var n=t.l+e,i=dn(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(r.cellFormula){t.l+=2;var o=g0(t,n-t.l,r);a[3]=Oo(o,null,i,r.supbooks,r)}else t.l=n;return a}function hB(t,e,r){var n=t.l+e,i=dn(t);i.r=r["!row"];var s=qo(t),a=[i,s,"n"];if(r.cellFormula){t.l+=2;var o=g0(t,n-t.l,r);a[3]=Oo(o,null,i,r.supbooks,r)}else t.l=n;return a}function fB(t,e,r){var n=t.l+e,i=dn(t);i.r=r["!row"];var s=gr(t),a=[i,s,"str"];if(r.cellFormula){t.l+=2;var o=g0(t,n-t.l,r);a[3]=Oo(o,null,i,r.supbooks,r)}else t.l=n;return a}var dB=Ca,pB=Ko;function mB(t,e){return e==null&&(e=Z(4)),e.write_shift(4,t),e}function gB(t,e){var r=t.l+e,n=Ca(t),i=zg(t),s=gr(t),a=gr(t),o=gr(t);t.l=r;var l={rfx:n,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function vB(t,e){var r=Z(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Ko({s:$t(t[0]),e:$t(t[0])},r),Wg("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return zt(i||"",r),zt(t[1].Tooltip||"",r),zt("",r),r.slice(0,r.l)}function _B(){}function yB(t,e,r){var n=t.l+e,i=rA(t),s=t.read_shift(1),a=[i];if(a[2]=s,r.cellFormula){var o=oV(t,n-t.l,r);a[1]=o}else t.l=n;return a}function xB(t,e,r){var n=t.l+e,i=Ca(t),s=[i];if(r.cellFormula){var a=uV(t,n-t.l,r);s[1]=a,t.l=n}else t.l=n;return s}function EB(t,e,r){r==null&&(r=Z(18));var n=v0(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var BA=["left","right","top","bottom","header","footer"];function wB(t){var e={};return BA.forEach(function(r){e[r]=qo(t)}),e}function TB(t,e){return e==null&&(e=Z(6*8)),bA(t),BA.forEach(function(r){da(t[r],e)}),e}function SB(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function AB(t,e,r){r==null&&(r=Z(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function IB(t){var e=Z(24);return e.write_shift(4,4),e.write_shift(4,1),Ko(t,e),e}function CB(t,e){return e==null&&(e=Z(16*4+2)),e.write_shift(2,t.password?xA(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function kB(){}function RB(){}function PB(t,e,r,n,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=br(e),e.z=e.z||Tt[14],e.v=Mr(Sr(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=Rs(i.cellXfs,e,i),e.l&&s["!links"].push([tt(l),e.l]),e.c&&s["!comments"].push([tt(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=Yg(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?re(t,18,XV(e,l)):re(t,7,KV(e,l))):(l.t="str",a?re(t,17,lB(e,l)):re(t,6,aB(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?re(t,13,nB(e,l)):re(t,2,tB(e,l)):a?re(t,16,ZV(e,l)):re(t,5,QV(e,l)),!0;case"b":return l.t="b",a?re(t,15,jV(e,l)):re(t,4,BV(e,l)),!0;case"e":return l.t="e",a?re(t,14,HV(e,l)):re(t,3,zV(e,l)),!0}return a?re(t,12,bV(e,l)):re(t,1,LV(e,l)),!0}function NB(t,e,r,n){var i=ht(e["!ref"]||"A1"),s,a="",o=[];re(t,145);var l=Array.isArray(e),u=i.e.r;e["!rows"]&&(u=Math.max(i.e.r,e["!rows"].length-1));for(var h=i.s.r;h<=u;++h){a=tr(h),kV(t,e,i,h);var f=!1;if(h<=i.e.r)for(var d=i.s.c;d<=i.e.c;++d){h===i.s.r&&(o[d]=mr(d)),s=o[d]+a;var m=l?(e[h]||[])[d]:e[s];if(!m){f=!1;continue}f=PB(t,m,h,d,n,e,f)}}re(t,146)}function DB(t,e){!e||!e["!merges"]||(re(t,177,mB(e["!merges"].length)),e["!merges"].forEach(function(r){re(t,176,pB(r))}),re(t,178))}function OB(t,e){!e||!e["!cols"]||(re(t,390),e["!cols"].forEach(function(r,n){r&&re(t,60,EB(n,r))}),re(t,391))}function FB(t,e){!e||!e["!ref"]||(re(t,648),re(t,649,IB(ht(e["!ref"]))),re(t,650))}function LB(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=Qe(r,-1,n[1].Target.replace(/#.*$/,""),We.HLINK);re(t,494,vB(n,i))}}),delete e["!links"]}function MB(t,e,r,n){if(e["!comments"].length>0){var i=Qe(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",We.VML);re(t,551,Wg("rId"+i)),e["!legacy"]=i}}function bB(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:Nt(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=Yr(s);o.s.r==o.e.r&&(o.e.r=Yr(e["!ref"]).e.r,s=Nt(o));for(var l=0;l<a.length;++l){var u=a[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),re(t,161,Ko(ht(s))),re(t,162)}}function VB(t,e,r){re(t,133),re(t,137,AB(e,r)),re(t,138),re(t,134)}function BB(t,e){e["!protect"]&&re(t,535,CB(e["!protect"]))}function UB(t,e,r,n){var i=Lr(),s=r.SheetNames[t],a=r.Sheets[s]||{},o=s;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=ht(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],re(i,129),(r.vbaraw||a["!outline"])&&re(i,147,OV(o,a["!outline"])),re(i,148,PV(l)),VB(i,a,r.Workbook),OB(i,a),NB(i,a,t,e),BB(i,a),bB(i,a,r,t),DB(i,a),LB(i,a,n),a["!margins"]&&re(i,476,TB(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&FB(i,a),MB(i,a,t,n),re(i,130),i.end()}function jB(t,e){t.l+=10;var r=gr(t);return{name:r}}var $B=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function zB(t){return!t.Workbook||!t.Workbook.WBProps?"false":x5(t.Workbook.WBProps.date1904)?"true":"false"}var WB="][*?/\\".split("");function UA(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return WB.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function HB(t,e,r){t.forEach(function(n,i){UA(n);for(var s=0;s<i;++s)if(n==t[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var a=e&&e[i]&&e[i].CodeName||n;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function GB(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];HB(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)pV(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function jA(t){var e=[Dt];e[e.length]=le("workbook",null,{xmlns:Ho[0],"xmlns:r":jt.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&($B.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=le("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:Je(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=le("sheet",null,a)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=le("definedName",Je(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function KB(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=Kp(t),r.name=gr(t),r}function qB(t,e){return e||(e=Z(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),Wg(t.strRelID,e),zt(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function XB(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?gr(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function YB(t,e){e||(e=Z(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),ZS(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function QB(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=z5(t),a=lV(t,0,r),o=zg(t);t.l=n;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function JB(t,e){re(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};re(t,156,qB(i))}re(t,144)}function ZB(t,e){e||(e=Z(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return zt("SheetJS",e),zt(uf.version,e),zt(uf.version,e),zt("7262",e),e.length>e.l?e.slice(0,e.l):e}function e7(t,e){e||(e=Z(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function t7(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&s==-1&&(s=n);s>i||(re(t,135),re(t,158,e7(i)),re(t,136))}}function r7(t,e){var r=Lr();return re(r,131),re(r,128,ZB()),re(r,153,YB(t.Workbook&&t.Workbook.WBProps||null)),t7(r,t),JB(r,t),re(r,132),r.end()}function n7(t,e,r){return(e.slice(-4)===".bin"?r7:jA)(t)}function i7(t,e,r,n,i){return(e.slice(-4)===".bin"?UB:VA)(t,r,n,i)}function s7(t,e,r){return(e.slice(-4)===".bin"?Tb:TA)(t,r)}function a7(t,e,r){return(e.slice(-4)===".bin"?Y8:yA)(t,r)}function o7(t,e,r){return(e.slice(-4)===".bin"?Bb:kA)(t)}function l7(t){return(t.slice(-4)===".bin"?Nb:IA)()}function u7(t,e){var r=[];return t.Props&&r.push(s8(t.Props,e)),t.Custprops&&r.push(a8(t.Props,t.Custprops)),r.join("")}function c7(){return""}function h7(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var s=[];s.push(le("NumberFormat",null,{"ss:Format":Je(Tt[n.numFmtId])}));var a={"ss:ID":"s"+(21+i)};r.push(le("Style",s.join(""),a))}),le("Styles",r.join(""))}function $A(t){return le("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+qg(t.Ref,{r:0,c:0})})}function f7(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push($A(i)))}return le("Names",r.join(""))}function d7(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||s.push($A(o)))}return s.join("")}function p7(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(le("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(le("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(le("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(le("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(Jt("ProtectContents","True")),t["!protect"].objects&&i.push(Jt("ProtectObjects","True")),t["!protect"].scenarios&&i.push(Jt("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(Jt("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(Jt("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":le("WorksheetOptions",i.join(""),{xmlns:Wr.x})}function m7(t){return t.map(function(e){var r=y5(e.t||""),n=le("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return le("Comment",n,{"ss:Author":e.a})}).join("")}function g7(t,e,r,n,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+Je(qg(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=$t(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=Je(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=Je(t.l.Tooltip))),r["!merges"])for(var u=r["!merges"],h=0;h!=u.length;++h)u[h].s.c!=a.c||u[h].s.r!=a.r||(u[h].e.c>u[h].s.c&&(o["ss:MergeAcross"]=u[h].e.c-u[h].s.c),u[h].e.r>u[h].s.r&&(o["ss:MergeDown"]=u[h].e.r-u[h].s.r));var f="",d="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",d=String(t.v);break;case"b":f="Boolean",d=t.v?"1":"0";break;case"e":f="Error",d=ec[t.v];break;case"d":f="DateTime",d=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Tt[14]);break;case"s":f="String",d=_5(t.v||"");break}var m=Rs(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=a.c+1;var y=t.v!=null?d:"",g=t.t=="z"?"":'<Data ss:Type="'+f+'">'+y+"</Data>";return(t.c||[]).length>0&&(g+=m7(t.c)),le("Cell",g,o)}function v7(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=wA(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function _7(t,e,r,n){if(!t["!ref"])return"";var i=ht(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(v,S){Gg(v);var E=!!v.width,I=v0(S,v),V={"ss:Index":S+1};E&&(V["ss:Width"]=_f(I.width)),v.hidden&&(V["ss:Hidden"]="1"),o.push(le("Column",null,V))});for(var l=Array.isArray(t),u=i.s.r;u<=i.e.r;++u){for(var h=[v7(u,(t["!rows"]||[])[u])],f=i.s.c;f<=i.e.c;++f){var d=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>f)&&!(s[a].s.r>u)&&!(s[a].e.c<f)&&!(s[a].e.r<u)){(s[a].s.c!=f||s[a].s.r!=u)&&(d=!0);break}if(!d){var m={r:u,c:f},y=tt(m),g=l?(t[u]||[])[f]:t[y];h.push(g7(g,y,t,e,r,n,m))}}h.push("</Row>"),h.length>2&&o.push(h.join(""))}return o.join("")}function y7(t,e,r){var n=[],i=r.SheetNames[t],s=r.Sheets[i],a=s?d7(s,e,t,r):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=s?_7(s,e,t,r):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(p7(s,e,t,r)),n.join("")}function x7(t,e){e||(e={}),t.SSF||(t.SSF=br(Tt)),t.SSF&&(f0(),h0(t.SSF),e.revssf=d0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Rs(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(u7(t,e)),r.push(c7()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(le("Worksheet",y7(n,e,t),{"ss:Name":Je(t.SheetNames[n])}));return r[2]=h7(t,e),r[3]=f7(t),Dt+le("Workbook",r.join(""),{xmlns:Wr.ss,"xmlns:o":Wr.o,"xmlns:x":Wr.x,"xmlns:ss":Wr.ss,"xmlns:dt":Wr.dt,"xmlns:html":Wr.html})}var xd={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function E7(t,e){var r=[],n=[],i=[],s=0,a,o=Ry($y,"n"),l=Ry(zy,"n");if(t.Props)for(a=ir(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=ir(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Custprops[a[s]]]);var u=[];for(s=0;s<i.length;++s)fA.indexOf(i[s][0])>-1||uA.indexOf(i[s][0])>-1||i[s][1]!=null&&u.push(i[s]);n.length&&rt.utils.cfb_add(e,"/SummaryInformation",qy(n,xd.SI,l,zy)),(r.length||u.length)&&rt.utils.cfb_add(e,"/DocumentSummaryInformation",qy(r,xd.DSI,o,$y,u.length?u:null,xd.UDI))}function w7(t,e){var r=e||{},n=rt.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return rt.utils.cfb_add(n,i,zA(t,r)),r.biff==8&&(t.Props||t.Custprops)&&E7(t,n),r.biff==8&&t.vbaraw&&Ub(n,rt.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var T7={0:{f:IV},1:{f:FV},2:{f:eB},3:{f:$V},4:{f:VV},5:{f:YV},6:{f:sB},7:{f:GV},8:{f:fB},9:{f:hB},10:{f:uB},11:{f:cB},12:{f:MV},13:{f:rB},14:{f:WV},15:{f:UV},16:{f:JV},17:{f:oB},18:{f:qV},19:{f:$g},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:QB},40:{},42:{},43:{f:sb},44:{f:nb},45:{f:lb},46:{f:cb},47:{f:ub},48:{},49:{f:M5},50:{},51:{f:Ib},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:b8},62:{f:iB},63:{f:Db},64:{f:kB},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Xn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:SB},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:DV},148:{f:RV,p:16},151:{f:_B},152:{},153:{f:XB},154:{},155:{},156:{f:KB},157:{},158:{},159:{T:1,f:K8},160:{T:-1},161:{T:1,f:Ca},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:dB},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Sb},336:{T:-1},337:{f:Rb,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Kp},357:{},358:{},359:{},360:{T:1},361:{},362:{f:N8},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:yB},427:{f:xB},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:wB},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:NV},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:gB},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Kp},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:bb},633:{T:1},634:{T:-1},635:{T:1,f:Lb},636:{T:-1},637:{f:U5},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:jB},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:RB},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function ue(t,e,r,n){var i=e;if(!isNaN(i)){var s=n||(r||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&Bg(r)&&t.push(r)}}function S7(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return ue(t,e,r,i);var s=e;if(!isNaN(s)){for(var a=r.parts||[],o=0,l=0,u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;var h=t.next(4);for(h.write_shift(2,s),h.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u;l<i;){for(h=t.next(4),h.write_shift(2,60),u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;h.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u}}}function rc(t,e,r){return t||(t=Z(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function A7(t,e,r,n){var i=Z(9);return rc(i,t,e),pA(r,n||"b",i),i}function I7(t,e,r){var n=Z(8+2*r.length);return rc(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function C7(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Mr(Sr(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?ue(t,2,j8(r,n,i)):ue(t,3,U8(r,n,i));return;case"b":case"e":ue(t,5,A7(r,n,e.v,e.t));return;case"s":case"str":ue(t,4,I7(r,n,(e.v||"").slice(0,255)));return}ue(t,1,rc(null,r,n))}function k7(t,e,r,n){var i=Array.isArray(e),s=ht(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=Nt(s)}for(var u=s.s.r;u<=s.e.r;++u){o=tr(u);for(var h=s.s.c;h<=s.e.c;++h){u===s.s.r&&(l[h]=mr(h)),a=l[h]+o;var f=i?(e[u]||[])[h]:e[a];f&&C7(t,f,u,h)}}}function R7(t,e){for(var r=e||{},n=Lr(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ue(n,r.biff==4?1033:r.biff==3?521:9,Hg(t,16,r)),k7(n,t.Sheets[t.SheetNames[i]],i,r),ue(n,10),n.end()}function P7(t,e,r){ue(t,49,T8({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function N7(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&ue(t,1054,I8(i,e[i],r))})}function D7(t,e){var r=Z(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ue(t,2151,r),r=Z(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),vA(ht(e["!ref"]||"A1"),r),r.write_shift(4,4),ue(t,2152,r)}function O7(t,e){for(var r=0;r<16;++r)ue(t,224,Yy({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){ue(t,224,Yy(n,0,e))})}function F7(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];ue(t,440,F8(n)),n[1].Tooltip&&ue(t,2048,L8(n))}delete e["!links"]}function L7(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&ue(t,125,V8(v0(i,n),i))})}}function M7(t,e,r,n,i){var s=16+Rs(i.cellXfs,e,i);if(e.v==null&&!e.bf){ue(t,513,pa(r,n,s));return}if(e.bf)ue(t,6,aV(e,r,n,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?Mr(Sr(e.v)):e.v;ue(t,515,P8(r,n,a,s));break;case"b":case"e":ue(t,517,R8(r,n,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=Yg(i.Strings,e.v,i.revStrings);ue(t,253,S8(r,n,o,s))}else ue(t,516,A8(r,n,(e.v||"").slice(0,255),s,i));break;default:ue(t,513,pa(r,n,s))}}function b7(t,e,r){var n=Lr(),i=r.SheetNames[t],s=r.Sheets[i]||{},a=(r||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),u=e.biff==8,h,f="",d=[],m=ht(s["!ref"]||"A1"),y=u?65536:16384;if(m.e.c>255||m.e.r>=y){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,y-1)}ue(n,2057,Hg(r,16,e)),ue(n,13,nn(1)),ue(n,12,nn(100)),ue(n,15,Er(!0)),ue(n,17,Er(!1)),ue(n,16,da(.001)),ue(n,95,Er(!0)),ue(n,42,Er(!1)),ue(n,43,Er(!1)),ue(n,130,nn(1)),ue(n,128,k8()),ue(n,131,Er(!1)),ue(n,132,Er(!1)),u&&L7(n,s["!cols"]),ue(n,512,C8(m,e)),u&&(s["!links"]=[]);for(var g=m.s.r;g<=m.e.r;++g){f=tr(g);for(var v=m.s.c;v<=m.e.c;++v){g===m.s.r&&(d[v]=mr(v)),h=d[v]+f;var S=l?(s[g]||[])[v]:s[h];S&&(M7(n,S,g,v,e),u&&S.l&&s["!links"].push([h,S.l]))}}var E=o.CodeName||o.name||i;return u&&ue(n,574,w8((a.Views||[])[0])),u&&(s["!merges"]||[]).length&&ue(n,229,O8(s["!merges"])),u&&F7(n,s),ue(n,442,gA(E)),u&&D7(n,s),ue(n,10),n.end()}function V7(t,e,r){var n=Lr(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=r.biff==8,l=r.biff==5;if(ue(n,2057,Hg(t,5,r)),r.bookType=="xla"&&ue(n,135),ue(n,225,o?nn(1200):null),ue(n,193,u8(2)),l&&ue(n,191),l&&ue(n,192),ue(n,226),ue(n,92,_8("SheetJS",r)),ue(n,66,nn(o?1200:1252)),o&&ue(n,353,nn(0)),o&&ue(n,448),ue(n,317,B8(t.SheetNames.length)),o&&t.vbaraw&&ue(n,211),o&&t.vbaraw){var u=a.CodeName||"ThisWorkbook";ue(n,442,gA(u))}ue(n,156,nn(17)),ue(n,25,Er(!1)),ue(n,18,Er(!1)),ue(n,19,nn(0)),o&&ue(n,431,Er(!1)),o&&ue(n,444,nn(0)),ue(n,61,E8()),ue(n,64,Er(!1)),ue(n,141,nn(0)),ue(n,34,Er(zB(t)=="true")),ue(n,14,Er(!0)),o&&ue(n,439,Er(!1)),ue(n,218,nn(0)),P7(n,t,r),N7(n,t.SSF,r),O7(n,r),o&&ue(n,352,Er(!1));var h=n.end(),f=Lr();o&&ue(f,140,M8()),o&&r.Strings&&S7(f,252,x8(r.Strings)),ue(f,10);var d=f.end(),m=Lr(),y=0,g=0;for(g=0;g<t.SheetNames.length;++g)y+=(o?12:11)+(o?2:1)*t.SheetNames[g].length;var v=h.length+y+d.length;for(g=0;g<t.SheetNames.length;++g){var S=s[g]||{};ue(m,133,y8({pos:v,hs:S.Hidden||0,dt:0,name:t.SheetNames[g]},r)),v+=e[g].length}var E=m.end();if(y!=E.length)throw new Error("BS8 "+y+" != "+E.length);var I=[];return h.length&&I.push(h),E.length&&I.push(E),d.length&&I.push(d),Qt(I)}function B7(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=br(Tt)),t&&t.SSF&&(f0(),h0(t.SSF),r.revssf=d0(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Qg(r),r.cellXfs=[],Rs(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=b7(i,r,t);return n.unshift(V7(t,n,r)),Qt(n)}function zA(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=Yr(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return B7(t,e);case 4:case 3:case 2:return R7(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function U7(t,e,r,n){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>a)&&!(i[u].e.r<r||i[u].e.c<a)){if(i[u].s.r<r||i[u].s.c<a){o=-1;break}o=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var h=tt({r,c:a}),f=n.dense?(t[r]||[])[a]:t[h],d=f&&f.v!=null&&(f.h||v5(f.w||(ki(f),f.w)||""))||"",m={};o>1&&(m.rowspan=o),l>1&&(m.colspan=l),n.editable?d='<span contenteditable="true">'+d+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+f.l.Target+'">'+d+"</a>")),m.id=(n.id||"sjs")+"-"+h,s.push(le("td",d,m))}}var y="<tr>";return y+s.join("")+"</tr>"}var j7='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',$7="</body></html>";function z7(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function WA(t,e){var r=e||{},n=r.header!=null?r.header:j7,i=r.footer!=null?r.footer:$7,s=[n],a=Yr(t["!ref"]);r.dense=Array.isArray(t),s.push(z7(t,a,r));for(var o=a.s.r;o<=a.e.r;++o)s.push(U7(t,a,o,r));return s.push("</table>"+i),s.join("")}function HA(t,e,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?$t(n.origin):n.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var h=Yr(t["!ref"]);u.s.r=Math.min(u.s.r,h.s.r),u.s.c=Math.min(u.s.c,h.s.c),u.e.r=Math.max(u.e.r,h.e.r),u.e.c=Math.max(u.e.c,h.e.c),i==-1&&(u.e.r=i=h.e.r+1)}var f=[],d=0,m=t["!rows"]||(t["!rows"]=[]),y=0,g=0,v=0,S=0,E=0,I=0;for(t["!cols"]||(t["!cols"]=[]);y<o.length&&g<l;++y){var V=o[y];if(nx(V)){if(n.display)continue;m[g]={hidden:!0}}var z=V.children;for(v=S=0;v<z.length;++v){var X=z[v];if(!(n.display&&nx(X))){var T=X.hasAttribute("data-v")?X.getAttribute("data-v"):X.hasAttribute("v")?X.getAttribute("v"):E5(X.innerHTML),w=X.getAttribute("data-z")||X.getAttribute("z");for(d=0;d<f.length;++d){var A=f[d];A.s.c==S+s&&A.s.r<g+i&&g+i<=A.e.r&&(S=A.e.c+1-s,d=-1)}I=+X.getAttribute("colspan")||1,((E=+X.getAttribute("rowspan")||1)>1||I>1)&&f.push({s:{r:g+i,c:S+s},e:{r:g+i+(E||1)-1,c:S+s+(I||1)-1}});var k={t:"s",v:T},O=X.getAttribute("data-t")||X.getAttribute("t")||"";T!=null&&(T.length==0?k.t=O||"z":n.raw||T.trim().length==0||O=="s"||(T==="TRUE"?k={t:"b",v:!0}:T==="FALSE"?k={t:"b",v:!1}:isNaN(gi(T))?isNaN(ku(T).getDate())||(k={t:"d",v:Sr(T)},n.cellDates||(k={t:"n",v:Mr(k.v)}),k.z=n.dateNF||Tt[14]):k={t:"n",v:gi(T)})),k.z===void 0&&w!=null&&(k.z=w);var b="",N=X.getElementsByTagName("A");if(N&&N.length)for(var De=0;De<N.length&&!(N[De].hasAttribute("href")&&(b=N[De].getAttribute("href"),b.charAt(0)!="#"));++De);b&&b.charAt(0)!="#"&&(k.l={Target:b}),n.dense?(t[g+i]||(t[g+i]=[]),t[g+i][S+s]=k):t[tt({c:S+s,r:g+i})]=k,u.e.c<S+s&&(u.e.c=S+s),S+=I}}++g}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,g-1+i),t["!ref"]=Nt(u),g>=l&&(t["!fullref"]=Nt((u.e.r=o.length-y+g-1+i,u))),t}function GA(t,e){var r=e||{},n=r.dense?[]:{};return HA(n,t,e)}function W7(t,e){return Ta(GA(t,e),e)}function nx(t){var e="",r=H7(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function H7(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var G7=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Pu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Dt+e}}(),ix=function(){var t=function(s){return Je(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,a,o){var l=[];l.push('      <table:table table:name="'+Je(a.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,h=0,f=Yr(s["!ref"]||"A1"),d=s["!merges"]||[],m=0,y=Array.isArray(s);if(s["!cols"])for(h=0;h<=f.e.c;++h)l.push("        <table:table-column"+(s["!cols"][h]?' table:style-name="co'+s["!cols"][h].ods+'"':"")+`></table:table-column>
`);var g="",v=s["!rows"]||[];for(u=0;u<f.s.r;++u)g=v[u]?' table:style-name="ro'+v[u].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;u<=f.e.r;++u){for(g=v[u]?' table:style-name="ro'+v[u].ods+'"':"",l.push("        <table:table-row"+g+`>
`),h=0;h<f.s.c;++h)l.push(e);for(;h<=f.e.c;++h){var S=!1,E={},I="";for(m=0;m!=d.length;++m)if(!(d[m].s.c>h)&&!(d[m].s.r>u)&&!(d[m].e.c<h)&&!(d[m].e.r<u)){(d[m].s.c!=h||d[m].s.r!=u)&&(S=!0),E["table:number-columns-spanned"]=d[m].e.c-d[m].s.c+1,E["table:number-rows-spanned"]=d[m].e.r-d[m].s.r+1;break}if(S){l.push(r);continue}var V=tt({r:u,c:h}),z=y?(s[u]||[])[h]:s[V];if(z&&z.f&&(E["table:formula"]=Je(fV(z.f)),z.F&&z.F.slice(0,V.length)==V)){var X=Yr(z.F);E["table:number-matrix-columns-spanned"]=X.e.c-X.s.c+1,E["table:number-matrix-rows-spanned"]=X.e.r-X.s.r+1}if(!z){l.push(e);continue}switch(z.t){case"b":I=z.v?"TRUE":"FALSE",E["office:value-type"]="boolean",E["office:boolean-value"]=z.v?"true":"false";break;case"n":I=z.w||String(z.v||0),E["office:value-type"]="float",E["office:value"]=z.v||0;break;case"s":case"str":I=z.v==null?"":z.v,E["office:value-type"]="string";break;case"d":I=z.w||Sr(z.v).toISOString(),E["office:value-type"]="date",E["office:date-value"]=Sr(z.v).toISOString(),E["table:style-name"]="ce1";break;default:l.push(e);continue}var T=t(I);if(z.l&&z.l.Target){var w=z.l.Target;w=w.charAt(0)=="#"?"#"+dV(w.slice(1)):w,w.charAt(0)!="#"&&!w.match(/^\w+:/)&&(w="../"+w),T=le("text:a",T,{"xlink:href":w.replace(/&/g,"&amp;")})}l.push("          "+le("table:table-cell",le("text:p",T,{}),E)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var h=0;h<u["!cols"].length;++h)if(u["!cols"][h]){var f=u["!cols"][h];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Gg(f),f.ods=o;var d=u["!cols"][h].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+d+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var h=0;h<u["!rows"].length;++h)if(u["!rows"][h]){u["!rows"][h].ods=l;var f=u["!rows"][h].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[Dt],u=Pu({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),h=Pu({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+u+h+`>
`),l.push(oA().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=a.SheetNames.length;++f)l.push(n(a.Sheets[a.SheetNames[f]],a,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function KA(t,e){if(e.bookType=="fods")return ix(t,e);var r=Lg(),n="",i=[],s=[];return n="mimetype",Oe(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Oe(r,n,ix(t,e)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",Oe(r,n,G7(t,e)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",Oe(r,n,Dt+oA()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",Oe(r,n,i8(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Oe(r,n,r8(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Ef(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function K7(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Tn(Ru(t))}function q7(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function Ts(t){var e=t.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function X7(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=r>=0?0:128}function Nu(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function Ye(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function vo(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Lt(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=Nu(t,r),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:a=4,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 1:a=8,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 2:a=Nu(t,r),o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var u={data:o,type:s};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function Kt(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(Ye(n*8+i.type)),i.type==2&&e.push(Ye(i.data.length)),e.push(i.data))})}),Ts(e)}function vn(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=Nu(t,n),s=Lt(t.slice(n[0],n[0]+i));n[0]+=i;var a={id:vo(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Lt(o.data),u=vo(l[3][0].data);a.messages.push({meta:l,data:t.slice(n[0],n[0]+u)}),n[0]+=u}),(e=s[3])!=null&&e[0]&&(a.merge=vo(s[3][0].data)>>>0>0),r.push(a)}return r}function ba(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:Ye(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Ye(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:Ye(a.data.length)}],n[2].push({data:Kt(a.meta),type:2})});var s=Kt(n);e.push(Ye(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),Ts(e)}function Y7(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=Nu(e,r),i=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var a=e[r[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[r[0]],o>1&&(a|=e[r[0]+1]<<8),o>2&&(a|=e[r[0]+2]<<16),o>3&&(a|=e[r[0]+3]<<24),a>>>=0,a++,r[0]+=o}i.push(e.slice(r[0],r[0]+a)),r[0]+=a;continue}else{var l=0,u=0;if(s==1?(u=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(u=(e[r[0]++]>>2)+1,s==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[Ts(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var h=Ts(i);if(h.length!=n)throw new Error("Unexpected length: ".concat(h.length," != ").concat(n));return h}function _n(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(Y7(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Ts(e)}function Va(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var s=Ye(n),a=s.length;e.push(s),n<=60?(a++,e.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),a+=n,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,r+=n}return Ts(e)}function Ed(t,e){var r=new Uint8Array(32),n=Ef(r),i=12,s=0;switch(r[0]=5,t.t){case"n":r[1]=2,X7(r,i,t.v),s|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,s,!0),r.slice(0,i)}function wd(t,e){var r=new Uint8Array(32),n=Ef(r),i=12,s=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,s,!0),r.slice(0,i)}function Bi(t){var e=Lt(t);return Nu(e[1][0].data)}function Q7(t,e,r){var n,i,s,a;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&vo(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,u=Ef(t[7][0].data),h=0,f=[],d=Ef(t[4][0].data),m=0,y=[],g=0;g<e.length;++g){if(e[g]==null){u.setUint16(g*2,65535,!0),d.setUint16(g*2,65535);continue}u.setUint16(g*2,h,!0),d.setUint16(g*2,m,!0);var v,S;switch(typeof e[g]){case"string":v=Ed({t:"s",v:e[g]},r),S=wd({t:"s",v:e[g]},r);break;case"number":v=Ed({t:"n",v:e[g]},r),S=wd({t:"n",v:e[g]},r);break;case"boolean":v=Ed({t:"b",v:e[g]},r),S=wd({t:"b",v:e[g]},r);break;default:throw new Error("Unsupported value "+e[g])}f.push(v),h+=v.length,y.push(S),m+=S.length,++l}for(t[2][0].data=Ye(l);g<t[7][0].data.length/2;++g)u.setUint16(g*2,65535,!0),d.setUint16(g*2,65535,!0);return t[6][0].data=Ts(f),t[3][0].data=Ts(y),l}function J7(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Yr(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Nt(n)));var s=wf(r,{range:n,header:1}),a=["~Sh33tJ5~"];s.forEach(function(H){return H.forEach(function(j){typeof j=="string"&&a.push(j)})});var o={},l=[],u=rt.read(e.numbers,{type:"base64"});u.FileIndex.map(function(H,j){return[H,u.FullPaths[j]]}).forEach(function(H){var j=H[0],U=H[1];if(j.type==2&&j.name.match(/\.iwa/)){var te=j.content,ge=_n(te),we=vn(ge);we.forEach(function(xe){l.push(xe.id),o[xe.id]={deps:[],location:U,type:vo(xe.messages[0].meta[1][0].data)}})}}),l.sort(function(H,j){return H-j});var h=l.filter(function(H){return H>1}).map(function(H){return[H,Ye(H)]});u.FileIndex.map(function(H,j){return[H,u.FullPaths[j]]}).forEach(function(H){var j=H[0];if(H[1],!!j.name.match(/\.iwa/)){var U=vn(_n(j.content));U.forEach(function(te){te.messages.forEach(function(ge){h.forEach(function(we){te.messages.some(function(xe){return vo(xe.meta[1][0].data)!=11006&&q7(xe.data,we[1])})&&o[we[0]].deps.push(te.id)})})})}});for(var f=rt.find(u,o[1].location),d=vn(_n(f.content)),m,y=0;y<d.length;++y){var g=d[y];g.id==1&&(m=g)}var v=Bi(Lt(m.messages[0].data)[1][0].data);for(f=rt.find(u,o[v].location),d=vn(_n(f.content)),y=0;y<d.length;++y)g=d[y],g.id==v&&(m=g);for(v=Bi(Lt(m.messages[0].data)[2][0].data),f=rt.find(u,o[v].location),d=vn(_n(f.content)),y=0;y<d.length;++y)g=d[y],g.id==v&&(m=g);for(v=Bi(Lt(m.messages[0].data)[2][0].data),f=rt.find(u,o[v].location),d=vn(_n(f.content)),y=0;y<d.length;++y)g=d[y],g.id==v&&(m=g);var S=Lt(m.messages[0].data);{S[6][0].data=Ye(n.e.r+1),S[7][0].data=Ye(n.e.c+1);var E=Bi(S[46][0].data),I=rt.find(u,o[E].location),V=vn(_n(I.content));{for(var z=0;z<V.length&&V[z].id!=E;++z);if(V[z].id!=E)throw"Bad ColumnRowUIDMapArchive";var X=Lt(V[z].messages[0].data);X[1]=[],X[2]=[],X[3]=[];for(var T=0;T<=n.e.c;++T){var w=[];w[1]=w[2]=[{type:0,data:Ye(T+420690)}],X[1].push({type:2,data:Kt(w)}),X[2].push({type:0,data:Ye(T)}),X[3].push({type:0,data:Ye(T)})}X[4]=[],X[5]=[],X[6]=[];for(var A=0;A<=n.e.r;++A)w=[],w[1]=w[2]=[{type:0,data:Ye(A+726270)}],X[4].push({type:2,data:Kt(w)}),X[5].push({type:0,data:Ye(A)}),X[6].push({type:0,data:Ye(A)});V[z].messages[0].data=Kt(X)}I.content=Va(ba(V)),I.size=I.content.length,delete S[46];var k=Lt(S[4][0].data);{k[7][0].data=Ye(n.e.r+1);var O=Lt(k[1][0].data),b=Bi(O[2][0].data);I=rt.find(u,o[b].location),V=vn(_n(I.content));{if(V[0].id!=b)throw"Bad HeaderStorageBucket";var N=Lt(V[0].messages[0].data);for(A=0;A<s.length;++A){var De=Lt(N[2][0].data);De[1][0].data=Ye(A),De[4][0].data=Ye(s[A].length),N[2][A]={type:N[2][0].type,data:Kt(De)}}V[0].messages[0].data=Kt(N)}I.content=Va(ba(V)),I.size=I.content.length;var Ie=Bi(k[2][0].data);I=rt.find(u,o[Ie].location),V=vn(_n(I.content));{if(V[0].id!=Ie)throw"Bad HeaderStorageBucket";for(N=Lt(V[0].messages[0].data),T=0;T<=n.e.c;++T)De=Lt(N[2][0].data),De[1][0].data=Ye(T),De[4][0].data=Ye(n.e.r+1),N[2][T]={type:N[2][0].type,data:Kt(De)};V[0].messages[0].data=Kt(N)}I.content=Va(ba(V)),I.size=I.content.length;var mt=Bi(k[4][0].data);(function(){for(var H=rt.find(u,o[mt].location),j=vn(_n(H.content)),U,te=0;te<j.length;++te){var ge=j[te];ge.id==mt&&(U=ge)}var we=Lt(U.messages[0].data);{we[3]=[];var xe=[];a.forEach(function(Le,Ot){xe[1]=[{type:0,data:Ye(Ot)}],xe[2]=[{type:0,data:Ye(1)}],xe[3]=[{type:2,data:K7(Le)}],we[3].push({type:2,data:Kt(xe)})})}U.messages[0].data=Kt(we);var de=ba(j),$e=Va(de);H.content=$e,H.size=H.content.length})();var Ge=Lt(k[3][0].data);{var ce=Ge[1][0];delete Ge[2];var ye=Lt(ce.data);{var Se=Bi(ye[2][0].data);(function(){for(var H=rt.find(u,o[Se].location),j=vn(_n(H.content)),U,te=0;te<j.length;++te){var ge=j[te];ge.id==Se&&(U=ge)}var we=Lt(U.messages[0].data);{delete we[6],delete Ge[7];var xe=new Uint8Array(we[5][0].data);we[5]=[];for(var de=0,$e=0;$e<=n.e.r;++$e){var Le=Lt(xe);de+=Q7(Le,s[$e],a),Le[1][0].data=Ye($e),we[5].push({data:Kt(Le),type:2})}we[1]=[{type:0,data:Ye(n.e.c+1)}],we[2]=[{type:0,data:Ye(n.e.r+1)}],we[3]=[{type:0,data:Ye(de)}],we[4]=[{type:0,data:Ye(n.e.r+1)}]}U.messages[0].data=Kt(we);var Ot=ba(j),Be=Va(Ot);H.content=Be,H.size=H.content.length})()}ce.data=Kt(ye)}k[3][0].data=Kt(Ge)}S[4][0].data=Kt(k)}m.messages[0].data=Kt(S);var Fe=ba(d),B=Va(Fe);return f.content=B,f.size=f.content.length,u}function Z7(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function Qg(t){Z7([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function eU(t,e){return e.bookType=="ods"?KA(t,e):e.bookType=="numbers"?J7(t,e):e.bookType=="xlsb"?tU(t,e):rU(t,e)}function tU(t,e){ro=1024,t&&!t.SSF&&(t.SSF=br(Tt)),t&&t.SSF&&(f0(),h0(t.SSF),e.revssf=d0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Yl?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=RA.indexOf(e.bookType)>-1,i=iA();Qg(e=e||{});var s=Lg(),a="",o=0;if(e.cellXfs=[],Rs(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",Oe(s,a,lA(t.Props,e)),i.coreprops.push(a),Qe(e.rels,2,a,We.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,Oe(s,a,cA(t.Props)),i.extprops.push(a),Qe(e.rels,3,a,We.EXT_PROPS),t.Custprops!==t.Props&&ir(t.Custprops||{}).length>0&&(a="docProps/custom.xml",Oe(s,a,hA(t.Custprops)),i.custprops.push(a),Qe(e.rels,4,a,We.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var h={"!id":{}},f=t.Sheets[t.SheetNames[o-1]],d=(f||{})["!type"]||"sheet";switch(d){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,Oe(s,a,i7(o-1,a,e,t,h)),i.sheets.push(a),Qe(e.wbrels,-1,"worksheets/sheet"+o+"."+r,We.WS[0])}if(f){var m=f["!comments"],y=!1,g="";m&&m.length>0&&(g="xl/comments"+o+"."+r,Oe(s,g,o7(m,g)),i.comments.push(g),Qe(h,-1,"../comments"+o+"."+r,We.CMNT),y=!0),f["!legacy"]&&y&&Oe(s,"xl/drawings/vmlDrawing"+o+".vml",CA(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}h["!id"].rId1&&Oe(s,aA(a),mo(h))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,Oe(s,a,a7(e.Strings,a,e)),i.strs.push(a),Qe(e.wbrels,-1,"sharedStrings."+r,We.SST)),a="xl/workbook."+r,Oe(s,a,n7(t,a)),i.workbooks.push(a),Qe(e.rels,1,a,We.WB),a="xl/theme/theme1.xml",Oe(s,a,AA(t.Themes,e)),i.themes.push(a),Qe(e.wbrels,-1,"theme/theme1.xml",We.THEME),a="xl/styles."+r,Oe(s,a,s7(t,a,e)),i.styles.push(a),Qe(e.wbrels,-1,"styles."+r,We.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",Oe(s,a,t.vbaraw),i.vba.push(a),Qe(e.wbrels,-1,"vbaProject.bin",We.VBA)),a="xl/metadata."+r,Oe(s,a,l7(a)),i.metadata.push(a),Qe(e.wbrels,-1,"metadata."+r,We.XLMETA),Oe(s,"[Content_Types].xml",sA(i,e)),Oe(s,"_rels/.rels",mo(e.rels)),Oe(s,"xl/_rels/workbook."+r+".rels",mo(e.wbrels)),delete e.revssf,delete e.ssf,s}function rU(t,e){ro=1024,t&&!t.SSF&&(t.SSF=br(Tt)),t&&t.SSF&&(f0(),h0(t.SSF),e.revssf=d0(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Yl?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=RA.indexOf(e.bookType)>-1,i=iA();Qg(e=e||{});var s=Lg(),a="",o=0;if(e.cellXfs=[],Rs(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",Oe(s,a,lA(t.Props,e)),i.coreprops.push(a),Qe(e.rels,2,a,We.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,Oe(s,a,cA(t.Props)),i.extprops.push(a),Qe(e.rels,3,a,We.EXT_PROPS),t.Custprops!==t.Props&&ir(t.Custprops||{}).length>0&&(a="docProps/custom.xml",Oe(s,a,hA(t.Custprops)),i.custprops.push(a),Qe(e.rels,4,a,We.CUST_PROPS));var h=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},d=t.Sheets[t.SheetNames[o-1]],m=(d||{})["!type"]||"sheet";switch(m){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,Oe(s,a,VA(o-1,e,t,f)),i.sheets.push(a),Qe(e.wbrels,-1,"worksheets/sheet"+o+"."+r,We.WS[0])}if(d){var y=d["!comments"],g=!1,v="";if(y&&y.length>0){var S=!1;y.forEach(function(E){E[1].forEach(function(I){I.T==!0&&(S=!0)})}),S&&(v="xl/threadedComments/threadedComment"+o+"."+r,Oe(s,v,Ob(y,h,e)),i.threadedcomments.push(v),Qe(f,-1,"../threadedComments/threadedComment"+o+"."+r,We.TCMNT)),v="xl/comments"+o+"."+r,Oe(s,v,kA(y)),i.comments.push(v),Qe(f,-1,"../comments"+o+"."+r,We.CMNT),g=!0}d["!legacy"]&&g&&Oe(s,"xl/drawings/vmlDrawing"+o+".vml",CA(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}f["!id"].rId1&&Oe(s,aA(a),mo(f))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,Oe(s,a,yA(e.Strings,e)),i.strs.push(a),Qe(e.wbrels,-1,"sharedStrings."+r,We.SST)),a="xl/workbook."+r,Oe(s,a,jA(t)),i.workbooks.push(a),Qe(e.rels,1,a,We.WB),a="xl/theme/theme1.xml",Oe(s,a,AA(t.Themes,e)),i.themes.push(a),Qe(e.wbrels,-1,"theme/theme1.xml",We.THEME),a="xl/styles."+r,Oe(s,a,TA(t,e)),i.styles.push(a),Qe(e.wbrels,-1,"styles."+r,We.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",Oe(s,a,t.vbaraw),i.vba.push(a),Qe(e.wbrels,-1,"vbaProject.bin",We.VBA)),a="xl/metadata."+r,Oe(s,a,IA()),i.metadata.push(a),Qe(e.wbrels,-1,"metadata."+r,We.XLMETA),h.length>1&&(a="xl/persons/person.xml",Oe(s,a,Fb(h)),i.people.push(a),Qe(e.wbrels,-1,"persons/person.xml",We.PEOPLE)),Oe(s,"[Content_Types].xml",sA(i,e)),Oe(s,"_rels/.rels",mo(e.rels)),Oe(s,"xl/_rels/workbook."+r+".rels",mo(e.wbrels)),delete e.revssf,delete e.ssf,s}function nU(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Ci(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function qA(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Ju(e.file,rt.write(t,{type:Ke?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return rt.write(t,e)}function iU(t,e){var r=br(e||{}),n=eU(t,r);return sU(n,r)}function sU(t,e){var r={},n=Ke?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?rt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(c0(i))}return e.password&&typeof encrypt_agile<"u"?qA(encrypt_agile(i,e.password),e):e.type==="file"?Ju(e.file,i):e.type=="string"?Gl(i):i}function aU(t,e){var r=e||{},n=w7(t,r);return qA(n,r)}function Ln(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return Cu(Ru(n));case"binary":return Ru(n);case"string":return t;case"file":return Ju(e.file,n,"utf8");case"buffer":return Ke?Ni(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Ln(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function oU(t,e){switch(e.type){case"base64":return Cu(t);case"binary":return t;case"string":return t;case"file":return Ju(e.file,t,"binary");case"buffer":return Ke?Ni(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Qc(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?Cu(r):e.type=="string"?Gl(r):r;case"file":return Ju(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function XA(t,e){LM(),GB(t);var r=br(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=XA(t,r);return r.type="array",c0(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Ln(x7(t,r),r);case"slk":case"sylk":return Ln(z8.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return Ln(WA(t.Sheets[t.SheetNames[i]],r),r);case"txt":return oU(YA(t.Sheets[t.SheetNames[i]],r),r);case"csv":return Ln(Jg(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return Ln(W8.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return Qc($8.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return Ln(H8.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return Ln(J8.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return Ln(_A.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return Ln(KA(t,r),r);case"wk1":return Qc(Qy.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return Qc(Qy.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Qc(zA(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),aU(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return iU(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function lU(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function uU(t,e,r){var n={};return n.type="file",n.file=e,lU(n),XA(t,n)}function cU(t,e,r,n,i,s,a,o){var l=tr(r),u=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,d=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:r,enumerable:!1})}catch{d.__rowNum__=r}else d.__rowNum__=r;if(!a||t[r])for(var m=e.s.c;m<=e.e.c;++m){var y=a?t[r][m]:t[n[m]+l];if(y===void 0||y.t===void 0){if(u===void 0)continue;s[m]!=null&&(d[s[m]]=u);continue}var g=y.v;switch(y.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(s[m]!=null){if(g==null)if(y.t=="e"&&g===null)d[s[m]]=null;else if(u!==void 0)d[s[m]]=u;else if(h&&g===null)d[s[m]]=null;else continue;else d[s[m]]=h&&(y.t!=="n"||y.t==="n"&&o.rawNumbers!==!1)?g:ki(y,g,o);g!=null&&(f=!1)}}return{row:d,isempty:f}}function wf(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},h=u.range!=null?u.range:t["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof h){case"string":l=ht(h);break;case"number":l=ht(t["!ref"]),l.s.r=h;break;default:l=h}n>0&&(i=0);var f=tr(l.s.r),d=[],m=[],y=0,g=0,v=Array.isArray(t),S=l.s.r,E=0,I={};v&&!t[S]&&(t[S]=[]);var V=u.skipHidden&&t["!cols"]||[],z=u.skipHidden&&t["!rows"]||[];for(E=l.s.c;E<=l.e.c;++E)if(!(V[E]||{}).hidden)switch(d[E]=mr(E),r=v?t[S][E]:t[d[E]+f],n){case 1:s[E]=E-l.s.c;break;case 2:s[E]=d[E];break;case 3:s[E]=u.header[E-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=a=ki(r,null,u),g=I[a]||0,!g)I[a]=1;else{do o=a+"_"+g++;while(I[o]);I[a]=g,I[o]=1}s[E]=o}for(S=l.s.r+i;S<=l.e.r;++S)if(!(z[S]||{}).hidden){var X=cU(t,l,S,d,n,s,v,u);(X.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(m[y++]=X.row)}return m.length=y,m}var sx=/"/g;function hU(t,e,r,n,i,s,a,o){for(var l=!0,u=[],h="",f=tr(r),d=e.s.c;d<=e.e.c;++d)if(n[d]){var m=o.dense?(t[r]||[])[d]:t[n[d]+f];if(m==null)h="";else if(m.v!=null){l=!1,h=""+(o.rawNumbers&&m.t=="n"?m.v:ki(m,null,o));for(var y=0,g=0;y!==h.length;++y)if((g=h.charCodeAt(y))===i||g===s||g===34||o.forceQuotes){h='"'+h.replace(sx,'""')+'"';break}h=="ID"&&(h='"ID"')}else m.f!=null&&!m.F?(l=!1,h="="+m.f,h.indexOf(",")>=0&&(h='"'+h.replace(sx,'""')+'"')):h="";u.push(h)}return o.blankrows===!1&&l?null:u.join(a)}function Jg(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=ht(t["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),h="",f=[];n.dense=Array.isArray(t);for(var d=n.skipHidden&&t["!cols"]||[],m=n.skipHidden&&t["!rows"]||[],y=i.s.c;y<=i.e.c;++y)(d[y]||{}).hidden||(f[y]=mr(y));for(var g=0,v=i.s.r;v<=i.e.r;++v)(m[v]||{}).hidden||(h=hU(t,i,v,f,a,l,s,n),h!=null&&(n.strip&&(h=h.replace(u,"")),(h||n.blankrows!==!1)&&r.push((g++?o:"")+h)));return delete n.dense,r.join("")}function YA(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=Jg(t,e);return r}function fU(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=ht(t["!ref"]),s="",a=[],o,l=[],u=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=mr(o);for(var h=i.s.r;h<=i.e.r;++h)for(s=tr(h),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,r=u?(t[h]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function QA(t,e,r){var n=r||{},i=+!n.skipHeader,s=t||{},a=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?$t(n.origin):n.origin;a=l.r,o=l.c}var u,h={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var f=ht(s["!ref"]);h.e.c=Math.max(h.e.c,f.e.c),h.e.r=Math.max(h.e.r,f.e.r),a==-1&&(a=f.e.r+1,h.e.r=a+e.length-1+i)}else a==-1&&(a=0,h.e.r=e.length-1+i);var d=n.header||[],m=0;e.forEach(function(g,v){ir(g).forEach(function(S){(m=d.indexOf(S))==-1&&(d[m=d.length]=S);var E=g[S],I="z",V="",z=tt({c:o+m,r:a+v+i});u=Du(s,z),E&&typeof E=="object"&&!(E instanceof Date)?s[z]=E:(typeof E=="number"?I="n":typeof E=="boolean"?I="b":typeof E=="string"?I="s":E instanceof Date?(I="d",n.cellDates||(I="n",E=Mr(E)),V=n.dateNF||Tt[14]):E===null&&n.nullError&&(I="e",E=0),u?(u.t=I,u.v=E,delete u.w,delete u.R,V&&(u.z=V)):s[z]=u={t:I,v:E},V&&(u.z=V))})}),h.e.c=Math.max(h.e.c,o+d.length-1);var y=tr(a);if(i)for(m=0;m<d.length;++m)s[mr(m+o)+y]={t:"s",v:d[m]};return s["!ref"]=Nt(h),s}function dU(t,e){return QA(null,t,e)}function Du(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=$t(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Du(t,tt(e)):Du(t,tt({r:e,c:r||0}))}function pU(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function mU(){return{SheetNames:[],Sheets:{}}}function gU(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=a+i)!=-1;++i);}if(UA(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function vU(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=pU(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function _U(t,e){return t.z=e,t}function JA(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function yU(t,e,r){return JA(t,"#"+e,r)}function xU(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function EU(t,e,r,n){for(var i=typeof e!="string"?e:ht(e),s=typeof e=="string"?e:Nt(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=Du(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return t}var Td={encode_col:mr,encode_row:tr,encode_cell:tt,encode_range:Nt,decode_col:jg,decode_row:Ug,split_cell:L5,decode_cell:$t,decode_range:Yr,format_cell:ki,sheet_add_aoa:JS,sheet_add_json:QA,sheet_add_dom:HA,aoa_to_sheet:Go,json_to_sheet:dU,table_to_sheet:GA,table_to_book:W7,sheet_to_csv:Jg,sheet_to_txt:YA,sheet_to_json:wf,sheet_to_html:WA,sheet_to_formulae:fU,sheet_to_row_object_array:wf,sheet_get_cell:Du,book_new:mU,book_append_sheet:gU,book_set_sheet_visibility:vU,cell_set_number_format:_U,cell_set_hyperlink:JA,cell_set_internal_link:yU,cell_add_comment:xU,sheet_set_array_formula:EU,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const wU=()=>{const{services:t,summary:e}=fn(),[r,n]=ee.useState("month"),i=a=>a==null?"N/A":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(a),s=()=>{const a=[];t.flight.forEach(u=>{var h;a.push({"Service Type":"Flight Booking",From:u.fromLocation,To:u.toLocation,Date:u.flightDate instanceof Date?u.flightDate:(h=u.flightDate)==null?void 0:h.toDate(),Sector:u.sector,"Customer Amount":u.customerAmount,"Supplier Amount":u.supplierAmount,"Tour Manager Amount":u.tourManagerAmount,"Car Amount":u.carAmount,Profit:u.customerAmount-u.supplierAmount})}),t.hotel.forEach(u=>{var h,f;a.push({"Service Type":"Hotel Reservation","Hotel Name":u.hotelName,"Check-in Date":u.checkInDate instanceof Date?u.checkInDate:(h=u.checkInDate)==null?void 0:h.toDate(),"Check-out Date":u.checkOutDate instanceof Date?u.checkOutDate:(f=u.checkOutDate)==null?void 0:f.toDate(),"Customer Amount":u.customerAmount,"Supplier Amount":u.supplierAmount,Profit:u.customerAmount-u.supplierAmount})}),t.car.forEach(u=>{var h;a.push({"Service Type":"Car Rental",Destination:u.destination,Date:u.rentalDate instanceof Date?u.rentalDate:(h=u.rentalDate)==null?void 0:h.toDate(),Seaters:u.seaters,"Customer Amount":u.customerAmount,"Supplier Amount":u.supplierAmount,Profit:u.customerAmount-u.supplierAmount})}),t.visa.forEach(u=>{var h;a.push({"Service Type":"Visa",Country:u.country,"Application Date":u.applicationDate instanceof Date?u.applicationDate:(h=u.applicationDate)==null?void 0:h.toDate(),"Customer Amount":u.customerAmount,"Supplier Amount":u.supplierAmount,Profit:u.customerAmount-u.supplierAmount})}),t.foreignExchange.forEach(u=>{a.push({"Service Type":"Foreign Exchange",Currency:u.currency,Rate:u.rate,"Customer Amount":u.customerAmount,"Supplier Amount":u.supplierAmount,Profit:u.customerAmount-u.supplierAmount})}),t.tourPackage.forEach(u=>{var h,f;a.push({"Service Type":"Tour Package",Destination:u.destination,"Start Date":u.startDate instanceof Date?u.startDate:(h=u.startDate)==null?void 0:h.toDate(),"End Date":u.endDate instanceof Date?u.endDate:(f=u.endDate)==null?void 0:f.toDate(),"Flight Amount":u.flightAmount,"Car Amount":u.carAmount,"Tour Manager Amount":u.tourManagerAmount,"Customer Amount":u.customerAmount,"Total Cost":u.totalCost,"Supplier Amount":u.supplierAmount,Profit:u.customerAmount-u.supplierAmount})}),t.train.forEach(u=>{var h;a.push({"Service Type":"Train Booking",From:u.fromLocation,To:u.toLocation,Date:u.trainDate instanceof Date?u.trainDate:(h=u.trainDate)==null?void 0:h.toDate(),"Customer Amount":u.customerAmount,"Supplier Amount":u.supplierAmount,Profit:u.customerAmount-u.supplierAmount})}),t.vajabhat.forEach(u=>{var h;a.push({"Service Type":"Vajabhat",Amount:u.amount,"Payment Date":u.paymentDate instanceof Date?u.paymentDate:(h=u.paymentDate)==null?void 0:h.toDate(),"Customer Amount":u.customerAmount,"Supplier Amount":u.supplierAmount,Profit:u.customerAmount-u.supplierAmount})});const o=Td.json_to_sheet(a),l=Td.book_new();Td.book_append_sheet(l,o,"Services"),uU(l,"QT_Holidays_Summary.xlsx")};return x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Financial Summary"}),x.jsx("p",{className:"text-slate-500 mt-1",children:"Overview of your business performance"})]}),x.jsxs("div",{className:"mt-4 md:mt-0 flex items-center space-x-4",children:[x.jsxs("div",{className:"inline-flex rounded-md shadow-sm",children:[x.jsx("button",{type:"button",onClick:()=>n("month"),className:`px-4 py-2 text-sm font-medium rounded-l-lg ${r==="month"?"bg-blue-50 text-blue-600 border border-blue-300":"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50"}`,children:"This Month"}),x.jsx("button",{type:"button",onClick:()=>n("quarter"),className:`px-4 py-2 text-sm font-medium ${r==="quarter"?"bg-blue-50 text-blue-600 border border-blue-300":"bg-white text-slate-700 border-t border-b border-slate-300 hover:bg-slate-50"}`,children:"This Quarter"}),x.jsx("button",{type:"button",onClick:()=>n("year"),className:`px-4 py-2 text-sm font-medium rounded-r-lg ${r==="year"?"bg-blue-50 text-blue-600 border border-blue-300":"bg-white text-slate-700 border border-slate-300 hover:bg-slate-50"}`,children:"This Year"})]}),x.jsxs("button",{onClick:s,className:"btn btn-secondary",children:[x.jsx(S6,{className:"h-4 w-4"}),x.jsx("span",{children:"Export Data"})]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[x.jsx(ts,{title:"Total Services",value:(e==null?void 0:e.totalServices)||0}),x.jsx(ts,{title:"Total Revenue",value:i((e==null?void 0:e.totalCustomerAmount)||0)}),x.jsx(ts,{title:"Total Expenses",value:i((e==null?void 0:e.totalSupplierAmount)||0)}),x.jsx(ts,{title:"Total Profit",value:i((e==null?void 0:e.totalProfit)||0),positive:(e==null?void 0:e.totalProfit)&&e.totalProfit>0})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"card",children:[x.jsxs("div",{className:"flex items-center mb-4",children:[x.jsx($p,{className:"h-5 w-5 text-slate-700 mr-2"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Services Breakdown"})]}),x.jsx("div",{className:"space-y-4",children:e&&x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Flight Bookings"}),x.jsx("span",{className:"text-sm font-medium",children:e.serviceBreakdown.flight})]}),x.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:x.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${e.totalServices?e.serviceBreakdown.flight/e.totalServices*100:0}%`}})}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Hotel Reservations"}),x.jsx("span",{className:"text-sm font-medium",children:e.serviceBreakdown.hotel})]}),x.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:x.jsx("div",{className:"bg-amber-500 h-2 rounded-full",style:{width:`${e.totalServices?e.serviceBreakdown.hotel/e.totalServices*100:0}%`}})}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Car Rentals"}),x.jsx("span",{className:"text-sm font-medium",children:e.serviceBreakdown.car})]}),x.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:x.jsx("div",{className:"bg-emerald-500 h-2 rounded-full",style:{width:`${e.totalServices?e.serviceBreakdown.car/e.totalServices*100:0}%`}})}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Visa Applications"}),x.jsx("span",{className:"text-sm font-medium",children:e.serviceBreakdown.visa})]}),x.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:x.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${e.totalServices?e.serviceBreakdown.visa/e.totalServices*100:0}%`}})}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Foreign Exchange"}),x.jsx("span",{className:"text-sm font-medium",children:e.serviceBreakdown.foreignExchange})]}),x.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:x.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${e.totalServices?e.serviceBreakdown.foreignExchange/e.totalServices*100:0}%`}})}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Tour Packages"}),x.jsx("span",{className:"text-sm font-medium",children:e.serviceBreakdown.tourPackage})]}),x.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:x.jsx("div",{className:"bg-teal-500 h-2 rounded-full",style:{width:`${e.totalServices?e.serviceBreakdown.tourPackage/e.totalServices*100:0}%`}})}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Train Bookings"}),x.jsx("span",{className:"text-sm font-medium",children:e.serviceBreakdown.train})]}),x.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:x.jsx("div",{className:"bg-indigo-500 h-2 rounded-full",style:{width:`${e.totalServices?e.serviceBreakdown.train/e.totalServices*100:0}%`}})}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Vajabhat"}),x.jsx("span",{className:"text-sm font-medium",children:e.serviceBreakdown.vajabhat})]}),x.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:x.jsx("div",{className:"bg-pink-500 h-2 rounded-full",style:{width:`${e.totalServices?e.serviceBreakdown.vajabhat/e.totalServices*100:0}%`}})})]})})]}),x.jsxs("div",{className:"card",children:[x.jsxs("div",{className:"flex items-center mb-4",children:[x.jsx(y6,{className:"h-5 w-5 text-slate-700 mr-2"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Revenue vs Expenses"})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm font-medium text-blue-600",children:"Revenue"}),x.jsx("span",{className:"text-sm font-medium",children:i((e==null?void 0:e.totalCustomerAmount)||0)})]}),x.jsx("div",{className:"w-full bg-slate-200 rounded-full h-4",children:x.jsx("div",{className:"bg-blue-500 h-4 rounded-full",style:{width:"100%"}})})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm font-medium text-red-600",children:"Expenses"}),x.jsx("span",{className:"text-sm font-medium",children:i((e==null?void 0:e.totalSupplierAmount)||0)})]}),x.jsx("div",{className:"w-full bg-slate-200 rounded-full h-4",children:x.jsx("div",{className:"bg-red-500 h-4 rounded-full",style:{width:`${e!=null&&e.totalCustomerAmount?e.totalSupplierAmount/e.totalCustomerAmount*100:0}%`}})})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm font-medium text-green-600",children:"Profit"}),x.jsx("span",{className:"text-sm font-medium",children:i((e==null?void 0:e.totalProfit)||0)})]}),x.jsx("div",{className:"w-full bg-slate-200 rounded-full h-4",children:x.jsx("div",{className:"bg-green-500 h-4 rounded-full",style:{width:`${e!=null&&e.totalCustomerAmount?e.totalProfit/e.totalCustomerAmount*100:0}%`}})})]}),x.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-100",children:x.jsxs("div",{className:"flex items-start",children:[x.jsx(T6,{className:"h-5 w-5 text-blue-500 mr-2 mt-0.5"}),x.jsxs("div",{children:[x.jsx("h3",{className:"font-medium text-blue-800",children:"Profit Margin"}),x.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:[e!=null&&e.totalCustomerAmount?`${(e.totalProfit/e.totalCustomerAmount*100).toFixed(2)}%`:"0%"," of your revenue is profit."]})]})]})})]})]})]}),x.jsxs("div",{className:"card",children:[x.jsxs("div",{className:"flex items-center mb-4",children:[x.jsx(E6,{className:"h-5 w-5 text-slate-700 mr-2"}),x.jsx("h2",{className:"text-xl font-semibold text-slate-800",children:"Recent Services"})]}),x.jsx("div",{className:"table-container",children:x.jsxs("table",{className:"table",children:[x.jsx("thead",{className:"table-header",children:x.jsxs("tr",{children:[x.jsx("th",{className:"table-header-cell",children:"Service"}),x.jsx("th",{className:"table-header-cell",children:"Date"}),x.jsx("th",{className:"table-header-cell",children:"Revenue"}),x.jsx("th",{className:"table-header-cell",children:"Expense"}),x.jsx("th",{className:"table-header-cell",children:"Profit"})]})}),x.jsxs("tbody",{className:"table-body",children:[[...t.flight,...t.hotel,...t.car,...t.visa,...t.foreignExchange,...t.tourPackage,...t.train,...t.vajabhat].sort((a,o)=>{var h,f,d,m;const l=((f=(h=a.createdAt)==null?void 0:h.toDate)==null?void 0:f.call(h))||new Date;return(((m=(d=o.createdAt)==null?void 0:d.toDate)==null?void 0:m.call(d))||new Date).getTime()-l.getTime()}).slice(0,10).map((a,o)=>{var m;let l="",u=null;"flightDate"in a?(l="Flight Booking",u=a.flightDate):"checkInDate"in a?(l="Hotel Reservation",u=a.checkInDate):"rentalDate"in a?(l="Car Rental",u=a.rentalDate):"applicationDate"in a?(l="Visa",u=a.applicationDate):"currency"in a?(l="Foreign Exchange",u=a.createdAt):"startDate"in a?(l="Tour Package",u=a.startDate):"trainDate"in a?(l="Train Booking",u=a.trainDate):"paymentDate"in a&&(l="Vajabhat",u=a.paymentDate);const h=u instanceof Date?u:((m=u==null?void 0:u.toDate)==null?void 0:m.call(u))||new Date,f=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(h),d=a.customerAmount-a.supplierAmount;return x.jsxs("tr",{className:"table-row",children:[x.jsx("td",{className:"table-cell font-medium",children:l}),x.jsx("td",{className:"table-cell",children:f}),x.jsx("td",{className:"table-cell text-blue-600",children:i(a.customerAmount)}),x.jsx("td",{className:"table-cell text-red-600",children:i(a.supplierAmount)}),x.jsx("td",{className:"table-cell",children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("span",{className:d>=0?"text-green-600":"text-red-600",children:i(d)}),d>0&&x.jsx(v6,{className:"h-3 w-3 text-green-600 ml-1"})]})})]},o)}),[...t.flight,...t.hotel,...t.car,...t.visa,...t.foreignExchange,...t.tourPackage,...t.train,...t.vajabhat].length===0&&x.jsx("tr",{children:x.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-slate-500",children:"No services found. Start by adding a new service."})})]})]})})]})]})},Ps=({type:t,data:e,title:r})=>{const n=va(),{refreshServices:i,getServiceCollection:s}=fn(),[a,o]=ee.useState(""),[l,u]=ee.useState(null),h=v=>{if(!v)return"N/A";const S=v instanceof pr?v.toDate():v;return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(S)},f=v=>v==null?"N/A":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(v),d=async v=>{if(l===v)try{const S=s(t);(await c6(S,v)).success?(bn.success("Service deleted successfully"),await i()):bn.error("Failed to delete service")}catch(S){console.error("Error deleting service:",S),bn.error("An error occurred")}finally{u(null)}else u(v),setTimeout(()=>{u(null)},5e3)},m=e.filter(v=>JSON.stringify(v).toLowerCase().includes(a.toLowerCase())),y=()=>{switch(t){case"flight":return["From","To","Date","Sector","Customer Amount","Supplier Amount","Actions"];case"hotel":return["Hotel Name","Check-in","Check-out","Customer Amount","Supplier Amount","Actions"];case"car":return["Destination","Date","Seaters","Customer Amount","Supplier Amount","Actions"];case"visa":return["Country","Application Date","Customer Amount","Supplier Amount","Actions"];case"foreignExchange":return["Currency","Rate","Customer Amount","Supplier Amount","Actions"];case"tourPackage":return["Destination","Start Date","End Date","Customer Amount","Total Cost","Actions"];case"train":return["From","To","Date","Customer Amount","Supplier Amount","Actions"];case"vajabhat":return["Amount","Date","Customer Amount","Supplier Amount","Actions"];default:return["ID","Created","Actions"]}},g=v=>{switch(t){case"flight":return[x.jsx("span",{children:v.fromLocation},"from"),x.jsx("span",{children:v.toLocation},"to"),x.jsx("span",{children:h(v.flightDate)},"date"),x.jsx("span",{children:v.sector},"sector"),x.jsx("span",{children:f(v.customerAmount)},"customerAmount"),x.jsx("span",{children:f(v.supplierAmount)},"supplierAmount")];case"hotel":return[x.jsx("span",{children:v.hotelName},"hotelName"),x.jsx("span",{children:h(v.checkInDate)},"checkIn"),x.jsx("span",{children:h(v.checkOutDate)},"checkOut"),x.jsx("span",{children:f(v.customerAmount)},"customerAmount"),x.jsx("span",{children:f(v.supplierAmount)},"supplierAmount")];case"car":return[x.jsx("span",{children:v.destination},"destination"),x.jsx("span",{children:h(v.rentalDate)},"date"),x.jsx("span",{children:v.seaters},"seaters"),x.jsx("span",{children:f(v.customerAmount)},"customerAmount"),x.jsx("span",{children:f(v.supplierAmount)},"supplierAmount")];case"visa":return[x.jsx("span",{children:v.country},"country"),x.jsx("span",{children:h(v.applicationDate)},"date"),x.jsx("span",{children:f(v.customerAmount)},"customerAmount"),x.jsx("span",{children:f(v.supplierAmount)},"supplierAmount")];case"foreignExchange":return[x.jsx("span",{children:v.currency},"currency"),x.jsx("span",{children:v.rate},"rate"),x.jsx("span",{children:f(v.customerAmount)},"customerAmount"),x.jsx("span",{children:f(v.supplierAmount)},"supplierAmount")];case"tourPackage":return[x.jsx("span",{children:v.destination},"destination"),x.jsx("span",{children:h(v.startDate)},"startDate"),x.jsx("span",{children:h(v.endDate)},"endDate"),x.jsx("span",{children:f(v.customerAmount)},"customerAmount"),x.jsx("span",{children:f(v.totalCost)},"totalCost")];case"train":return[x.jsx("span",{children:v.fromLocation},"from"),x.jsx("span",{children:v.toLocation},"to"),x.jsx("span",{children:h(v.trainDate)},"date"),x.jsx("span",{children:f(v.customerAmount)},"customerAmount"),x.jsx("span",{children:f(v.supplierAmount)},"supplierAmount")];case"vajabhat":return[x.jsx("span",{children:f(v.amount)},"amount"),x.jsx("span",{children:h(v.paymentDate)},"date"),x.jsx("span",{children:f(v.customerAmount)},"customerAmount"),x.jsx("span",{children:f(v.supplierAmount)},"supplierAmount")];default:return[x.jsx("span",{children:v.id},"id"),x.jsx("span",{children:h(v.createdAt)},"created")]}};return x.jsxs("div",{className:"card",children:[x.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6",children:[x.jsx("h2",{className:"text-xl font-semibold mb-2 md:mb-0",children:r}),x.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-2",children:[x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:v=>o(v.target.value),className:"pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 w-full"}),x.jsx(D6,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"})]}),x.jsxs("button",{onClick:()=>n(`/services/${t}/new`),className:"btn btn-primary",children:[x.jsx(P6,{className:"h-4 w-4"}),x.jsx("span",{children:"Add New"})]})]})]}),m.length===0?x.jsx("div",{className:"text-center py-8 bg-slate-50 rounded-lg border border-slate-200",children:x.jsxs("p",{className:"text-slate-600",children:["No ",r.toLowerCase()," found. Add your first one!"]})}):x.jsx("div",{className:"table-container",children:x.jsxs("table",{className:"table",children:[x.jsx("thead",{className:"table-header",children:x.jsx("tr",{children:y().map((v,S)=>x.jsx("th",{className:"table-header-cell",children:v},S))})}),x.jsx("tbody",{className:"table-body",children:m.map(v=>x.jsxs("tr",{className:"table-row",children:[g(v).map((S,E)=>x.jsx("td",{className:"table-cell",children:S},E)),x.jsx("td",{className:"table-cell",children:x.jsxs("div",{className:"flex space-x-2",children:[x.jsx("button",{onClick:()=>n(`/services/${t}/edit/${v.id}`),className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded-md",title:"Edit",children:x.jsx(O6,{className:"h-4 w-4"})}),x.jsx("button",{onClick:()=>d(v.id),className:`p-1.5 ${l===v.id?"bg-red-50 text-red-600":"text-red-500 hover:bg-red-50"} rounded-md`,title:l===v.id?"Confirm Delete":"Delete",children:x.jsx(M6,{className:"h-4 w-4"})})]})})]},v.id))})]})})]})},TU=()=>{const{services:t}=fn();return x.jsx("div",{children:x.jsx(Ps,{type:"flight",data:t.flight,title:"Flight Bookings"})})},SU=()=>{const{services:t}=fn();return x.jsx("div",{children:x.jsx(Ps,{type:"hotel",data:t.hotel,title:"Hotel Reservations"})})},AU=()=>{const{services:t}=fn();return x.jsx("div",{children:x.jsx(Ps,{type:"car",data:t.car,title:"Car Rentals"})})},IU=()=>{const{services:t}=fn();return x.jsx("div",{children:x.jsx(Ps,{type:"visa",data:t.visa,title:"Visa Applications"})})},CU=()=>{const{services:t}=fn();return x.jsx("div",{children:x.jsx(Ps,{type:"foreignExchange",data:t.foreignExchange,title:"Foreign Exchange"})})},kU=()=>{const{services:t}=fn();return x.jsx("div",{children:x.jsx(Ps,{type:"tourPackage",data:t.tourPackage,title:"Tour Packages"})})},RU=()=>{const{services:t}=fn();return x.jsx("div",{children:x.jsx(Ps,{type:"train",data:t.train,title:"Train Bookings"})})},PU=()=>{const{services:t}=fn();return x.jsx("div",{children:x.jsx(Ps,{type:"vajabhat",data:t.vajabhat,title:"Vajabhat"})})},ZA=({onSubmit:t})=>{const[e,r]=ee.useState({flightBooking:0,carBooking:0,tourManagerPayment:0,customerQuote:0,totalPackageCost:0,startDate:"",endDate:"",sector:"",bookingSource:""}),n=s=>{const{name:a,value:o,type:l}=s.target;r(u=>({...u,[a]:l==="number"?parseFloat(o)||0:o}))},i=s=>{s.preventDefault(),t(e)};return x.jsxs("form",{onSubmit:i,className:"space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"input-group",children:[x.jsx("label",{htmlFor:"startDate",className:"input-label",children:"Start Date"}),x.jsx("input",{type:"date",id:"startDate",name:"startDate",value:e.startDate,onChange:n,className:"input-field",required:!0})]}),x.jsxs("div",{className:"input-group",children:[x.jsx("label",{htmlFor:"endDate",className:"input-label",children:"End Date"}),x.jsx("input",{type:"date",id:"endDate",name:"endDate",value:e.endDate,onChange:n,className:"input-field",required:!0})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"input-group",children:[x.jsx("label",{htmlFor:"sector",className:"input-label",children:"Sector"}),x.jsx("input",{type:"text",id:"sector",name:"sector",value:e.sector,onChange:n,className:"input-field",required:!0,placeholder:"Enter sector"})]}),x.jsxs("div",{className:"input-group",children:[x.jsx("label",{htmlFor:"bookingSource",className:"input-label",children:"Booking Source"}),x.jsx("input",{type:"text",id:"bookingSource",name:"bookingSource",value:e.bookingSource,onChange:n,className:"input-field",required:!0,placeholder:"Enter booking source"})]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[x.jsxs("div",{className:"input-group",children:[x.jsx("label",{htmlFor:"flightBooking",className:"input-label",children:"Flight Booking Cost"}),x.jsx("input",{type:"number",id:"flightBooking",name:"flightBooking",value:e.flightBooking,onChange:n,className:"input-field",required:!0,min:"0",step:"0.01"})]}),x.jsxs("div",{className:"input-group",children:[x.jsx("label",{htmlFor:"carBooking",className:"input-label",children:"Car Booking Cost"}),x.jsx("input",{type:"number",id:"carBooking",name:"carBooking",value:e.carBooking,onChange:n,className:"input-field",required:!0,min:"0",step:"0.01"})]}),x.jsxs("div",{className:"input-group",children:[x.jsx("label",{htmlFor:"tourManagerPayment",className:"input-label",children:"Tour Manager Payment"}),x.jsx("input",{type:"number",id:"tourManagerPayment",name:"tourManagerPayment",value:e.tourManagerPayment,onChange:n,className:"input-field",required:!0,min:"0",step:"0.01"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"input-group",children:[x.jsx("label",{htmlFor:"customerQuote",className:"input-label",children:"Customer Quote"}),x.jsx("input",{type:"number",id:"customerQuote",name:"customerQuote",value:e.customerQuote,onChange:n,className:"input-field",required:!0,min:"0",step:"0.01"})]}),x.jsxs("div",{className:"input-group",children:[x.jsx("label",{htmlFor:"totalPackageCost",className:"input-label",children:"Total Package Cost"}),x.jsx("input",{type:"number",id:"totalPackageCost",name:"totalPackageCost",value:e.totalPackageCost,onChange:n,className:"input-field",required:!0,min:"0",step:"0.01"})]})]}),x.jsx("div",{className:"flex justify-end",children:x.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})},Ui=()=>{const{type:t}=Rw(),e=va();return t?x.jsx(ZA,{type:t}):(e("/"),null)},ji=()=>{const{type:t,id:e}=Rw(),r=va(),{getServiceCollection:n}=fn(),[i,s]=ee.useState(null),[a,o]=ee.useState(!0);return ee.useEffect(()=>{(async()=>{if(!t||!e){r("/");return}try{const u=n(t),{document:h,error:f}=await f6(u,e);if(f||!h){console.error("Error fetching document:",f),r(`/services/${t}`);return}s(h)}catch(u){console.error("Error:",u),r(`/services/${t}`)}finally{o(!1)}})()},[t,e,r,n]),!t||!e?null:a?x.jsx("div",{className:"flex justify-center items-center h-64",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):x.jsx(ZA,{type:t,data:i,isEditing:!0})};function NU(){return x.jsx(u6,{children:x.jsx(d6,{children:x.jsx(Uk,{basename:"/",children:x.jsxs(bk,{children:[x.jsx(qe,{path:"/login",element:x.jsx(PM,{})}),x.jsxs(qe,{path:"/",element:x.jsx(p6,{children:x.jsx(RM,{})}),children:[x.jsx(qe,{index:!0,element:x.jsx(DM,{})}),x.jsx(qe,{path:"summary",element:x.jsx(wU,{})}),x.jsx(qe,{path:"services/flight",element:x.jsx(TU,{})}),x.jsx(qe,{path:"services/flight/new",element:x.jsx(Ui,{})}),x.jsx(qe,{path:"services/flight/edit/:id",element:x.jsx(ji,{})}),x.jsx(qe,{path:"services/hotel",element:x.jsx(SU,{})}),x.jsx(qe,{path:"services/hotel/new",element:x.jsx(Ui,{})}),x.jsx(qe,{path:"services/hotel/edit/:id",element:x.jsx(ji,{})}),x.jsx(qe,{path:"services/car",element:x.jsx(AU,{})}),x.jsx(qe,{path:"services/car/new",element:x.jsx(Ui,{})}),x.jsx(qe,{path:"services/car/edit/:id",element:x.jsx(ji,{})}),x.jsx(qe,{path:"services/visa",element:x.jsx(IU,{})}),x.jsx(qe,{path:"services/visa/new",element:x.jsx(Ui,{})}),x.jsx(qe,{path:"services/visa/edit/:id",element:x.jsx(ji,{})}),x.jsx(qe,{path:"services/foreign-exchange",element:x.jsx(CU,{})}),x.jsx(qe,{path:"services/foreign-exchange/new",element:x.jsx(Ui,{})}),x.jsx(qe,{path:"services/foreign-exchange/edit/:id",element:x.jsx(ji,{})}),x.jsx(qe,{path:"services/tour-package",element:x.jsx(kU,{})}),x.jsx(qe,{path:"services/tour-package/new",element:x.jsx(Ui,{})}),x.jsx(qe,{path:"services/tour-package/edit/:id",element:x.jsx(ji,{})}),x.jsx(qe,{path:"services/train",element:x.jsx(RU,{})}),x.jsx(qe,{path:"services/train/new",element:x.jsx(Ui,{})}),x.jsx(qe,{path:"services/train/edit/:id",element:x.jsx(ji,{})}),x.jsx(qe,{path:"services/vajabhat",element:x.jsx(PU,{})}),x.jsx(qe,{path:"services/vajabhat/new",element:x.jsx(Ui,{})}),x.jsx(qe,{path:"services/vajabhat/edit/:id",element:x.jsx(ji,{})})]}),x.jsx(qe,{path:"*",element:x.jsx(Dw,{to:"/",replace:!0})})]})})})})}_w(document.getElementById("root")).render(x.jsx(ee.StrictMode,{children:x.jsx(NU,{})}));
